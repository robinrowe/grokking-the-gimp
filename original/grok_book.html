<html><body>
<H1><A NAME="SECTION00100000000000000000">&#160;</A><A NAME="license">&#160;</A><BR>Copyright Notice and Open Publication License</H1><P>This copyright notice concerns the online version of:<BLOCKQUOTE><EM>Grokking the GIMP</EM> <BR>by Carey Bunks <BR>&#169;2000 by New Riders Publishing, www.newriders.com <BR>ISBN 0-7357-0924-6.</BLOCKQUOTE>This book is distributed under the <EM>Open Publication License</EM>guidelines described at<A NAME="tex2html1" HREF="http://www.opencontent.org" target="new"><TT>http://www.opencontent.org</TT></A>.  Thefollowing is the text of the license as it applies to this work:<P><PRE>I. REQUIREMENTS ON BOTH UNMODIFIED AND MODIFIED VERSIONSThis book ``Grokking the GIMP'' may be reproduced and distributed inwhole or in part, in any medium physical or electronic, provided thatthe terms of this license are adhered to, and that this license or anincorporation of it by reference is displayed in the reproduction.Proper form for an incorporation by reference is as follows:  Copyright (c) 2000 New Riders Publishing.  This material may be  distributed only subject to the terms and conditions set forth in  the Open Publication License, v1.0 or later (the latest version is  presently available at http://www.opencontent.org/openpub/).The reference must be immediately followed with the elected options(see section VI).Commercial redistribution of Open Publication-licensed material ispermitted.II. COPYRIGHTThe copyright is owned by New Riders Publishing.III. SCOPE OF LICENSEMere aggregation of this work or a portion of this work with otherworks or programs on the same media shall not cause this license toapply to those other works. The aggregate work shall contain a noticespecifying the inclusion of the Open Publication material andappropriate copyright notice.SEVERABILITY. If any part of this license is found to be unenforceablein any jurisdiction, the remaining portions of the license remain inforce.NO WARRANTY. Open Publication works are licensed and provided "as is"without warranty of any kind, express or implied, including, but notlimited to, the implied warranties of merchantability and fitness fora particular purpose or a warranty of non-infringement.IV. REQUIREMENTS ON MODIFIED WORKSAll modified versions of documents covered by this license, includingtranslations, anthologies, compilations and partial documents, mustmeet the following requirements:1) The modified version must be labeled as such.2) The person making the modifications must be identified and the    modifications dated.3) Acknowledgement of the original author and publisher if applicable    must be retained according to normal academic citation practices.4) The location of the original unmodified document must be identified.5) The original author's name may not be used to assert or imply   endorsement of the resulting document without the original author's   (or authors') permission.V. GOOD-PRACTICE RECOMMENDATIONS In addition to the requirements of this license, it is requested fromand strongly recommended of redistributors that:1) If you are distributing Open Publication works on hardcopy or   CD-ROM, you provide email notification to the authors of your   intent to redistribute at least thirty days before your manuscript   or media freeze, to give the authors time to provide updated   documents. This notification should describe modifications, if any,   made to the document.2) All substantive modifications (including deletions) be either   clearly marked up in the document or else described in an   attachment to the document.Finally, while it is not mandatory under this license, it isconsidered good form to offer a free copy of any hardcopy and CD-ROMexpression of an Open Publication-licensed work to its author.VI. ELECTED OPTIONS1) Distribution of substantively modified versions of this document is   prohibited without the explicit permission of the copyright holder.2) Distribution of the work or derivative of the work in any standard   (paper) book form is prohibited unless prior permission is obtained   from the copyright holder.  Other forms of distribution including   CD-ROM, electronic, and magnetic media are permitted.</PRE><P><HR><H1><A NAME="SECTION00200000000000000000">&#160;</A><A NAME="author">&#160;</A><BR>About the Author</H1><P>Carey Bunks is a Senior Scientist at BBN Technologies in Cambridge,Massachusetts, where he currently works on a variety of researchprojects in underwater sonar, active noise and vibration control, andnetwork security.  He received a PhD in Electrical Engineering fromthe Massachusetts Institute of Technology in 1987 and has sincespecialized in the area of signal processing.  Carey has worked onproblems of seismic imaging, image artifact filtering, and motionestimation from image data.  He has over twenty publications inscientific journals and holds several patents.<P>Carey is also a member of the development group for Scilab, anopen-source scientific and engineering computation package.  Hedeveloped the Scilab signal processing toolbox and is co-author of thebook <EM>Scientific and Engineering Computing with Scilab</EM> publishedwith Birkh&#228;user in 1999.<P>In addition, Carey is a serious student of circus and vaudeville arts.He attended the Ringling Bros. &amp; Barnum and Bailey Clown College inVenice, Florida, graduating in 1977.  An accomplished magician andjuggler, he has entertained hundreds of groups in the U.S. and Europewith his street-theater style show.  He is an authority on trickroping and is the author of the online book entitled<A NAME="tex2html2" HREF="http://www.juggling.org/books/lasso" target="new"><EM>The Lasso--A Rational Guide to Trick Roping.</EM></A><P>Carey and his wife, Homaira, live in Boston, Massachusetts.  Theyenjoy sailing, skiing, and traveling in Europe.<P><BR><DIV ALIGN="CENTER"><IMG SRC="img1.gif"ALT="kewl g1mp d00d"></DIV><BR CLEAR="ALL"><P><HR><BR><H2><A NAME="SECTION00300000000000000000">Contents</A></H2><!--Table of Contents--><UL><LI><A NAME="tex2html603" HREF="node3.html">Contents</A><LI><A NAME="tex2html604" HREF="node4.html">List of Figures</A><LI><A NAME="tex2html605" HREF="node5.html">List of Tables</A><LI><A NAME="tex2html606" HREF="node15.html">1. GIMP Basics</A><UL><LI><A NAME="tex2html607" HREF="node16.html">1.1 Introducing the GIMP Windows and Dialogs</A><UL><LI><A NAME="tex2html608" HREF="node16.html#SECTION00911000000000000000">1.1.1 The Toolbox</A><LI><A NAME="tex2html609" HREF="node16.html#SECTION00912000000000000000">1.1.2 The Image Window</A><LI><A NAME="tex2html610" HREF="node16.html#SECTION00913000000000000000">1.1.3 The Layers, Channels, and Paths Dialogs</A><LI><A NAME="tex2html611" HREF="node16.html#SECTION00914000000000000000">1.1.4 The Dialogs for Color, Brushes, Patterns, Gradients, and Palettes</A></UL><LI><A NAME="tex2html612" HREF="node17.html">1.2 Loading and Saving Images</A><LI><A NAME="tex2html613" HREF="node18.html">1.3 Creating New Images</A><LI><A NAME="tex2html614" HREF="node19.html">1.4 RGB, Grayscale, and Indexed Images</A><LI><A NAME="tex2html615" HREF="node20.html">1.5 Undoing and Redoing</A><LI><A NAME="tex2html616" HREF="node21.html">1.6 Recalling the Last Filter Dialog</A><LI><A NAME="tex2html617" HREF="node22.html">1.7 Copy, Cut, and Paste Buffers</A><LI><A NAME="tex2html618" HREF="node23.html">1.8 Zoom and New View</A><UL><LI><A NAME="tex2html619" HREF="node23.html#SECTION00981000000000000000">1.8.1 Zoom</A><LI><A NAME="tex2html620" HREF="node23.html#SECTION00982000000000000000">1.8.2 New View</A></UL><LI><A NAME="tex2html621" HREF="node24.html">1.9 The Help System</A><LI><A NAME="tex2html622" HREF="node25.html">1.10 Common Problems and <BR>Frequently Asked Questions</A></UL><LI><A NAME="tex2html623" HREF="node26.html">2. Review of Layers</A><UL><LI><A NAME="tex2html624" HREF="node27.html">2.1 Layers and the Role They Play in Images</A><UL><LI><A NAME="tex2html625" HREF="node27.html#SECTION001011000000000000000">2.1.1 The Layers Dialog</A><LI><A NAME="tex2html626" HREF="node27.html#SECTION001012000000000000000">2.1.2 The Layers Menu</A></UL><LI><A NAME="tex2html627" HREF="node28.html">2.2 Channels and Their Relationship <BR>to Layers</A><UL><LI><A NAME="tex2html628" HREF="node28.html#SECTION001021000000000000000">2.2.1 The Channels Dialog</A></UL><LI><A NAME="tex2html629" HREF="node29.html">2.3 Layer Creation, Deletion, Duplication, and Organization</A><UL><LI><A NAME="tex2html630" HREF="node29.html#SECTION001031000000000000000">2.3.1 Creating New Layers</A><LI><A NAME="tex2html631" HREF="node29.html#SECTION001032000000000000000">2.3.2 Raising Layers</A><LI><A NAME="tex2html632" HREF="node29.html#SECTION001033000000000000000">2.3.3 Lowering Layers</A><LI><A NAME="tex2html633" HREF="node29.html#SECTION001034000000000000000">2.3.4 Duplicating Layers</A><LI><A NAME="tex2html634" HREF="node29.html#SECTION001035000000000000000">2.3.5 Deleting Layers</A></UL><LI><A NAME="tex2html635" HREF="node30.html">2.4 Layer Export and Import</A><LI><A NAME="tex2html636" HREF="node31.html">2.5 Floats</A><UL><LI><A NAME="tex2html637" HREF="node31.html#SECTION001051000000000000000">2.5.1 Automatic Creation of Floats</A><LI><A NAME="tex2html638" HREF="node31.html#SECTION001052000000000000000">2.5.2 Explicit Creation of Floats</A><LI><A NAME="tex2html639" HREF="node31.html#SECTION001053000000000000000">2.5.3 Anchoring Floats</A></UL><LI><A NAME="tex2html640" HREF="node32.html">2.6 Manipulating Layers</A><UL><LI><A NAME="tex2html641" HREF="node32.html#SECTION001061000000000000000">2.6.1 Positioning Layers</A><LI><A NAME="tex2html642" HREF="node32.html#SECTION001062000000000000000">2.6.2 Resizing and Scaling</A><LI><A NAME="tex2html643" HREF="node32.html#SECTION001063000000000000000">2.6.3 Flipping</A><LI><A NAME="tex2html644" HREF="node32.html#SECTION001064000000000000000">2.6.4 Rotating in 90<SUP><I>o</I></SUP> Increments</A><LI><A NAME="tex2html645" HREF="node32.html#SECTION001065000000000000000">2.6.5 The Transform Tool</A></UL><LI><A NAME="tex2html646" HREF="node33.html">2.7 Combining Layers</A><UL><LI><A NAME="tex2html647" HREF="node33.html#SECTION001071000000000000000">2.7.1 Merging</A><LI><A NAME="tex2html648" HREF="node33.html#SECTION001072000000000000000">2.7.2 Flattening</A></UL><LI><A NAME="tex2html649" HREF="node34.html">2.8 Common Problems and <BR>Frequently Asked Questions</A></UL><LI><A NAME="tex2html650" HREF="node35.html">3. Selections</A><UL><LI><A NAME="tex2html651" HREF="node36.html">3.1 The Basic Selection Tools</A><UL><LI><A NAME="tex2html652" HREF="node36.html#SECTION001111000000000000000">3.1.1 The Six Selection Tools from the Toolbox</A><LI><A NAME="tex2html653" HREF="node36.html#SECTION001112000000000000000">3.1.2 Selection Tool Options</A></UL><LI><A NAME="tex2html654" HREF="node37.html">3.2 Combining Selections</A><UL><LI><A NAME="tex2html655" HREF="node37.html#SECTION001121000000000000000">3.2.1 Adding</A><LI><A NAME="tex2html656" HREF="node37.html#SECTION001122000000000000000">3.2.2 Subtracting</A><LI><A NAME="tex2html657" HREF="node37.html#SECTION001123000000000000000">3.2.3 Intersecting</A><LI><A NAME="tex2html658" HREF="node37.html#SECTION001124000000000000000">3.2.4 Using Add, Subtract, and Intersect with the Rectangleand Ellipse Selection Tool Features</A><LI><A NAME="tex2html659" HREF="node37.html#SECTION001125000000000000000">3.2.5 Moving a Selection Boundary</A></UL><LI><A NAME="tex2html660" HREF="node38.html">3.3 The Select Menu and Friends</A><UL><LI><A NAME="tex2html661" HREF="node38.html#SECTION001131000000000000000">3.3.1 The <TT>Invert</TT> Function</A><LI><A NAME="tex2html662" HREF="node38.html#SECTION001132000000000000000">3.3.2 The <TT>All</TT> Function</A><LI><A NAME="tex2html663" HREF="node38.html#SECTION001133000000000000000">3.3.3 The <TT>None</TT> Function</A><LI><A NAME="tex2html664" HREF="node38.html#SECTION001134000000000000000">3.3.4 The <TT>Float</TT> Function</A><LI><A NAME="tex2html665" HREF="node38.html#SECTION001135000000000000000">3.3.5 The <TT>Feather</TT> Function</A><LI><A NAME="tex2html666" HREF="node38.html#SECTION001136000000000000000">3.3.6 The <TT>Sharpen</TT> Function</A><LI><A NAME="tex2html667" HREF="node38.html#SECTION001137000000000000000">3.3.7 The <TT>Shrink</TT> Function</A><LI><A NAME="tex2html668" HREF="node38.html#SECTION001138000000000000000">3.3.8 The <TT>Grow</TT> Function</A><LI><A NAME="tex2html669" HREF="node38.html#SECTION001139000000000000000">3.3.9 The <TT>Border</TT> Function</A><LI><A NAME="tex2html670" HREF="node38.html#SECTION0011310000000000000000">3.3.10 The <TT>Save to Channel</TT> Function</A><LI><A NAME="tex2html671" HREF="node38.html#SECTION0011311000000000000000">3.3.11 The <TT>By Color</TT> Function</A><LI><A NAME="tex2html672" HREF="node38.html#SECTION0011312000000000000000">3.3.12 The <TT>To Path</TT> Function</A><LI><A NAME="tex2html673" HREF="node38.html#SECTION0011313000000000000000">3.3.13 The <TT>Toggle Selection</TT> Function</A><LI><A NAME="tex2html674" HREF="node38.html#SECTION0011314000000000000000">3.3.14 <TT>Copy</TT>, <TT>Cut</TT>, and <TT>Paste</TT></A><LI><A NAME="tex2html675" HREF="node38.html#SECTION0011315000000000000000">3.3.15 <TT>Stroke</TT></A></UL><LI><A NAME="tex2html676" HREF="node39.html">3.4 The Paths Dialog</A><UL><LI><A NAME="tex2html677" HREF="node39.html#SECTION001141000000000000000">3.4.1 The Paths Palette</A><LI><A NAME="tex2html678" HREF="node39.html#SECTION001142000000000000000">3.4.2 The Control Point Mode Buttons</A><LI><A NAME="tex2html679" HREF="node39.html#SECTION001143000000000000000">3.4.3 The Paths Menu</A><LI><A NAME="tex2html680" HREF="node39.html#SECTION001144000000000000000">3.4.4 The Paths Button Bar</A></UL><LI><A NAME="tex2html681" HREF="node40.html">3.5 Using Selections Effectively</A><UL><LI><A NAME="tex2html682" HREF="node40.html#SECTION001151000000000000000">3.5.1 General Selection Tool Guidelines</A><LI><A NAME="tex2html683" HREF="node40.html#SECTION001152000000000000000">3.5.2 Tool Conjugation</A><LI><A NAME="tex2html684" HREF="node40.html#SECTION001153000000000000000">3.5.3 Using <TT>Zoom</TT></A><LI><A NAME="tex2html685" HREF="node40.html#SECTION001154000000000000000">3.5.4 Selections and Guides</A></UL><LI><A NAME="tex2html686" HREF="node41.html">3.6 Common Problems and <BR>Frequently Asked Questions</A></UL><LI><A NAME="tex2html687" HREF="node42.html">4. Masks</A><UL><LI><A NAME="tex2html688" HREF="node43.html">4.1 Channel Masks</A><UL><LI><A NAME="tex2html689" HREF="node43.html#SECTION001211000000000000000">4.1.1 The Channels Dialog</A><LI><A NAME="tex2html690" HREF="node43.html#SECTION001212000000000000000">4.1.2 Saving Selections to Channel Masks</A><LI><A NAME="tex2html691" HREF="node43.html#SECTION001213000000000000000">4.1.3 Making Channel Masks Visible</A><LI><A NAME="tex2html692" HREF="node43.html#SECTION001214000000000000000">4.1.4 Setting a Channel Mask's Color, Transparency, and Title</A><LI><A NAME="tex2html693" HREF="node43.html#SECTION001215000000000000000">4.1.5 The Channels Menu</A><LI><A NAME="tex2html694" HREF="node43.html#SECTION001216000000000000000">4.1.6 Combining Channels</A><LI><A NAME="tex2html695" HREF="node43.html#SECTION001217000000000000000">4.1.7 Partially Selected Pixels</A></UL><LI><A NAME="tex2html696" HREF="node44.html">4.2 Layer Masks</A><UL><LI><A NAME="tex2html697" HREF="node44.html#SECTION001221000000000000000">4.2.1 Creating a Layer Mask</A><LI><A NAME="tex2html698" HREF="node44.html#SECTION001222000000000000000">4.2.2 Manipulating the Layer Mask</A></UL><LI><A NAME="tex2html699" HREF="node45.html">4.3 Basic Tools for Working with Channel and Layer Masks</A><UL><LI><A NAME="tex2html700" HREF="node45.html#SECTION001231000000000000000">4.3.1 Painting Tools</A><LI><A NAME="tex2html701" HREF="node45.html#SECTION001232000000000000000">4.3.2 Selection Tools</A><LI><A NAME="tex2html702" HREF="node45.html#SECTION001233000000000000000">4.3.3 Gradients</A><LI><A NAME="tex2html703" HREF="node45.html#SECTION001234000000000000000">4.3.4 Transparency as a Tool for Editing Masks</A><LI><A NAME="tex2html704" HREF="node45.html#SECTION001235000000000000000">4.3.5 Blurring of Masks and Other Effects</A></UL><LI><A NAME="tex2html705" HREF="node46.html">4.4 Conversions of Selections, Channel Masks, <BR>Layer Masks, and Alpha Channels</A><LI><A NAME="tex2html706" HREF="node47.html">4.5 Masks and Selections</A><UL><LI><A NAME="tex2html707" HREF="node47.html#SECTION001251000000000000000">4.5.1 Using Masks to Refine Selections</A><LI><A NAME="tex2html708" HREF="node47.html#SECTION001252000000000000000">4.5.2 The Quick Mask</A><LI><A NAME="tex2html709" HREF="node47.html#SECTION001253000000000000000">4.5.3 Finding the Natural Mask</A></UL><LI><A NAME="tex2html710" HREF="node48.html">4.6 Common Problems and <BR>Frequently Asked Questions</A></UL><LI><A NAME="tex2html711" HREF="node49.html">5. Colorspaces and Blending Modes</A><UL><LI><A NAME="tex2html712" HREF="node50.html">5.1 The RGB Colorspace</A><LI><A NAME="tex2html713" HREF="node51.html">5.2 The HSV Colorspace</A><LI><A NAME="tex2html714" HREF="node52.html">5.3 Relating HSV to RGB</A><LI><A NAME="tex2html715" HREF="node53.html">5.4 The Subtractive Color Systems CMY <BR>and CMYK</A><LI><A NAME="tex2html716" HREF="node54.html">5.5 Conversion to Grayscale</A><LI><A NAME="tex2html717" HREF="node55.html">5.6 The Blending Modes</A><UL><LI><A NAME="tex2html718" HREF="node55.html#SECTION001361000000000000000">5.6.1 The <TT>Normal</TT>, <TT>Dissolve</TT>, and <TT>Behind</TT>Blending Modes</A><LI><A NAME="tex2html719" HREF="node55.html#SECTION001362000000000000000">5.6.2 The <TT>Addition</TT>, <TT>Subtract</TT>, and <TT>Difference</TT>Blending Modes</A><LI><A NAME="tex2html720" HREF="node55.html#SECTION001363000000000000000">5.6.3 The <TT>Multiply (Burn)</TT>, <TT>Divide (Dodge)</TT>, <TT>Screen</TT>,and <TT>Overlay</TT> Blending Modes</A><LI><A NAME="tex2html721" HREF="node55.html#SECTION001364000000000000000">5.6.4 The <TT>Darken Only</TT> and <TT>Lighten Only</TT> Blending Modes</A><LI><A NAME="tex2html722" HREF="node55.html#SECTION001365000000000000000">5.6.5 The <TT>Hue</TT>, <TT>Saturation</TT>, <TT>Value</TT>, and <TT>Color</TT> Blending Modes</A></UL><LI><A NAME="tex2html723" HREF="node56.html">5.7 Opacity and Transparency</A><LI><A NAME="tex2html724" HREF="node57.html">5.8 Practical Uses of Blending Modes</A><UL><LI><A NAME="tex2html725" HREF="node57.html#SECTION001381000000000000000">5.8.1 Colorization</A><LI><A NAME="tex2html726" HREF="node57.html#SECTION001382000000000000000">5.8.2 Realistic Shadows and Highlights</A></UL><LI><A NAME="tex2html727" HREF="node58.html">5.9 Common Problems and <BR>Frequently Asked Questions</A></UL><LI><A NAME="tex2html728" HREF="node59.html">6. Touchup and Enhancement</A><UL><LI><A NAME="tex2html729" HREF="node60.html">6.1 Improving Tonal Range</A><UL><LI><A NAME="tex2html730" HREF="node60.html#SECTION001411000000000000000">6.1.1 Highlights and Shadows</A><LI><A NAME="tex2html731" HREF="node60.html#SECTION001412000000000000000">6.1.2 Using the <TT>Levels</TT> Tool</A></UL><LI><A NAME="tex2html732" HREF="node61.html">6.2 Removing Color Casts</A><UL><LI><A NAME="tex2html733" HREF="node61.html#SECTION001421000000000000000">6.2.1 The <TT>Curves</TT> Tool</A><LI><A NAME="tex2html734" HREF="node61.html#SECTION001422000000000000000">6.2.2 Color Correcting by Balancing the Neutrals</A><LI><A NAME="tex2html735" HREF="node61.html#SECTION001423000000000000000">6.2.3 Finding the Shadow, Midtone, and Highlight</A><LI><A NAME="tex2html736" HREF="node61.html#SECTION001424000000000000000">6.2.4 Other Colors We Know</A><LI><A NAME="tex2html737" HREF="node61.html#SECTION001425000000000000000">6.2.5 The Perturbation Technique</A><LI><A NAME="tex2html738" HREF="node61.html#SECTION001426000000000000000">6.2.6 Getting More Detail into the Subject</A><LI><A NAME="tex2html739" HREF="node61.html#SECTION001427000000000000000">6.2.7 Other Color Correcting Tools</A></UL><LI><A NAME="tex2html740" HREF="node62.html">6.3 Repairing Blemishes with the Clone Tool</A><LI><A NAME="tex2html741" HREF="node63.html">6.4 Sharpening</A><UL><LI><A NAME="tex2html742" HREF="node63.html#SECTION001441000000000000000">6.4.1 The <TT>Unsharp Mask</TT> Concept</A><LI><A NAME="tex2html743" HREF="node63.html#SECTION001442000000000000000">6.4.2 A Simplified but Illustrative Example</A><LI><A NAME="tex2html744" HREF="node63.html#SECTION001443000000000000000">6.4.3 A Representative Example ofApplying <BR>the <TT>Unsharp Mask</TT></A><LI><A NAME="tex2html745" HREF="node63.html#SECTION001444000000000000000">6.4.4 <TT>Unsharp Mask</TT> Pitfalls</A></UL><LI><A NAME="tex2html746" HREF="node64.html">6.5 A Case Study</A></UL><LI><A NAME="tex2html747" HREF="node65.html">7. Compositing</A><UL><LI><A NAME="tex2html748" HREF="node66.html">7.1 Project 1: Fish on Holiday!</A><LI><A NAME="tex2html749" HREF="node67.html">7.2 Project 2: Through the Looking Glass</A><LI><A NAME="tex2html750" HREF="node68.html">7.3 Project 3: Destination Saturn</A><LI><A NAME="tex2html751" HREF="node69.html">7.4 Project 4: The Call of the Mermaid</A><LI><A NAME="tex2html752" HREF="node70.html">7.5 Project 5: Panoramas</A><UL><LI><A NAME="tex2html753" HREF="node70.html#SECTION001551000000000000000">7.5.1 Correcting Geometric Distortions</A><LI><A NAME="tex2html754" HREF="node70.html#SECTION001552000000000000000">7.5.2 Color and Brightness Matching</A><LI><A NAME="tex2html755" HREF="node70.html#SECTION001553000000000000000">7.5.3 Blending</A><LI><A NAME="tex2html756" HREF="node70.html#SECTION001554000000000000000">7.5.4 Final Touches</A></UL></UL><LI><A NAME="tex2html757" HREF="node71.html">8. Rendering Techniques</A><UL><LI><A NAME="tex2html758" HREF="node72.html">8.1 The <TT>Bucket Fill</TT> Tool</A><LI><A NAME="tex2html759" HREF="node73.html">8.2 Gradient Rendering Techniques</A><LI><A NAME="tex2html760" HREF="node74.html">8.3 The <TT>Emboss</TT> and <TT>Bump map</TT> Filters</A><LI><A NAME="tex2html761" HREF="node75.html">8.4 Shadows</A><LI><A NAME="tex2html762" HREF="node76.html">8.5 Rendering Project I: Drop Shadow and Punchout</A><LI><A NAME="tex2html763" HREF="node77.html">8.6 Rendering Project II: A Carved Stencil</A><LI><A NAME="tex2html764" HREF="node78.html">8.7 Rendering Project III: Chiseled Text</A></UL><LI><A NAME="tex2html765" HREF="node79.html">9. Web-Centric GIMP</A><UL><LI><A NAME="tex2html766" HREF="node80.html">9.1 Web Animations</A><UL><LI><A NAME="tex2html767" HREF="node80.html#SECTION001711000000000000000">9.1.1 Using GIF Files for Animation</A><LI><A NAME="tex2html768" HREF="node80.html#SECTION001712000000000000000">9.1.2 GIMP Layers Can Behave Like Animation Frames</A><LI><A NAME="tex2html769" HREF="node80.html#SECTION001713000000000000000">9.1.3 Saving Animations to GIF</A><LI><A NAME="tex2html770" HREF="node80.html#SECTION001714000000000000000">9.1.4 A Second Example of Creating a GIF Animation</A><LI><A NAME="tex2html771" HREF="node80.html#SECTION001715000000000000000">9.1.5 Animation Optimization</A><LI><A NAME="tex2html772" HREF="node80.html#SECTION001716000000000000000">9.1.6 IWarp</A></UL><LI><A NAME="tex2html773" HREF="node81.html">9.2  Clickable Image Maps</A><LI><A NAME="tex2html774" HREF="node82.html">9.3 Type Effects</A><LI><A NAME="tex2html775" HREF="node83.html">9.4 Tileable Backgrounds</A><LI><A NAME="tex2html776" HREF="node84.html">9.5 Web-Safe Color</A><UL><LI><A NAME="tex2html777" HREF="node84.html#SECTION001751000000000000000">9.5.1 Types of Color Distortion</A><LI><A NAME="tex2html778" HREF="node84.html#SECTION001752000000000000000">9.5.2 Low-Color Systems and Web Browser <BR>Color Palettes</A><LI><A NAME="tex2html779" HREF="node84.html#SECTION001753000000000000000">9.5.3 Converting to Indexed Color</A><LI><A NAME="tex2html780" HREF="node84.html#SECTION001754000000000000000">9.5.4 What Is the Best Choice?</A></UL><LI><A NAME="tex2html781" HREF="node85.html">9.6 Semi-Transparency and Indexed Images</A><LI><A NAME="tex2html782" HREF="node86.html">9.7 Which Format GIF or JPEG?</A></UL><LI><A NAME="tex2html783" HREF="node87.html">Bibliography</A><LI><A NAME="tex2html784" HREF="node88.html">10. GIMP Resources</A><LI><A NAME="tex2html785" HREF="node89.html">11. Keyboard Shortcuts</A><LI><A NAME="tex2html786" HREF="node90.html">Index</A></UL><!--End of Table of Contents--><HR><BR><H2><A NAME="SECTION00400000000000000000">List of Figures</A></H2><UL><UL><LI><A NAME="tex2html4" HREF="node11.html#275">1 Convention for Describing Paths to Functions Found in theImage Menu</A><LI><A NAME="tex2html5" HREF="node11.html#317">2 Conventions for Describing Paths for Functions Found in the Toolbox</A><LI><A NAME="tex2html6" HREF="node11.html#361">3 Names of the Toolbox Icons</A><LI><A NAME="tex2html7" HREF="node12.html#394">4 Specifying GIMP Memory Usage</A><LI><A NAME="tex2html8" HREF="node13.html#464">5 Graphic Interface for Web Mirroring Software: GetWeb</A><LI><A NAME="tex2html10" HREF="node16.html#837">1.1 The Toolbox Window</A><LI><A NAME="tex2html11" HREF="node16.html#867">1.2 The Image Window</A><LI><A NAME="tex2html12" HREF="node16.html#920">1.3 The Layers, Channels, and Paths Dialogs</A><LI><A NAME="tex2html13" HREF="node16.html#1290">1.4 The <TT> Color Selection</TT> Dialog</A><LI><A NAME="tex2html14" HREF="node16.html#957">1.5 The Brush Selection Dialog</A><LI><A NAME="tex2html15" HREF="node16.html#967">1.6 The Pattern Selection Dialog</A><LI><A NAME="tex2html16" HREF="node16.html#977">1.7 The Gradients Dialog</A><LI><A NAME="tex2html17" HREF="node16.html#990">1.8 The Color Palette Dialog</A><LI><A NAME="tex2html18" HREF="node17.html#1011">1.9 Loading Images into the GIMP</A><LI><A NAME="tex2html19" HREF="node17.html#1039">1.10 Saving Images</A><LI><A NAME="tex2html20" HREF="node18.html#1063">1.11 Creating New Images</A><LI><A NAME="tex2html21" HREF="node20.html#1101">1.12 Setting the Number of Undo Levels</A><LI><A NAME="tex2html22" HREF="node20.html#1112">1.13 Working with the Undo History Dialog</A><LI><A NAME="tex2html23" HREF="node22.html#1301">1.14 Using the <TT> Copy Named</TT> Buffer</A><LI><A NAME="tex2html24" HREF="node22.html#1303">1.15 Using the <TT> Paste Named</TT> Buffer</A><LI><A NAME="tex2html25" HREF="node23.html#1194">1.16 Using Zoom</A><LI><A NAME="tex2html26" HREF="node23.html#1227">1.17 Using Zoom with the Navigation Window</A><LI><A NAME="tex2html27" HREF="node23.html#1247">1.18 Using New View</A><LI><A NAME="tex2html28" HREF="node24.html#1265">1.19 The Help System Browser</A><LI><A NAME="tex2html29" HREF="node27.html#1860">2.1 A Three-Layer Image</A><LI><A NAME="tex2html30" HREF="node27.html#1868">2.2 Visualizing the Layer Stack in 3D</A><LI><A NAME="tex2html31" HREF="node27.html#1888">2.3 Layers Dialog</A><LI><A NAME="tex2html32" HREF="node27.html#1896">2.4 Layers Dialog Detail</A><LI><A NAME="tex2html33" HREF="node27.html#1926">2.5 Layers Menu</A><LI><A NAME="tex2html34" HREF="node28.html#1938">2.6 Image Component Hierarchy: Each Layer Consists of a Matrix ofPixels, and Each Pixel is Constructed of an R, G, B, and A Channel</A><LI><A NAME="tex2html36" HREF="node28.html#1953">2.7 Channels Dialog</A><LI><A NAME="tex2html37" HREF="node30.html#2538">2.8 Two Images to Illustrate the Use of <TT> Copy</TT> and <TT> Paste</TT></A><LI><A NAME="tex2html38" HREF="node30.html#2046">2.9 Importing the First Pasted Image</A><LI><A NAME="tex2html39" HREF="node30.html#2065">2.10 Creation of New Layer</A><LI><A NAME="tex2html40" HREF="node30.html#2087">2.11 Importing the Second Pasted Image</A><LI><A NAME="tex2html41" HREF="node31.html#2109">2.12 A Moved Selection Becomes a Float</A><LI><A NAME="tex2html42" HREF="node32.html#2154">2.13 Images to be Aligned with Guides</A><LI><A NAME="tex2html43" HREF="node32.html#2160">2.14 Images Aligned with Guides</A><LI><A NAME="tex2html44" HREF="node32.html#2202">2.15 Image Scaling</A><LI><A NAME="tex2html45" HREF="node32.html#2222">2.16 Image Resizing (Original Becomes Smaller)</A><LI><A NAME="tex2html46" HREF="node32.html#2548">2.17 Resizing Using the <TT> Crop</TT> Tool</A><LI><A NAME="tex2html47" HREF="node32.html#2257">2.18 Image Resizing (Original Becomes Larger)</A><LI><A NAME="tex2html48" HREF="node32.html#2305">2.19 Resizing a Layer Smaller: Floating a Rectangular Selection</A><LI><A NAME="tex2html49" HREF="node32.html#2310">2.20 Resizing a Layer Smaller: Anchoring the Float to a New Layer and Deletingthe Old Layer</A><LI><A NAME="tex2html50" HREF="node32.html#2331">2.21 The Resulting Resized Layer</A><LI><A NAME="tex2html51" HREF="node32.html#2554">2.22 Using the <TT> Flip</TT> tool</A><LI><A NAME="tex2html52" HREF="node32.html#2368">2.23 Image and Layer Rotate Menus</A><LI><A NAME="tex2html53" HREF="node32.html#2381">2.24 Transform Tool Dialog</A><LI><A NAME="tex2html54" HREF="node32.html#2395">2.25 Initiating the Rotation Transformation</A><LI><A NAME="tex2html55" HREF="node32.html#2401">2.26 Finalizing the Rotation Transformation</A><LI><A NAME="tex2html56" HREF="node32.html#2431">2.27 The Scaling Transformation</A><LI><A NAME="tex2html57" HREF="node32.html#2449">2.28 The Shear Transformation</A><LI><A NAME="tex2html58" HREF="node32.html#2462">2.29 The Perspective Transformation</A><LI><A NAME="tex2html59" HREF="node36.html#3345">3.1 Toolbox Selection Tools</A><LI><A NAME="tex2html60" HREF="node36.html#4073">3.2 The <TT> Rectangle Select</TT> and <TT> Ellipse Select</TT> Tools</A><LI><A NAME="tex2html61" HREF="node36.html#4075">3.3 Making Perfectly Square and Circular Selections with the <TT>Rectangle Select</TT> and <TT> Ellipse Select</TT> Tools</A><LI><A NAME="tex2html62" HREF="node36.html#4078">3.4 A <TT> Lasso</TT> Selection</A><LI><A NAME="tex2html63" HREF="node36.html#4081">3.5 A <TT> Magic Wand</TT> Seed Pixel and Selection</A><LI><A NAME="tex2html64" HREF="node36.html#3462">3.6 Using the Bezier Control Points and Handles: (a) A Bezierpath, (b) Simultaneously manipulating two control handles of a controlpoint, (c) Manipulating an individual control handle, and (d) Moving acontrol point.</A><LI><A NAME="tex2html65" HREF="node36.html#3477">3.7 Creating a Bezier Path</A><LI><A NAME="tex2html66" HREF="node36.html#3483">3.8 Manipulating the Control Handles of a Bezier Control Point</A><LI><A NAME="tex2html67" HREF="node36.html#3489">3.9 Selection Created from the Bezier Path</A><LI><A NAME="tex2html68" HREF="node36.html#3500">3.10 The Required Number of Bezier Control Points?</A><LI><A NAME="tex2html69" HREF="node36.html#3521">3.11 How Antialiasing Works</A><LI><A NAME="tex2html70" HREF="node36.html#3538">3.12 A Practical Example of Using Antialiasing</A><LI><A NAME="tex2html71" HREF="node36.html#3564">3.13 The Effect of Feathering</A><LI><A NAME="tex2html72" HREF="node36.html#3585">3.14 The Sample Merged Option</A><LI><A NAME="tex2html73" HREF="node37.html#3610">3.15 Combining Selections</A><LI><A NAME="tex2html74" HREF="node38.html#4103">3.16 The Effect of <TT> Border</TT></A><LI><A NAME="tex2html75" HREF="node38.html#3747">3.17 Saving a Selection to a Channel</A><LI><A NAME="tex2html76" HREF="node38.html#4108">3.18 The <TT> By Color</TT> Selection Tool</A><LI><A NAME="tex2html77" HREF="node38.html#3792">3.19 Converting a Selection to a Bezier Path</A><LI><A NAME="tex2html78" HREF="node38.html#3848">3.20 The Effect of Stroke</A><LI><A NAME="tex2html79" HREF="node39.html#3861">3.21 The Bezier Paths Dialog</A><LI><A NAME="tex2html80" HREF="node39.html#3875">3.22 Making a Path Visible in the Image Window and Changing a PathTitle</A><LI><A NAME="tex2html81" HREF="node39.html#3888">3.23 Applying the Transform Lock to a Path</A><LI><A NAME="tex2html82" HREF="node39.html#3917">3.24 The Paths Menu</A><LI><A NAME="tex2html83" HREF="node40.html#3990">3.25 Selection Tool Teamwork</A><LI><A NAME="tex2html84" HREF="node40.html#4022">3.26 Using Zoom to Aid with Selections</A><LI><A NAME="tex2html85" HREF="node40.html#4046">3.27 Positioning an Elliptical Selection Using the Guides</A><LI><A NAME="tex2html86" HREF="node43.html#5187">4.1 The Channels Dialog</A><LI><A NAME="tex2html87" HREF="node43.html#5210">4.2 Saving a Selection to a Channel Mask</A><LI><A NAME="tex2html88" HREF="node43.html#5226">4.3 Viewing a Raw Channel Mask in the Image Window</A><LI><A NAME="tex2html89" HREF="node43.html#5233">4.4 Viewing an Image Layer Through the Channel Mask</A><LI><A NAME="tex2html90" HREF="node43.html#5248">4.5 Changing a Channel Mask's Color, Opacity, and Title</A><LI><A NAME="tex2html91" HREF="node43.html#5265">4.6 The Channels Menu</A><LI><A NAME="tex2html92" HREF="node43.html#5293">4.7 Two Channel Masks</A><LI><A NAME="tex2html93" HREF="node43.html#5302">4.8 Converting the First Mask to a Selection</A><LI><A NAME="tex2html94" HREF="node43.html#5314">4.9 Converting the Second Mask to a Selection and Adding it to the First</A><LI><A NAME="tex2html95" HREF="node43.html#5325">4.10 Creating the Combined Channel Mask</A><LI><A NAME="tex2html96" HREF="node44.html#5350">4.11 The Layers Menu</A><LI><A NAME="tex2html97" HREF="node44.html#5365">4.12 The Creation of a Layer Mask</A><LI><A NAME="tex2html98" HREF="node44.html#5381">4.13 Toggling from an Active Layer Mask to an Active Layer Image</A><LI><A NAME="tex2html99" HREF="node44.html#6008">4.14 Editing a Layer Mask Edits the Image Layer's Alpha Channel</A><A NAME="5388">&#160;</A><LI><A NAME="tex2html100" HREF="node44.html#5400">4.15 Viewing Only the Mask in the Image Window</A><LI><A NAME="tex2html101" HREF="node44.html#5410">4.16 Suppressing the Effect of the Layer Mask in the Image Window</A><LI><A NAME="tex2html102" HREF="node45.html#5452">4.17 Using Painting Tools on a Channel Mask</A><LI><A NAME="tex2html103" HREF="node45.html#5476">4.18 Using Selection Tools on a Channel Mask: Addition</A><LI><A NAME="tex2html104" HREF="node45.html#5489">4.19 Using Selection Tools on a Channel Mask: Subtraction</A><LI><A NAME="tex2html105" HREF="node45.html#5506">4.20 Two Images</A><LI><A NAME="tex2html106" HREF="node45.html#5514">4.21 Pasting and Positioning the Shuttle Over the Lunar Module</A><LI><A NAME="tex2html107" HREF="node45.html#5530">4.22 Two Images Blended Using a Gradient in a Layer Mask</A><LI><A NAME="tex2html108" HREF="node45.html#6018">4.23 The <TT> Brush Selection</TT> Dialog and the Mode Menu</A><LI><A NAME="tex2html109" HREF="node45.html#5555">4.24 Using Blending Modes to Combine Gradients</A><LI><A NAME="tex2html110" HREF="node45.html#6021">4.25 Custom Blending in the Upper Portion of the Image byCombining Additional Gradients Using the <TT> Multiply</TT> and <TT>Screen</TT> Modes</A><LI><A NAME="tex2html111" HREF="node45.html#6023">4.26 Compare <TT> Darken Only</TT> and <TT> Lighten Only</TT> with <TT>Multiply</TT> and <TT> Screen</TT> in Figure&nbsp;</A><A HREF="node45.html#f.masks.gradient-options2">4.24</A><LI><A NAME="tex2html112" HREF="node45.html#5616">4.27 Image with Two Layers and a Layer Mask</A><LI><A NAME="tex2html113" HREF="node45.html#6026">4.28 Decreasing the Opacity of the Top Layer and the SelectionObtained Using the <TT> Bezier Path</TT> Tool</A><LI><A NAME="tex2html114" HREF="node45.html#5635">4.29 The Result of Editing the Layer Mask</A><LI><A NAME="tex2html115" HREF="node45.html#5648">4.30 An Image and a Mask</A><LI><A NAME="tex2html116" HREF="node45.html#5657">4.31 Aliased Mask Edge Softened Using Blur Filter</A><LI><A NAME="tex2html117" HREF="node45.html#6031">4.32 Applying the <TT> Waves</TT> Filter to the Wood Duck Mask</A><LI><A NAME="tex2html118" HREF="node45.html#6033">4.33 Applying the <TT> Glass Tile</TT> Filter to the Wood Duck Mask</A><LI><A NAME="tex2html119" HREF="node45.html#6035">4.34 Applying the <TT> Spread</TT> Filter to the Wood Duck Mask</A><LI><A NAME="tex2html120" HREF="node46.html#5714">4.35 Selections, Channel Masks, Alpha Channels, and Layer Masks: Table of Conversions</A><LI><A NAME="tex2html121" HREF="node47.html#5728">4.36 Image Illustrating a Selection</A><LI><A NAME="tex2html122" HREF="node47.html#5735">4.37 A Mask Converted from the Selection</A><LI><A NAME="tex2html123" HREF="node47.html#5745">4.38 Illustrating the Three Basic Selection Problems</A><LI><A NAME="tex2html124" HREF="node47.html#6041">4.39 Introducing the <TT> Airbrush</TT> Tool</A><LI><A NAME="tex2html125" HREF="node47.html#6043">4.40 Solving the Three Basic Selection Problems with the <TT> Airbrush</TT> Tool</A><LI><A NAME="tex2html126" HREF="node47.html#5803">4.41 Using the Quick Mask</A><LI><A NAME="tex2html127" HREF="node47.html#5814">4.42 Quick Mask Options</A><LI><A NAME="tex2html128" HREF="node47.html#5839">4.43 Pasting the Image into Its Own Channel Mask</A><LI><A NAME="tex2html129" HREF="node47.html#6049">4.44 Applying <TT> Threshold</TT> to the Channel Mask</A><LI><A NAME="tex2html130" HREF="node47.html#5867">4.45 The Resulting Mask Defects as Seen in the Image Window</A><LI><A NAME="tex2html131" HREF="node47.html#6052">4.46 Using the <TT> Lasso</TT> Tool to Remove Defect Regions</A><LI><A NAME="tex2html132" HREF="node47.html#6054">4.47 Using the <TT> Paintbrush</TT> Tool to Fill in Missing Regions</A><LI><A NAME="tex2html133" HREF="node47.html#5906">4.48 Converting the Mask to a Selection</A><LI><A NAME="tex2html134" HREF="node47.html#6058">4.49 A Flower Image and the <TT> Decompose</TT> dialog</A><LI><A NAME="tex2html135" HREF="node47.html#5963">4.50 The RGB and HSV Decompositions of the Flower</A><LI><A NAME="tex2html136" HREF="node50.html#7004">5.1 Representing a Color with an RGB Triple: Purple=<!-- MATH: $172^R 83^G232^B$ -->172<SUP><I>R</I></SUP> 83<SUP><I>G</I></SUP>232<SUP><I>B</I></SUP></A><LI><A NAME="tex2html137" HREF="node50.html#7013">5.2 The RGB Color Cube</A><LI><A NAME="tex2html138" HREF="node51.html#7031">5.3 Hue, Saturation, and Value</A><LI><A NAME="tex2html139" HREF="node51.html#7046">5.4 Decomposing a Color Image into its HSV Components</A><LI><A NAME="tex2html140" HREF="node52.html#7069">5.5 Planes of Constant Brightness in the RGB Cube</A><LI><A NAME="tex2html141" HREF="node52.html#7086">5.6 Different Projections Onto the Neutral Axis</A><LI><A NAME="tex2html142" HREF="node52.html#7095">5.7 Cones of Constant Saturation in the RGB Cube</A><LI><A NAME="tex2html143" HREF="node52.html#7106">5.8 Wedges of Constant Hue in the RGB Cube</A><LI><A NAME="tex2html144" HREF="node52.html#7115">5.9 The HSV Coordinates in the RGB Color Cube</A><LI><A NAME="tex2html145" HREF="node54.html#7145">5.10 The Three Methods for Converting to Grayscale</A><LI><A NAME="tex2html146" HREF="node55.html#7183">5.11 The Blending Mode Menus</A><LI><A NAME="tex2html148" HREF="node55.html#7651">5.12 The <TT> Dissolve</TT> Blending Mode</A><LI><A NAME="tex2html149" HREF="node55.html#7653">5.13 The <TT> Behind</TT> Blending Mode</A><LI><A NAME="tex2html150" HREF="node55.html#7272">5.14 Addition and Subtraction in the RGB Cube</A><LI><A NAME="tex2html151" HREF="node55.html#7657">5.15 Using the <TT> Addition</TT> Blending Mode</A><LI><A NAME="tex2html152" HREF="node55.html#7659">5.16 Using the <TT> Subtract</TT> and <TT> Difference</TT> Blending Modes</A><LI><A NAME="tex2html153" HREF="node55.html#7662">5.17 The <TT> Multiply</TT> and <TT> Screen</TT> Modes in the RGB Cube</A><LI><A NAME="tex2html154" HREF="node55.html#7664">5.18 An Example of <TT> Multiply</TT>, <TT> Divide</TT>, <TT> Screen</TT>, and<TT> Overlay</TT> Modes</A><LI><A NAME="tex2html155" HREF="node55.html#7667">5.19 An Example of <TT> Darken Only</TT> and <TT> Lighten Only</TT> Modes</A><LI><A NAME="tex2html156" HREF="node55.html#7670">5.20 An Example of <TT> Hue</TT> Mode</A><LI><A NAME="tex2html157" HREF="node55.html#7672">5.21 An Example of <TT> Saturation</TT> Mode</A><LI><A NAME="tex2html158" HREF="node55.html#7674">5.22 An Example of <TT> Value</TT> Mode</A><LI><A NAME="tex2html159" HREF="node55.html#7676">5.23 An Example of <TT> Color</TT> Mode</A><LI><A NAME="tex2html160" HREF="node56.html#7496">5.24 Explanation of Opacity in the RGB Cube</A><LI><A NAME="tex2html161" HREF="node56.html#7503">5.25 An Example Application of Transparency</A><LI><A NAME="tex2html162" HREF="node57.html#7520">5.26 Image Whose Color Is to Be Changed</A><LI><A NAME="tex2html163" HREF="node57.html#7542">5.27 Making the Kitten's Coat Tabby-Colored</A><LI><A NAME="tex2html164" HREF="node57.html#7550">5.28 Making the Kitten's Eyes Blue</A><LI><A NAME="tex2html165" HREF="node57.html#7683">5.29 Making the T-shirt a Khaki Green Using <TT> Multiply</TT> Mode</A><LI><A NAME="tex2html166" HREF="node57.html#7579">5.30 Original Circle with Measured Colors Shown in Color SelectionDialogs</A><LI><A NAME="tex2html167" HREF="node57.html#7594">5.31 Screening a Diffuse Highlight</A><LI><A NAME="tex2html168" HREF="node57.html#7610">5.32 Multiplying in a Diffuse Shadow</A><LI><A NAME="tex2html169" HREF="node60.html#8770">6.1 Highlights and Shadows in a Grayscale Image</A><LI><A NAME="tex2html170" HREF="node60.html#8784">6.2 Limited Tonal Range</A><LI><A NAME="tex2html171" HREF="node60.html#9438">6.3 The <TT> Levels</TT> Tool</A><LI><A NAME="tex2html172" HREF="node60.html#8819">6.4 Image of Deep Sea Turtle Having Compressed Tonal Range</A><LI><A NAME="tex2html173" HREF="node60.html#8825">6.5 Levels for R, G, and B Channels</A><LI><A NAME="tex2html174" HREF="node60.html#8831">6.6 Levels for R, G, and B Channels with Adjusted Input Control Arrows</A><LI><A NAME="tex2html175" HREF="node60.html#8837">6.7 Deep Sea Turtle with Maximized Tonal Range</A><LI><A NAME="tex2html176" HREF="node61.html#9445">6.8 The <TT> Curves</TT> Tool</A><LI><A NAME="tex2html177" HREF="node61.html#8880">6.9 Adding and Moving a Control Point</A><LI><A NAME="tex2html178" HREF="node61.html#8893">6.10 Image with Shadow-to-Midtone and Midtone-to-Highlight Gradients</A><LI><A NAME="tex2html179" HREF="node61.html#8901">6.11 Improving the Contrast of the Midtone-to-Highlight Gradient</A><LI><A NAME="tex2html180" HREF="node61.html#8917">6.12 Improving the Contrast of the Shadow-to-Midtone Gradient</A><LI><A NAME="tex2html181" HREF="node61.html#8939">6.13 Image with a Color Cast?  The Measured Pixels Say Yes!</A><LI><A NAME="tex2html182" HREF="node61.html#8959">6.14 Using the Measured Pixel Values to Modify the Red Curve</A><LI><A NAME="tex2html183" HREF="node61.html#8965">6.15 Using the Measured Pixel Values to Modify the Blue Curve</A><LI><A NAME="tex2html184" HREF="node61.html#8977">6.16 Comparison of the Original and Color Corrected Images</A><LI><A NAME="tex2html185" HREF="node61.html#9455">6.17 Using the <TT> Threshold</TT> Tool to Find Shadows and Highlights: (a) OriginalPhoto (b) Darkest Shadows (c) Lightest Highlights</A><LI><A NAME="tex2html186" HREF="node61.html#9041">6.18 Implementation of the Perturbation Technique: (a) Placing theShadow, Midtone, and Highlight Region Control Points (b) Perturbationof the Midtone Control Point</A><LI><A NAME="tex2html187" HREF="node61.html#9051">6.19 Image with a Color Cast.  Can you see it?</A><LI><A NAME="tex2html188" HREF="node61.html#9057">6.20 The Three Adjusted Curves Using the Perturbation Technique</A><LI><A NAME="tex2html189" HREF="node61.html#9063">6.21 The Color Corrected Image</A><LI><A NAME="tex2html190" HREF="node61.html#9082">6.22 Original and Color Corrected Images</A><LI><A NAME="tex2html191" HREF="node61.html#9462">6.23 Using <TT> Threshold</TT> to Find the Correct Value Range</A><LI><A NAME="tex2html192" HREF="node61.html#9464">6.24 Using <TT> Curves</TT> to Improve Contrast in the Subject Value Range</A><LI><A NAME="tex2html193" HREF="node61.html#9467">6.25 Comparing <TT> Color Balance</TT> to the <TT> Curves</TT> Tool</A><LI><A NAME="tex2html194" HREF="node61.html#9470">6.26 Comparing <TT> Brightness-Contrast</TT> with the <TT> Curves</TT> Tool</A><LI><A NAME="tex2html195" HREF="node61.html#9473">6.27 The <TT> Hue-Saturation</TT> Tool</A><LI><A NAME="tex2html196" HREF="node61.html#9199">6.28 Hue-Saturation</A><LI><A NAME="tex2html197" HREF="node62.html#9217">6.29 Image with Unwanted Content</A><LI><A NAME="tex2html198" HREF="node62.html#9228">6.30 Zoom of Image Showing (a) Clone Reference Point and (b)Application of Clone Tool to Unwanted Image Area</A><LI><A NAME="tex2html199" HREF="node62.html#9241">6.31 Original Image and Final Image with Unwanted Image ContentRemoved</A><LI><A NAME="tex2html200" HREF="node63.html#9480">6.32 Understanding the <TT> Unsharp Mask</TT></A><LI><A NAME="tex2html201" HREF="node63.html#9282">6.33 Illustrating the Effect of Applying the Unsharp Mask</A><LI><A NAME="tex2html202" HREF="node63.html#9484">6.34 An Example of Applying the <TT> Unsharp Mask</TT></A><LI><A NAME="tex2html203" HREF="node63.html#9487">6.35 Example of <TT> Unsharp Mask</TT> Provoking a Color Shift</A><LI><A NAME="tex2html204" HREF="node63.html#9489">6.36 Circumventing the <TT> Unsharp Mask</TT> Color Shift Problem bySharpening only the Value Channel</A><LI><A NAME="tex2html205" HREF="node64.html#9360">6.37 Original Image</A><LI><A NAME="tex2html206" HREF="node64.html#9492">6.38 Tonal Range Maximized and Midtones Adjusted with the <TT>Levels</TT> Tool: (a) Original Image and (b) Result of <TT> Levels</TT> Tool</A><LI><A NAME="tex2html207" HREF="node64.html#9494">6.39 Color Cast Correction with <TT> Curves</TT>: (a) Previous and (b)Color Corrected Image</A><LI><A NAME="tex2html208" HREF="node64.html#9496">6.40 Blemish Removed with <TT> Clone Tool</TT></A><LI><A NAME="tex2html209" HREF="node64.html#9404">6.41 Selection of Background</A><LI><A NAME="tex2html210" HREF="node64.html#9499">6.42 Background Lightened with <TT> Curves</TT>: (a) Before and (b) After</A><LI><A NAME="tex2html211" HREF="node64.html#9426">6.43 Comparison of Original and Enhanced Photos</A><LI><A NAME="tex2html212" HREF="node66.html#10381">7.1 Collection of Selected Sea Creatures</A><LI><A NAME="tex2html213" HREF="node66.html#10388">7.2 Pasting an Image Component into the Holiday Scene Background</A><LI><A NAME="tex2html214" HREF="node66.html#10417">7.3 Scaling the Angel Fish</A><LI><A NAME="tex2html215" HREF="node66.html#10431">7.4 The Beginnings of a Composition</A><LI><A NAME="tex2html216" HREF="node66.html#10438">7.5 Using a Layer Mask to Create the Illusion of Depth</A><LI><A NAME="tex2html217" HREF="node66.html#10461">7.6 The Final Composition</A><LI><A NAME="tex2html218" HREF="node67.html#10474">7.7 A Tin Can Discarded as Trash</A><LI><A NAME="tex2html219" HREF="node67.html#10480">7.8 A Flower and a Visiting Friend</A><LI><A NAME="tex2html220" HREF="node67.html#10489">7.9 The Flower Layer Pasted and Oriented over the Tin Can Layer</A><LI><A NAME="tex2html221" HREF="node67.html#10999">7.10 Using the <TT> Measure</TT> Tool to Compute the Correct Angle of Rotation</A><LI><A NAME="tex2html222" HREF="node67.html#10516">7.11 Using a Bezier Path to Delineate the Insect's Outline, andToggling On the Path Transform Lock</A><LI><A NAME="tex2html223" HREF="node67.html#10523">7.12 Bezier Path Outline Rotating with Transform Grid</A><LI><A NAME="tex2html224" HREF="node67.html#10542">7.13 Making a Selection of the Tin Can</A><LI><A NAME="tex2html225" HREF="node67.html#10557">7.14 Flower Layer Masked by Tin Can</A><LI><A NAME="tex2html226" HREF="node67.html#11005">7.15 Using the <TT> Multiply</TT> Blending Mode on the Flower Layer</A><LI><A NAME="tex2html227" HREF="node67.html#10579">7.16 Final Composition</A><LI><A NAME="tex2html228" HREF="node68.html#10603">7.17 Original Image of Saturn</A><LI><A NAME="tex2html229" HREF="node68.html#10609">7.18 Original Image of Shuttle Launch</A><LI><A NAME="tex2html230" HREF="node68.html#10626">7.19 Assembling the Pieces</A><LI><A NAME="tex2html231" HREF="node68.html#10636">7.20 A First Attempt to Blend the Shuttle Launch and Saturn Layers</A><LI><A NAME="tex2html232" HREF="node68.html#10653">7.21 Creating a Mask of the Space Shuttle Layer</A><LI><A NAME="tex2html233" HREF="node68.html#10671">7.22 Application of the Space Shuttle and Launch Equipment Layer Mask</A><LI><A NAME="tex2html234" HREF="node68.html#10692">7.23 The Final Blended Image</A><LI><A NAME="tex2html235" HREF="node69.html#10712">7.24 Original Images of the Young Woman and the Fish</A><LI><A NAME="tex2html236" HREF="node69.html#11016">7.25 Using <TT> Threshold</TT> and the <TT> Lasso</TT> to Create a Maskfor the Woman</A><LI><A NAME="tex2html237" HREF="node69.html#11018">7.26 Using the <TT> Paintbrush</TT> to Finish the Mask of the Woman</A><LI><A NAME="tex2html238" HREF="node69.html#10769">7.27 Applying a Layer Mask to the Woman</A><LI><A NAME="tex2html239" HREF="node69.html#10783">7.28 Uniting the Pieces</A><LI><A NAME="tex2html240" HREF="node69.html#10793">7.29 Flipping and Positioning the Tail Fin</A><LI><A NAME="tex2html241" HREF="node69.html#10800">7.30 Fusing the Tail Fin to the Woman's Lower Legs</A><LI><A NAME="tex2html242" HREF="node69.html#10814">7.31 Fusing the Remainder of the Tail and Correcting for ImageInconsistencies</A><LI><A NAME="tex2html243" HREF="node69.html#10832">7.32 The Mermaid Placed into an Underwater Scene</A><LI><A NAME="tex2html244" HREF="node69.html#11026">7.33 Using <TT> Border</TT> and <TT> Gaussian Blur (IIR)</TT> to Soften theCut-Out Look of the Mermaid's Edge</A><LI><A NAME="tex2html245" HREF="node69.html#10870">7.34 The Final Mermaid Composition</A><LI><A NAME="tex2html246" HREF="node70.html#10885">7.35 Collection of Positioned Images</A><LI><A NAME="tex2html247" HREF="node70.html#10905">7.36 Initial Geometric Distortion Corrections</A><LI><A NAME="tex2html248" HREF="node70.html#10933">7.37 Initial Color and Brightness Matching</A><LI><A NAME="tex2html249" HREF="node70.html#10946">7.38 Construction of a Gradient in a Layer Mask to BlendAway the Boundary Between Two Layers</A><LI><A NAME="tex2html250" HREF="node70.html#10954">7.39 The Result of Blending Two Layers</A><LI><A NAME="tex2html251" HREF="node70.html#11034">7.40 Using the <TT> Rectangle Select</TT> Tool to Create a CustomGradient Mask</A><LI><A NAME="tex2html252" HREF="node70.html#10974">7.41 The Cropped and Layer Merged Panorama</A><LI><A NAME="tex2html253" HREF="node70.html#10985">7.42 The Molding Corrected and Final Panorama</A><LI><A NAME="tex2html254" HREF="node72.html#12371">8.1 Using the <TT> Bucket Fill</TT> Tool</A><LI><A NAME="tex2html255" HREF="node72.html#11805">8.2 Using the Threshold and Opacity Options</A><LI><A NAME="tex2html256" HREF="node72.html#11816">8.3 Filling with Image Patterns</A><LI><A NAME="tex2html257" HREF="node73.html#11831">8.4 The Different Gradient Types</A><LI><A NAME="tex2html258" HREF="node73.html#12376">8.5 Examples of <TT> Conical</TT>, <TT> Bi-Linear</TT>, and <TT> Shapeburst</TT> Gradients</A><LI><A NAME="tex2html259" HREF="node73.html#11859">8.6 Creating Text to be Used in Gradient Rendering Example</A><LI><A NAME="tex2html260" HREF="node73.html#11875">8.7 Rendering a Beveled Look</A><LI><A NAME="tex2html261" HREF="node73.html#11890">8.8 The Beveled Text on a Rendered Background</A><LI><A NAME="tex2html262" HREF="node74.html#12382">8.9 The <TT> Emboss</TT> Filter Dialog</A><LI><A NAME="tex2html263" HREF="node74.html#12384">8.10 Geometric View of the <TT> Emboss</TT> Filter Options</A><LI><A NAME="tex2html264" HREF="node74.html#12386">8.11 How <TT> Emboss</TT> is Applied to a 2D Image: Magnitudes of the Gradient Vectors</A><LI><A NAME="tex2html265" HREF="node74.html#12388">8.12 How <TT> Emboss</TT> is Applied to a 2D Image: Directions of the Gradient Vectors</A><LI><A NAME="tex2html266" HREF="node74.html#12390">8.13 Example of Using the <TT> Emboss</TT> Filter</A><LI><A NAME="tex2html267" HREF="node74.html#11977">8.14 Cape Cod from Space and a Pattern Texture</A><LI><A NAME="tex2html268" HREF="node74.html#12393">8.15 Applying the <TT> Bump map</TT> Filter to Cape Cod</A><LI><A NAME="tex2html269" HREF="node75.html#12036">8.16 A Daisy Selection</A><LI><A NAME="tex2html270" HREF="node75.html#12058">8.17 Filling, Blurring, and Offsetting Creates the Shadow</A><LI><A NAME="tex2html271" HREF="node75.html#12067">8.18 The Final Drop Shadow</A><LI><A NAME="tex2html272" HREF="node75.html#12094">8.19 Lightning Strike!</A><LI><A NAME="tex2html273" HREF="node75.html#12106">8.20 Placing Some Text</A><LI><A NAME="tex2html274" HREF="node75.html#12129">8.21 Creating the Layer Mask</A><LI><A NAME="tex2html275" HREF="node75.html#12138">8.22 The Final Punchout</A><LI><A NAME="tex2html277" HREF="node76.html#12154">8.23 Original Image and Color Corrected Selection of Astronaut</A><LI><A NAME="tex2html278" HREF="node76.html#12164">8.24 Making a Gray-Blue Background Layer and Creating a ChannelMask from the Astronaut's Alpha Channel</A><LI><A NAME="tex2html279" HREF="node76.html#12178">8.25 Starting the Punchout</A><LI><A NAME="tex2html280" HREF="node76.html#12185">8.26 Finishing the Punchout</A><LI><A NAME="tex2html281" HREF="node76.html#12202">8.27 Jazzing up the Punchout with a Pattern Image Background</A><LI><A NAME="tex2html282" HREF="node76.html#12215">8.28 The Final Rendered Image</A><LI><A NAME="tex2html283" HREF="node77.html#12229">8.29 The Two Layers Used to Create the Carved Rendering Effect</A><LI><A NAME="tex2html284" HREF="node77.html#12243">8.30 Creating an Inset</A><LI><A NAME="tex2html285" HREF="node77.html#12411">8.31 Creating the Carved Effect Using <TT> Bump map</TT></A><LI><A NAME="tex2html286" HREF="node77.html#12280">8.32 Making the Punchout Effect</A><LI><A NAME="tex2html287" HREF="node77.html#12414">8.33 Using the <TT> Multiply</TT> Mode and the Opacity Slider toObtain the Final Carved Effect</A><LI><A NAME="tex2html288" HREF="node78.html#12303">8.34 Creating the Background, Text, and Drop Shadow for the Chiseled Effect</A><LI><A NAME="tex2html289" HREF="node78.html#12329">8.35 Using the Shapeburst Gradient on the Text Layer</A><LI><A NAME="tex2html290" HREF="node78.html#12418">8.36 Creating the Chiseled Effect Using <TT> Bump map</TT></A><LI><A NAME="tex2html291" HREF="node78.html#12355">8.37 Copying and Pasting the Chiseled Text to the Top Layer</A><LI><A NAME="tex2html292" HREF="node78.html#12421">8.38 Lightening the Text with the <TT> Levels</TT> Tool to Produce theFinal Chiseled Effect</A><LI><A NAME="tex2html293" HREF="node80.html#13130">9.1 Example of Some GIMP Animation Features</A><LI><A NAME="tex2html294" HREF="node80.html#13151">9.2 Example of Replace Mode</A><LI><A NAME="tex2html295" HREF="node80.html#13176">9.3 Converting to Indexed</A><LI><A NAME="tex2html296" HREF="node80.html#13187">9.4 Saving an Animation as a GIF File</A><LI><A NAME="tex2html297" HREF="node80.html#13205">9.5 Clockwise from the Top Left, Four Views of the Space Shuttle:(a) Rear, (b) 2/3 Profile, (c) 1/3 Profile, and (d) Full Profile</A><LI><A NAME="tex2html298" HREF="node80.html#13211">9.6 Image to Be Used as Background to Shuttle Landing</A><LI><A NAME="tex2html299" HREF="node80.html#13640">9.7 Preparation of the Raw Shuttle Images and Creation of theShuttle Image Clip Book</A><A NAME="13221">&#160;</A><A NAME="13222">&#160;</A><LI><A NAME="tex2html300" HREF="node80.html#13233">9.8 Sequence of Shuttle Layers Used to Make the Animation Sequence</A><LI><A NAME="tex2html301" HREF="node80.html#13643">9.9 Adding the <TT> SuperNova</TT> Light Effect</A><LI><A NAME="tex2html302" HREF="node80.html#13255">9.10 Merging Each Shuttle Frame with a Background</A><LI><A NAME="tex2html303" HREF="node80.html#13647">9.11 The <TT> IWarp</TT> Filter</A><LI><A NAME="tex2html304" HREF="node80.html#13649">9.12 Using the <TT> IWarp</TT> Automated Animation Feature</A><LI><A NAME="tex2html305" HREF="node81.html#13652">9.13 The <TT> ImageMap</TT> Plug-in</A><LI><A NAME="tex2html306" HREF="node81.html#13320">9.14 Selecting a Polygon Region</A><LI><A NAME="tex2html307" HREF="node81.html#13333">9.15 Managing the Selected Regions</A><LI><A NAME="tex2html308" HREF="node81.html#13657">9.16 Map of the Southeast United States and the <TT> ImageMap</TT> Dialog</A><LI><A NAME="tex2html309" HREF="node81.html#13367">9.17 The Image Map Reloaded onto a White Background</A><LI><A NAME="tex2html310" HREF="node81.html#13377">9.18 Map of the Southeast United States Seen in Netscape</A><LI><A NAME="tex2html313" HREF="node82.html#13389">9.19 The Collection of Script-Fu Text Effect Scripts</A><LI><A NAME="tex2html314" HREF="node82.html#13663">9.20 The <TT> 3D Outline</TT> Script and Helper Dialogs</A><LI><A NAME="tex2html315" HREF="node82.html#13665">9.21 Result of Running the <TT> 3D Outline</TT> Script-Fu Script</A><LI><A NAME="tex2html316" HREF="node83.html#13667">9.22 Using the Plug-in <TT> Make Seamless</TT></A><LI><A NAME="tex2html317" HREF="node84.html#13467">9.23 Clipping and Dithering Color Distortions</A><LI><A NAME="tex2html318" HREF="node84.html#13481">9.24 Illustration of Using Dithering to Simulate a Color</A><LI><A NAME="tex2html319" HREF="node84.html#13516">9.25 Web-Safe Color Palette</A><LI><A NAME="tex2html320" HREF="node84.html#13526">9.26 The VisiBone2 Web-Safe Color Palette</A><LI><A NAME="tex2html322" HREF="node84.html#13536">9.27 The Indexed Color Conversion Dialog</A><LI><A NAME="tex2html323" HREF="node84.html#13554">9.28 Choosing the Type of Color Distortion for Images with Smooth ColorVariations</A><LI><A NAME="tex2html324" HREF="node84.html#13567">9.29 Choosing for Images with Large Uniform Color Regions</A><LI><A NAME="tex2html325" HREF="node85.html#13603">9.30 Antialiased Text After Conversion to Indexed...Yeeeks!</A><LI><A NAME="tex2html326" HREF="node85.html#13679">9.31 Using <TT> Semi-Flatten</TT> to Preserve the Effect of Semi-Transparency</A></UL></UL><HR><BR><H2><A NAME="SECTION00500000000000000000">List of Tables</A></H2><UL><UL><LI><A NAME="tex2html329" HREF="node89.html#14394">B.1 The Toolbox Functions</A><LI><A NAME="tex2html330" HREF="node89.html#14430">B.2 View Menu Functions</A><LI><A NAME="tex2html331" HREF="node89.html#14448">B.3 Select Menu Functions</A><LI><A NAME="tex2html332" HREF="node89.html#14461">B.4 File Menu Functions</A><LI><A NAME="tex2html333" HREF="node89.html#14473">B.5 Edit Menu Functions</A><LI><A NAME="tex2html334" HREF="node89.html#14490">B.6 Layers Menu Functions</A><LI><A NAME="tex2html335" HREF="node89.html#14498">B.7 Image Menu Functions</A><LI><A NAME="tex2html336" HREF="node89.html#14510">B.8 Dialogs</A><LI><A NAME="tex2html337" HREF="node89.html#14523">B.9 Filter Menu Functions</A></UL></UL><P><HR><H1><A NAME="SECTION00600000000000000000">&#160;</A><A NAME="preface">&#160;</A><BR>Preface</H1><P>The title of this book, <EM>Grokking the GIMP</EM>, is drawn from RobertA. Heinlein's classic science fiction novel <EM>Stranger in a StrangeLand.</EM>  His story is about Valentine Michael Smith, the only survivorof the first human expedition to Mars and raised from infancy byMartians.  The rescue mission arrives twenty years later to bring ayoung man knowing nothing of his own kind back to earth.  The storyrecounts his repatriation and his adventures as he comes to <EM>grok</EM>the human race and his place in it.  Grok, a word he often uses, isthe Martian word meaning ``to drink,'' but which also serves as aquasi-religious metaphor in the Martian culture for having a profoundappreciation and understanding for something.<P>Heinlein's book, published in 1961, drew immediate acclaim in thescience-fiction world, and the story became a part of the iconoclasticcultural sentiment of the 60s in the United States.  Today, the wordgrok is a part of the U.S. computer hacker vocabulary, and its definitioncan be found in <EM>The New Hacker's Dictionary</EM> (see[<A HREF="node87.html#raymond">1</A>]).<P>So, do you want to grok the GIMP?  When I first came across it in1996, I did.  I was writing an article and had some photographs ofpoor quality I wanted to touch up and enhance before including them.I had heard about the GIMP so I downloaded it from the Internet andcompiled it.  When I ran the program, it popped up a small toolbox.Without too much trouble, I discovered how to open image files andaccess the image menu containing all the GIMP functions and filters.Wow! It looked very cool...<EM>and powerful!</EM>  But, I didn't havea clue how to use it to solve my photo problems.<P>I didn't know which functions to use and I didn't even really knowwhat was wrong with my photos.  I just knew they looked flat andwashed out.  I wanted them to look better, and that's what got meinterested in the GIMP.  I felt compelled to learn about it!<P>I started to look for help.  I searched the Web, checked out booksfrom the library, and little by little discovered useful things aboutthe digital touchup and enhancement of photos.  It was a slow andfrustrating process, and it seemed like there was no unified,conceptual treatment of what I wanted to learn.<P>The most annoying thing was that almost every book I picked up wasfull of tips and tricks.  Tips and tricks?  I felt like I was gettingadvice on betting the ponies.  I didn't want tricks; I wanted theideas.  What <EM>is</EM> photo touchup and enhancement?  Where's thebeef? How could I work on my photos if I didn't understand the basicconcepts?  Moreover, I wanted to learn the practical techniques usedby the master artisans of digital image manipulation.  Out of thehundreds of functions and filters in the GIMP, which were the rightones to use, and why?<P>After a lot of detective work and filling in the blanks myself Ifinally felt I was beginning to grok what the touchup and enhancementof digital images was about.  What's more, I was getting to know theGIMP tools more intimately.  To share what I had learned, I wrote atutorial called <EM>Photo Touchup and Enhancement with the GIMP</EM> andput it out on the Internet (see<A NAME="tex2html3" HREF="http://www.geocities.com/SiliconValley/Haven/5179" target="new"><TT>http://www.geocities.com/SiliconValley/Haven/5179</TT></A>).<P>That's the story of this book's beginnings and that explains therationale for its underlying approach and philosophy.  Working withdigital images requires some understanding of what needs to be done.It's not a ``choose the right tool, one click, and you're done''subject.  Most books on digital image manipulation would have youbelieve the contrary...and perhaps they're right.  However, thatis not what this book is about.  It is not about tips and tricks, andit's not a collection of recipes for solving someone's favorite imagemanipulation problems.  It is first about understanding imagemanipulation concepts, second about knowing which GIMP tools are mosteffective, and third about the savvy use of these tools.<P>Many factors have contributed to the style and content of the materialpresented in this book.  My educational training in signal processing,my professional work in various areas of imaging and image processing,the research I've done on colorspaces and image manipulation, and lotsof experimentation with the GIMP.  The result is a book that coversmany areas of working with digital images, including touchup andenhancement, compositing, 3D rendering, and the presentation ofgraphics on the World Wide Web.  This book also gives a unified andin-depth introduction to layers, selections, masks, colorspaces, andthe use of blending modes.<P>This book is released under an Open Publication license.  Please readthe license agreement carefully.  In a nutshell the license permitsthe book to be redistributed freely in all electronic forms includingCD and for commercial profit.  It may not, however, be commerciallyprinted and distributed in paper form without permission from theauthor and publisher.  It <EM>can</EM> be printed for personal use andfor non-commercial distribution.  Modified versions of the book mustalso adhere to the licensing agreement.Now, let's learn the GIMP, and, as Valentine Michael Smith might havesaid, ``May you grok it in fullness!''<P><BLOCKQUOTE>Carey Bunks<BR>Senior Scientist<BR>BBN Technologies<BR>Cambridge, Massachusetts<BR>October 26, 1999</BLOCKQUOTE><P><HR><H1><A NAME="SECTION00700000000000000000">&#160;</A><A NAME="acknowledgements">&#160;</A><BR>Acknowledgements</H1><P>The GIMP began in the summer of 1995 as an enormously ambitiousproject of two undergraduates at the University of California,Berkeley.  When they began, they probably didn't realize just howimpossible it was, and yet, they made it work.  They created a betaversion that captured the imagination of the open-source movement.Spencer Kimball and Peter Mattis were those students, and I would liketo thank them as much for the creative inspiration they received asfor that they created in others.  This book, of course, would havenever existed without them.<BR><DIV ALIGN="CENTER"><A NAME="f.ack.peter-spencer">&#160;</A><IMG SRC="img2.gif"ALT="Thanks!"></DIV><BR CLEAR="ALL"><P>The seed of inspiration planted by Peter and Spencer attracted atalented group of core developers who have grown the GIMP into thepowerful digital image manipulation tool that it is today.  They are aloose-knit collection of men and women from around the globe,connected by only the thin wires of cyberspace.  Most of them havenever met face to face, and, nevertheless, they have collaborated andcooperated on a project of significant complexity and great value.What an amazing phenomenon the GIMP project is!  I would like to thankeach one of them.  Their names, as of version 1.1.15 of the GIMP, areLauri Alanko, Shawn Amundson, John Beale, Zach Beane, Tom Bech, MarcBless, Edward Blevins, Roberto Boyd, Stanislav Brabec, Simon Budig,Seth Burgess, Brent Burton, Francisco Bustamante, KennethChristiansen, Ed Connel, Jay Cox, Andreas Dilger, Austin Donnelly,Scott Draves, Misha Dynin, Daniel Egger, Larry Ewing, Nick Fetchak,Valek Filippov, David Forsyth, Jim Geuther, Scott Goehring, HeikoGoller, Michael Hammel, Ville Hautam&#228;ki, James Henstridge, ChristophHoegl, Wolfgang Hofer, Jan Hubicka, Simon Janes, Tim Janik, PeterKirchgessner, Tuomas Kuosmanen, Karin Kylander, Olof S. Kylander,Chris Lahey, Nick Lamb, Karl LaRocca, Jens Lautenbacher, LaramieLeavitt, Elliot Lee, Marc Lehmann, Wing Tung Leung, Raph Levien,Adrian Likins, Tor Lillqvist, Ingo Luetkebohle, Josh MacDonald, EdMackey, Vidar Madsen, Marcelo Malheiros, Ian Main, Kjartan Maraas,Kelly Martin, Torsten Martinsen, Daniele Medri, Federico Mena, DavidMonniaux, Adam D. Moss, Sung-Hyun Nam, Balazs Nagy, Shuji Narazaki,Michael Natterer, Sven Neumann, Stephen Robert Norris, Erik Nygren,Tomas&#214;gren, Miles O'Neal, Jay Painter, Asbjorn Pettersen,Mike Phillips, Raphael Quinet, Vincent Renardias, James Robinson, MikeSchaeffer, Tracy Scott, Aaron Sherman, Manish Singh, Nathan Summers,Mike Sweet, Eiichi Takamori, Tristan Tarrant, Owen Taylor, Ian Tester,Andy Thomas, James Wang, Kris Wehner, Matthew Wilson, and ShirasakiYasuhiro.<P>Of all those in the GIMP developers group, I would like to express anespecially warm note of thanks to Karin and Olof Kylander.  They arethe authors of <EM>The GIMP User Manual</EM> (see[<A HREF="node87.html#kylander">2</A>] and [<A HREF="node87.html#kylander2">3</A>]), the first complete reference to the GIMP.  I personally found it to be invaluable in the drafting ofmy own book.<P>I would also like to thank the famous <TT>tigert</TT>, a.k.a. TuomasKuosmanen, GIMP developer and GIMP artist.  He graciously accepted tocreate this book's cover art.<BR><DIV ALIGN="CENTER"><A NAME="f.ack.tigert">&#160;</A><IMG SRC="img3.gif"ALT="Thanks!"></DIV><BR CLEAR="ALL"><P>Editorially, there are many individuals that have directly helped me inthe preparation of this book.  I'd like to start by thanking LauriePetrycki, executive editor at New Riders Publishing.  Laurie is agenuine supporter of the open-source software community, and she hasdone a lot to change the editorial work flow at New Riders toaccommodate authors, like me, using open-source tools.  She wasenthusiastic, open to ideas, and willing to change many boilerplatebusiness and design practices to make my book better.  I would highlyrecommend her to anyone wanting to write an open-source software book.<P>I'd also like to thank Jim Chalex, my development editor.  Heencouraged me, gave good advice on improving this book's structure andcontent, displayed an uncommon mastery of the comma, and came up witha great book title.  My hat's off to you, Jim!<BR><DIV ALIGN="CENTER"><A NAME="f.ack.laurie-jim">&#160;</A><IMG SRC="img4.gif"ALT="Thanks!"></DIV><BR CLEAR="ALL"><P>The technical reviewers, Guillermo Romero and Zach Beane, deserve alot of credit.  They both read through a difficult first draft and,nevertheless, prepared excellent technical reviews making many usefulcomments and suggestions.<BR><DIV ALIGN="CENTER"><A NAME="f.ack.zach-guillermo">&#160;</A><IMG SRC="img5.gif"ALT="Thanks!"></DIV><BR CLEAR="ALL"><P>I also greatly enjoyed interacting with both Louisa Klucznick and ArenHowell, responsible for the book's design.  They taught me a lot aboutpaper, spot glosses, type styles, and page layouts.  My heartfeltthanks also go to Kelli Brooks and Gayle Johnson who did a great jobof copy editing.  Finally, I'd like to thank the project editor,Caroline Wise, who smoothly orchestrated the entire editorial, layout,and printing process.<BR><DIV ALIGN="CENTER"><A NAME="f.ack.louisa-aren">&#160;</A><IMG SRC="img6.gif"ALT="Thanks!"></DIV><BR CLEAR="ALL"><P><BR><DIV ALIGN="CENTER"><A NAME="f.ack.kelli-gayle">&#160;</A><IMG SRC="img7.gif"ALT="Thanks!"></DIV><BR CLEAR="ALL"><P>In addition to the list of individuals who have had an importantinfluence on this book, there are also several organizations that meritacknowledgement here.  The concepts and techniques presented in thisbook are greatly enhanced by a large collection of raw, digital-imagematerials used to illustrate them.  The source for most of theseimages is from several United States governmental agency Web sitesthat generously allow their online photographic archives to be usedwithout copyright assertion.  These include the sites of the NationalAeronautics and Space Administration (NASA), the National Oceanic andAtmospheric Administration (NOAA), and the U.S. Fish and WildlifeService (FWS).  These agencies provide a wonderful resource to theworld, and I salute them.<DIV ALIGN="CENTER">Many thanks to all, and Happy GIMPing!</DIV><P><HR><H1><A NAME="SECTION00800000000000000000">&#160;</A><A NAME="readme">&#160;</A><BR><TT>README</TT></H1><P>The open-source software movement is like Lewis Carroll's <EM>Alicein Wonderland</EM>.  It's a topsy-turvy world where up is down, down isup, and the normal laws of the universe no longer apply.  Freesoftware that's as powerful and useful as commercial software?  Yes!It seems incredible, ludicrous, even outrageous...but it'sabsolutely true.  The Internet could not operate without Bind,Sendmail, or Perl--all open-source, free software.  Linux, a free andopen-source operating system, is making powerful contributions toscience, engineering, and business.  And Apache, which has a dominantshare of the web server market, is also a free and open-sourcesoftware package.  There seems to be a mad rush from contributorsaround the globe to create the most useful, open, and free software,and one of the most remarkable examples of this phenomenon is the <EM>GNU Image Manipulation Program</EM>, a.k.a the GIMP.<P>In Lewis Carroll's story, objects marked ``READ ME,'' ``EAT ME,'' and``DRINK ME'' were key to helping Alice during her adventures inWonderland.  As anyone who has installed open-source software knows,there is always a file in the top-level directory named <TT>README</TT>that serves exactly the same purpose.  In the same spirit, thissection, entitled <TT>README</TT>, provides a road map to this book andinstructions on how to set up your computer to get the most out of theGIMP.<P>Welcome to Wonderland, and happy GIMPing!<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html847" HREF="node9.html">Book Overview</A><LI><A NAME="tex2html848" HREF="node10.html">Mouse Clicks</A><LI><A NAME="tex2html849" HREF="node11.html">Function Names, Menus, and Keyboard Shortcuts</A><LI><A NAME="tex2html850" HREF="node12.html">Setting up Your Computer to Get the Most from the GIMP</A><UL><LI><A NAME="tex2html851" HREF="node12.html#SECTION00841000000000000000">Notes on RAM</A><LI><A NAME="tex2html852" HREF="node12.html#SECTION00842000000000000000">Notes on Video RAM</A><LI><A NAME="tex2html853" HREF="node12.html#SECTION00843000000000000000">Notes on Swap and GIMP Memory Management</A><LI><A NAME="tex2html854" HREF="node12.html#SECTION00844000000000000000">Loading Fonts</A><LI><A NAME="tex2html855" HREF="node12.html#SECTION00845000000000000000">Setting the X Window System to Run More Than 8 bpp</A></UL><LI><A NAME="tex2html856" HREF="node13.html">Sources of Raw Image Materials</A><LI><A NAME="tex2html857" HREF="node14.html">The History of the GIMP</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION00810000000000000000">Book Overview</A></H1><P>The first part of this book focuses on mastering core tools: layers,selections, masks, and colorspaces.  The second part builds on thefirst by presenting an in-depth treatment of touchup, enhancement,compositing, rendering, and image creation for the web.  The followinggives a synopsis of what you will find in each chapter.<P>Chapter&nbsp;<A HREF="node15.html#c1.basics">1</A> reviews the GIMP basics.  It introduces theGIMP dialogs, reviews window features, and explains a host offunctions that are basic but should not be taken for granted.  Anexperienced GIMP user could quickly flip through this chapter of thebook, especially if he or she's already familiar with the mainfeatures of version 1.2.<P>Chapter&nbsp;<A HREF="node26.html#c2.layers">2</A> covers layers.  Layers are the fundamentalbuilding blocks of the GIMP.  They are the image unit that plays themost important role in our work, and it is important to understandthem and the functions that manipulate them.  Even if you are alreadyfamiliar with layers, this chapter will be worth reviewing because itcontains many insights into how to use layers efficiently andeffectively.<P>Chapters&nbsp;<A HREF="node35.html#c3.selections">3</A> and <A HREF="node42.html#c4.masks">4</A> give a unified andin-depth presentation of selections and masks.  To the casual observerselections and masks may seem like very different animals.  However,they are really complementary implementations of the same thing.  Thegoal of both is to isolate a part of an image.  Selections do this byselecting a group of pixels in the image, and masks do it by maskingsome pixels, leaving the rest exposed.  Thus, selections are masks, andmasks are selections.  These two chapters explain how selections andmasks can be made to work efficiently and effectively together.<P>Because selections are often the most time-consuming part of anyproject, Chapter&nbsp;<A HREF="node35.html#c3.selections">3</A> compares the different selectiontools and describes the applications for which each is best suited.Chapter&nbsp;<A HREF="node42.html#c4.masks">4</A> makes the conceptual link from selections tomasks.  This chapter describes a host of advanced mask techniques,including methods for refining selection edges and a super techniquefor finding natural masks you won't want to miss.<P>Chapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A> adds the final component of our basicskill set by describing colorspaces and the tools used to get resultswith color.  The first half of this chapter is conceptual, coveringRGB and HSV colorspaces.  The second half covers the GIMP's blendingmodes.  These are often poorly understood and under-utilized bybeginning users.  As will be seen in later chapters, the blendingmodes are valuable tools, without which many needed operations wouldbe quite impossible.  The material covered in this chapter is criticalfor color correction, compositing, rendering, and web graphics...the entire second half of the book!  The chapter's intuitive approachexplains the aspects of color theory you'll need for your GIMPprojects.<P>Chapter&nbsp;<A HREF="node59.html#c6.touchup">6</A> presents techniques for photo touchup andenhancement.  The main feature of this chapter is the use of <TT>Curves</TT>, a poorly understood but amazingly powerful tool.  I thinkthat the material covered in this chapter alone is worth the price ofthe book.  In addition to the use of <TT>Curves</TT>, this chapter alsocovers the use of the <TT>Clone</TT> tool for the elimination ofblemishes and the use of a sharpening filter, oddly named <TT>UnsharpMask</TT>.<P>One of the most interesting, fun, and useful uses of the GIMP iscompositing.  Compositing is collage, photo montage, and all thetechniques that go with these.  Compositing is probably the premiereuse of an image manipulation program such as the GIMP, andChapter&nbsp;<A HREF="node65.html#c7.compositing">7</A> covers this topic in detail.  Thischapter more than any other depends on using the methods andtechniques presented in the earlier chapters and is strongly orientedaround project work.  The projects show how to effectively useselections, masks, and color correction techniques, among other tools,to achieve terrific compositing results.<P>Chapter&nbsp;<A HREF="node71.html#c8.rendering">8</A> describes the tools and techniques forcreating shadows, punchouts, and bevels.  In addition, it gives anin-depth description of the <TT>Emboss</TT> and <TT>Bump map</TT> filters.These are powerful tools for creating 3D effects in images<P>Chapter&nbsp;<A HREF="node79.html#c9.web-centric">9</A> is the final chapter of this book.  Itcovers some of the most useful features in the GIMP for Internet webapplications.  This chapter describes tools for creating animated GIFsand clickable image maps.  It also covers several other topics thatare required reading for anyone creating graphics for the web.<P><HR><H1><A NAME="SECTION00820000000000000000">Mouse Clicks</A></H1><P>In this book <EM>clicking</EM>, <EM>double-clicking</EM>, and <EM>clickingand dragging</EM> refer to operations with the left mouse button.  Theterms <EM>Shift-clicking</EM>, <EM>Control-clicking</EM>, and <EM>Alt-clicking</EM> refer to the operations of clicking the left mousebutton while also pressing the Shift, Control, or Alt key.  When theright mouse button is used, the operation is referred to as <EM>right-clicking</EM>, and with the middle mouse button it is referred to as<EM>middle-clicking</EM>.<P><HR><H1><A NAME="SECTION00830000000000000000">Function Names, Menus, and Keyboard Shortcuts</A></H1><P>This book uses several conventions for describing keystrokes and forindicating the locations of menu items in the GIMP.  This sectiondescribes these.<P>Figure&nbsp;<A HREF="node11.html#f.readme.path">1</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.readme.path">&#160;</A><A NAME="275">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1:</STRONG>Convention for Describing Paths to Functions Found in theImage Menu</CAPTION><TR><TD><IMG SRC="img8.gif"ALT="Figure 1"></TD></TR></TABLE></DIV><BR>illustrates an image of a friendly-looking fellow who is going tointroduce us to the GIMP's Image menu.<A NAME="279">&#160;</A>  As describedin the figure, the Image menu is obtained by either right-clicking inthe image window or by clicking on the arrow icon in the window'supper-left corner.  Either will display the Image menu, as shown inFigure&nbsp;<A HREF="node11.html#f.readme.path">1</A>(b).<P>A menu item highlights when the mouse cursor<A NAME="281">&#160;</A><A NAME="282">&#160;</A> is moved over it.  When anentry in the Image menu has an arrow pointing to the right, thisindicates that it is the title of a submenu.  For example, moving themouse cursor to the entry labeled <TT>Image</TT>, brings up theassociated submenu, as shown in Figure&nbsp;<A HREF="node11.html#f.readme.path">1</A>(c).  Movingthe mouse cursor over the submenu entry labeled <TT>Transforms</TT>displays the subsubmenu, as shown in Figure&nbsp;<A HREF="node11.html#f.readme.path">1</A>(d).Finally, menu entries which do not have a right-pointing arrows arefunctions that can be run by clicking on them.  The <TT>Offset</TT>function is shown highlighted in Figure&nbsp;<A HREF="node11.html#f.readme.path">1</A>(d).<P>In order to compactly and efficiently describe where a function islocated in a system of menus and submenus the following notation isadopted for this book.  For the example shown inFigure&nbsp;<A HREF="node11.html#f.readme.path">1</A>, the menu path to the function is denoted<TT>Image:Image/Transforms/Offset</TT>.  This indicates that the <TT>Offset</TT> function is found in the <TT>Transforms</TT> menu, which itselfis in the <TT>Image</TT> menu, obtained by right-clicking in the <TT>Image</TT> window.  The use of the typewriter typeface indicates that thetext represents a GIMP function or tool.<P>Note that for certain menu entries in Figures&nbsp;<A HREF="node11.html#f.readme.path">1</A>(c)and (d), a keyboard shortcut is indicated.Learning these significantly accelerates access to GIMP functions.  Inthe GIMP menus, the keyboard shortcuts are denoted by capital letters,perhaps with one or more modifier keys.  In the menus the modifiersare indicated by <TT>Ctl</TT>, <TT>Shft</TT>, or <TT>Alt</TT> which refer tothe Control, Shift, and Alt keys on your keyboard.  Thus, the keyboardshortcut for the <TT>Offset</TT> function, as shown inFigure&nbsp;<A HREF="node11.html#f.readme.path">1</A>(d), is <TT>Shft+Ctl+O</TT>.  This is appliedby moving the mouse cursor into the image window, simultaneouslypressing the Shift and Control keys, and typing <TT>o</TT>.  Note that althoughthe key sequence is indicated with an uppercase <TT>O</TT>, the actualkey required is lowercase, unless, of course, the Shift modifier isspecifically indicated.  Keyboard shortcut notation used in this bookis slightly different from that seen in the GIMP menus.  The Control,Shift, and Alt keys are denoted by uppercase <TT>C</TT>, <TT>S</TT>, and<TT>A</TT>.  These modifier keys are followed by a dash and the keystrokein lowercase.  Thus, the notation used in this book for applying the<TT>Curves</TT> function is <TT>A-c</TT>.  As another example, the notation<TT>C-S-l</TT> indicates that the Control and Shift keys are pressedsimultaneously, followed by typing the letter <TT>l</TT>.  Thiscorresponds to the <TT>Float</TT> function found in the <TT>Image:Select</TT> menu (but not shown in Figure&nbsp;<A HREF="node11.html#f.readme.path">1</A>).<P>Appendix&nbsp;<A HREF="node89.html#a1.keyboard-shortcuts">B</A> lists all the default keyboardshortcuts.  It also describes how to customize the shortcuts to yourpersonal tastes.<P>The convention just described for specifying the menu location of afunction is also used for items found in the Toolbox window.Figure&nbsp;<A HREF="node11.html#f.readme.path2">2</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.readme.path2">&#160;</A><A NAME="317">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2:</STRONG>Conventions for Describing Paths for Functions Found in the Toolbox</CAPTION><TR><TD><IMG SRC="img9.gif"ALT="Figure 2"></TD></TR></TABLE></DIV><BR>shows the Toolbox, which contains the two menus <TT>File</TT> and <TT>Xtns</TT>, seen at the top of the window.  Here the reference <TT>Toolbox:Xtns/Script-Fu/Console</TT> is the path to the submenu <TT>Script-Fu</TT>, shown in Figure&nbsp;<A HREF="node11.html#f.readme.path2">2</A>(b), and then to thefunction named <TT>Console</TT>, as shown inFigure&nbsp;<A HREF="node11.html#f.readme.path2">2</A>(c).<P>In this book, the functions represented by the icons in the Toolbox arereferred to by name.  Figure&nbsp;<A HREF="node11.html#f.readme.icons" NAME="329">3</A><A NAME="330">&#160;</A><A NAME="331">&#160;</A><A NAME="332">&#160;</A><A NAME="333">&#160;</A><A NAME="334">&#160;</A><A NAME="335">&#160;</A><A NAME="336">&#160;</A><A NAME="337">&#160;</A><A NAME="338">&#160;</A><A NAME="339">&#160;</A><A NAME="340">&#160;</A><A NAME="341">&#160;</A><A NAME="342">&#160;</A><A NAME="343">&#160;</A><A NAME="344">&#160;</A><A NAME="345">&#160;</A><A NAME="346">&#160;</A><A NAME="347">&#160;</A><A NAME="348">&#160;</A><A NAME="349">&#160;</A><A NAME="350">&#160;</A><A NAME="351">&#160;</A><A NAME="352">&#160;</A><A NAME="353">&#160;</A><A NAME="354">&#160;</A><A NAME="355">&#160;</A><A NAME="356">&#160;</A><A NAME="357">&#160;</A><A NAME="358">&#160;</A><A NAME="359">&#160;</A><BR><DIV ALIGN="CENTER"><A NAME="f.readme.icons">&#160;</A><A NAME="361">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3:</STRONG>Names of the Toolbox Icons</CAPTION><TR><TD><IMG SRC="img10.gif"ALT="Figure 3"></TD></TR></TABLE></DIV><BR>illustrates an exploded view of the Toolbox, giving the name used foreach icon.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html906" HREF="node12.html#SECTION00841000000000000000">Notes on RAM</A><LI><A NAME="tex2html907" HREF="node12.html#SECTION00842000000000000000">Notes on Video RAM</A><LI><A NAME="tex2html908" HREF="node12.html#SECTION00843000000000000000">Notes on Swap and GIMP Memory Management</A><LI><A NAME="tex2html909" HREF="node12.html#SECTION00844000000000000000">Loading Fonts</A><LI><A NAME="tex2html910" HREF="node12.html#SECTION00845000000000000000">Setting the X Window System to Run More Than 8 bpp</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION00840000000000000000">&#160;</A><A NAME="366">&#160;</A><A NAME="367">&#160;</A><A NAME="368">&#160;</A><A NAME="369">&#160;</A><A NAME="370">&#160;</A><BR>Setting up Your Computer to Get the Most from the GIMP</H1><P>This section describes how to optimize the hardware and softwareconfiguration of your computer to optimize the performance of theGIMP.<P><H2><A NAME="SECTION00841000000000000000">&#160;</A><A NAME="c0.ram">&#160;</A><A NAME="373">&#160;</A><A NAME="374">&#160;</A><A NAME="375">&#160;</A><A NAME="376">&#160;</A><A NAME="377">&#160;</A><A NAME="378">&#160;</A><BR>Notes on RAM</H2><P>The GIMP executable is about 7 Mb; however, depending on the size ofthe GIMP data directories (patterns, palettes, brushes, and so on),the memory footprint can grow another 2-10 Mb.  In addition, thescript-fu program that runs concurrently with the GIMP occupies about2.5 Mb.  Thus, the GIMP requires a minimum of about 11.5-19.5 Mb ofRAM.<P>This is not all, though, because every image loaded into the GIMP alsorequires memory.  For example, loading an RGB format image willrequire at least three times the number of pixels in the image (onebyte per RGB channel and perhaps a byte for the alpha channel) perlayer.  Thus, an image with dimensions <!-- MATH: $640\times 480$ --><IMG WIDTH="89" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img11.gif" ALT="$640\times 480$">pixelscontaining three equal-sized layers requires from 2.8 to 3.7 Mb ofmemory.<P>In addition to the memory required to display the image, there is alsothe memory required for the undo cache.  This is whatallows the GIMP to undo operations to an image being worked on.<P>The conclusion is that to work comfortably in the GIMP--to be able toopen images, composite, touchup, and apply filters--32 Mb of memoryshould be considered a minimum.  Of course, the RAM required will beproportionally more for large images containing multiple layers.<P><H2><A NAME="SECTION00842000000000000000">&#160;</A><A NAME="380">&#160;</A><A NAME="381">&#160;</A><A NAME="382">&#160;</A><A NAME="383">&#160;</A><A NAME="384">&#160;</A><A NAME="385">&#160;</A><A NAME="386">&#160;</A><BR>Notes on Video RAM</H2><P>The ability to display large images on a video monitor depends on theamount of video RAM available on the video card.  For example, if thedisplay resolution is <!-- MATH: $1024\times 768$ --><IMG WIDTH="99" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img12.gif" ALT="$1024\times 768$">with only 8 bits<A NAME="387">&#160;</A> (1 byte) of color per pixel, the minimum required amount ofvideo RAM is 0.79 Mb.  However, working with only 8 bits per pixel ispaltry, because it only allows for 256 simultaneous colors on thescreen at one time.<P>Increasing the color depth to 16 bits<A NAME="388">&#160;</A> (2 bytes) ata resolution of <!-- MATH: $1024\times 768$ --><IMG WIDTH="99" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img12.gif" ALT="$1024\times 768$">doubles the required video RAM to1.57 Mb.  This is really the minimum video RAM required to getreasonable performance from the GIMP, and a higher-performance systemmight have a resolution of <!-- MATH: $1600\times 1200$ --><IMG WIDTH="108" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img13.gif" ALT="$1600\times 1200$">with 24 bits<A NAME="389">&#160;</A> (3 bytes) of color per pixel, requiring at least 5.76 Mb ofvideo RAM.<P><H2><A NAME="SECTION00843000000000000000">Notes on Swap and GIMP Memory Management</A></H2><P>The GIMP uses memory as specified by the <TT>Toolbox:File/Preferences</TT>dialog.  Figure&nbsp;<A HREF="node12.html#f.readme.swap">4</A><BR><DIV ALIGN="CENTER"><A NAME="f.readme.swap">&#160;</A><A NAME="394">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4:</STRONG>Specifying GIMP Memory Usage</CAPTION><TR><TD><IMG SRC="img14.gif"ALT="Figure 4"></TD></TR></TABLE></DIV><BR>shows the Environment Settings branch of the <TT>Preferences</TT>dialog. As seen in the figure, the associated entry box for the tilecache<A NAME="399">&#160;</A><A NAME="400">&#160;</A> size has the default value of 10 Mb.The cache is a piece of RAM that the GIMP reserves for caching theimages you are working on.  If you are working with large images orwith many medium-sized ones, you can easily exceed this cache size.Under these circumstances, the additional required memory is obtainedby creating a GIMP swap file in the user's <TT>.gimp</TT> directory.Since this memory is not necessarily located in RAM, this cansignificantly diminish the performance of the GIMP.  Thus, if the userhas good RAM resources and is working with large images, it makessense to increase the 10 Mb value of the cache.<P>For example, with 128 Mb of RAM and with the GIMP running as theprimary application, perhaps a reasonable size for the cache is 50 to75 Mb.  This number can be tuned to the user's needs.  A useful toolfor determining how much memory is required by your applications isthe Linux/Unix command, <TT>top</TT>.  This command dynamically showsmany of the characteristics of running processes on your machine.  Inparticular, the column <TT>%MEM</TT> gives the percentage memory used byeach process.  Typing <TT>S-m</TT> (i.e., an uppercase M) makes <TT>top</TT>display the processes sorted by memory use.  The following is atruncated output from <TT>top</TT> on my Linux machine after sorting bymemory use:<P><PRE> 11:51am  up  2:31,  2 users,  load average: 0.00, 0.02, 0.0563 processes: 62 sleeping, 1 running, 0 zombie, 0 stoppedCPU states:  1.3% user,  0.9% system,  0.0% nice, 97.6% idleMem:  128012K av, 124096K used,   3916K free,  31492K shrd,  21908K buffSwap: 136040K av,   2612K used, 133428K free                 47028K cached  PID USER     PRI  NI  SIZE  RSS SHARE STAT  LIB %CPU %MEM   TIME COMMAND 6253 cbunks     0   0 14888  14M  2908 S       0  0.0 11.6   0:01 gimp  653 root      14   0 14324  13M  1304 S       0  1.1 11.1   4:50 X  679 cbunks     0   0 13172  12M  4024 S       0  0.0 10.2   0:17 netscape  663 cbunks     3   0  5236 5236  2088 S       0  0.0  4.0   0:05 emacs 6234 cbunks     0   0  5072 5072  1784 S       0  0.0  3.9   0:00 knews 6269 cbunks     0   0  3252 3252  1964 S       0  0.0  2.5   0:00 xfig 6254 cbunks     0   0  2360 2360   928 S       0  0.0  1.8   0:00 script-fu  555 xfs        0   0  2280 2280   244 S       0  0.0  1.7   0:00 xfs  673 cbunks     0   0  1532 1532   976 S       0  0.0  1.1   6:14 Xquote  607 news       0   0  1216 1216    76 S       0  0.0  0.9   0:00 innd  662 cbunks     3   0  1088 1088   676 S       0  0.3  0.8   0:00 xterm 6287 cbunks    16   0  1056 1056   848 R       0  0.7  0.8   0:01 top</PRE>As can be seen from the display, there is 128 Mb of RAM, of which GIMPis occupying 11.6%.  In conjunction with the other processes,including X, Netscape, and Emacs, about 50% of the RAM is being used.The remaining 50% equals 64 Mb of RAM.  Thus, for my machine, itmight be reasonable to set the GIMP cache to 50 Mb.  Of course, yourmileage will vary.<P><H2><A NAME="SECTION00844000000000000000">&#160;</A><A NAME="s1.loading-fonts">&#160;</A><A NAME="411">&#160;</A><A NAME="412">&#160;</A><A NAME="413">&#160;</A><A NAME="414">&#160;</A><A NAME="415">&#160;</A><A NAME="416">&#160;</A><BR>Loading Fonts</H2><P>The <TT>Text</TT><A NAME="418">&#160;</A> tool in the GIMP requires fonts servedup by the X Window System.  Unfortunately, not every X Window Systemis delivered with all the cool fonts you'll want to have.  It ispossible, though, to download a nice set of fonts from the Internetand to install them on your system.  This section describes how to dothat.  Note that although the advice given here will work on manyLinux and UNIX systems, it is not guaranteed to work on all of them.The goal of this section is to be helpful, but due to the variabilityof different systems, it would be impossible to cover all cases.<P>There are two widely used font collections for computers running the XWindow System.  These collections are called <TT>freefonts</TT><A NAME="420">&#160;</A> and <TT>sharefonts</TT>.<A NAME="422">&#160;</A>  They can be found at manyplaces around the web, but two places you might try are:<PRE> ftp://ftp.gimp.org/pub/gimp/fonts/ftp://metalab.unc.edu/pub/linux/X11/fonts/</PRE>The files to download will be named something like <TT>freefonts-0.10.tar.gz</TT> and <TT>sharefonts-0.10.tar.gz</TT>.  The namesmay change to reflect updated version numbers.<P>Once downloaded, they must be installed in a font directory.  ForRedHat Linux systems, fonts are typically installed in <TT>/usr/X11R6/lib/X11/fonts/</TT>.  However, this may be different for othersystems running the X Window System.  It is not necessary to installthe fonts in the system directory.  They can be installed anywherethat is convenient--even in the user's home directory.  This lastoption may be necessary for a user who wants to use great fonts butdoesn't have root privilege.<P>The following instructions assume that the installation is being madeto the user's directory called <TT>~/FONTS</TT>.  After downloadingthe two font packages and moving them to this directory, theinstructions for installing the <TT>freefonts</TT> package are asfollows: <PRE>% cd ~/FONTS% gzip -dc freefonts-0.10.tar.gz | tar xvf -</PRE> This uncompresses and unpacks the font collection archive.  This isfollowed by the commands that tell the X Window System where the newfonts live: <PRE>% xset fp+ ~/FONTS/freefont% xset fp rehash</PRE>Follow the same instructions to install the <TT>sharefonts</TT> packageand that's all there is to it!  The <TT>freefonts</TT> package contains79 fonts and the <TT>sharefonts</TT> package 22.  The next time the GIMPis run, these new fonts will be available to the <TT>Text</TT> tool.<P>If these fonts were not pre-installed in the usual system directory,you'll need to tell the X Window System where to find them each time youstart up a new X session.  This can be automated by putting thelast two commands above in your <TT>.xinitrc</TT> file.<P><H2><A NAME="SECTION00845000000000000000">Setting the X Window System to Run More Than 8 bpp</A></H2><P>Using the GIMP is greatly enhanced by having a display with sufficientcolor depth<A NAME="440">&#160;</A> to displaysubtle color variations.  A display with only 8 bits per pixel (bpp)can represent only 256 colors simultaneously, which is insufficientfor many photographs.  The result, as explained inSection&nbsp;<A HREF="node84.html#s9.color-distortion">9.5.1</A>, is a type of color distortioncalled dithering. If your video adapter has sufficient RAM, it is possible to display at16 or 24 bits per pixel, which will greatly enhance your viewingpleasure and your ability to work effectively with color.  Forexample, to run at 16 bits per pixel at a <!-- MATH: $1024\times 768$ --><IMG WIDTH="99" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img12.gif" ALT="$1024\times 768$">screenresolution, you'll need about 1.6 Mb of video RAM.  However, at aresolution of <!-- MATH: $800\times 600$ --><IMG WIDTH="89" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img15.gif" ALT="$800\times 600$">,you'll need less than 1 Mb.  Whether itis reasonable to use the lower resolution to get better color depth isup to the individual user to decide.<P>The X Window System on Linux machines typically defaults to only 8bpp.  If you are using XFree86, the following command can be used torun a higher color depth (for other X Window Systems, consult your manpages):<PRE> % startx -- -bpp 16</PRE>This command will run X at 16 bpp only if there is an appropriatesection in the XF86Config file.  For Redhat Linux systems, this fileis typically found in the directory <TT>/etc</TT> or <TT>/etc/X11</TT>.More details on how to configure the X Window System using XF86Configcan be found in the XF86Config man page.<P><HR><H1><A NAME="SECTION00850000000000000000">&#160;</A><A NAME="447">&#160;</A><A NAME="448">&#160;</A><A NAME="449">&#160;</A><BR>Sources of Raw Image Materials</H1><P>Part of the GIMP is about digital image creation, but much more isabout digital image manipulation.  One of the primary problems in anyproject, then, is finding the necessary raw materials: the digitalimages to be manipulated.<P>There are many sources for digital images.  A scanner is onepossibility.  However, some care must be exercised, because fair userules can be a little tricky concerning copyrights<A NAME="450">&#160;</A>.<A NAME="451">&#160;</A>It is particularly recommended that caution be used when using animage of a recognizable person or any trademarks or company logos.These sorts of images are often aggressively protected, even fornoncommercial use.<P>Of course, scanning one's own photographs is an excellent source ofmaterial.  If you don't have ready access to a scanner, photo-CDs area relatively inexpensive way of having your photographs professionallyscanned and saved in a convenient storage medium.  Digital cameras arealso excellent tools for getting the pictures you need.  Manygood-quality, low-priced digital cameras are now available.  A majoradvantage of a digital camera is that photos can be taken andimmediately evaluated.  Thus, if the photo doesn't quite have thedesired qualities, it can be taken again, until the right subjectmatter is created.  Several of the images used in this book wereobtained this way.<P>Nevertheless, it is often inconvenient or just impossible topersonally take photos of some subjects--pictures of frosty icebergsat the South Pole, a Bengal tiger in its natural habitat, the spaceshuttle in orbit.  Most of us just can't go there to get the shot.Let's not despair, though.  There is a treasure-trove of freephotographic material on the Internet, and all of the above and muchmore can be found with a little effort.  The secret is that manyUnited States government web sites have no-copyright-assertionpolicies.  This means that most of the photos on these sites can befreely used both commercially and noncommercially.<P>Examples of excellent sources of large, free image archives can befound at web sites for the National Aeronautics and SpaceAdministration (NASA), the National Oceanic and AtmosphericAdministration (NOAA), and the U.S. Fish and Wildlife Service (FWS).These all have terrific image libraries containing tens of thousandsof images of animals, plants, underwater life, space, planes, ships,and so on.  The following is a list of web sites that are the startingpoints for exploring some of these image collections.  Just rememberthat there are some restrictions, and the responsibility ofascertaining the copyright of each image remains with you.  Make sureyou read the copyright claims on each site before using images foundthere.<P>Much of the raw photographic image material used in this book comesfrom three main sources.  NASA has several excellent sites housingimage collections.  Here are the three I made the most useof: <PRE><a href="http://www.nasa.gov/gallery/photo" target="new">http://www.nasa.gov/gallery/photo</a><a href="http://images.jsc.nasa.gov" target="new">http://images.jsc.nasa.gov</a><a href="http://nix.nasa.gov" target="new">http://nix.nasa.gov</a></PRE>I have also made heavy use of the NOAA's main photo site, which can be found at <PRE> <a href="http://www.photolib.noaa.gov" target="new">http://www.photolib.noaa.gov</a></PRE>The U.S. FWS also has a terrific photo library located at<PRE><a href="http://pictures.fws.gov" target="new">http://pictures.fws.gov</a></PRE><P>The convention used in this book for crediting photos taken from thesesites is to give the complete URL of the image the first time itappears in the book.  This not only credits the image source, but canalso be used by the reader to directly access the photo from theInternet.<P>There are many more U.S. government services that provide some or allof their imagery free to the public.  The U.S. Navy and Air Force, theLibrary of Congress, the U.S. Geological Service, and many more haveweb sites with images free for public use.  Although these sites offerlarge, useful collections of images, it is sometimes frustratingbrowsing their sites, trying to find the right image for a specialproject.  A solution is to download the entire site usingweb-mirroring software.  The images can then be extracted and placedin a separate directory.  This creates a personal image library thatis much easier to browse than it would be online.<P>There are several free web-mirroring programs available.  The one Iuse is called GetWeb<A NAME="458">&#160;</A><A NAME="459">&#160;</A>, and its homepage is at <A NAME="tex2html9" HREF="http://www.enfin.com/getweb/index.html" target="new"><TT>http://www.enfin.com/getweb/index.html</TT></A>.Figure&nbsp;<A HREF="node13.html#f.readme.getweb">5</A><BR><DIV ALIGN="CENTER"><A NAME="f.readme.getweb">&#160;</A><A NAME="464">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5:</STRONG>Graphic Interface for Web Mirroring Software: GetWeb</CAPTION><TR><TD><IMG SRC="img16.gif"ALT="Figure 5"></TD></TR></TABLE></DIV><BR>shows what the graphical user interface for GetWeb looks like.  It isfairly self-explanatory, with fields allowing the entry of the rootpage's URL, descriptions of the types of files to be downloaded,file-filtering mechanisms, and the directory to save the files to.<P>GetWeb downloads a web site to the specified local directory, whilemaintaining the relative directory structure of the mirrored site.  Ifthe root of the local directory is called <TT>MIRROR</TT>, a bash shellscript that can be used to cull all the JPEG image files might be:<PRE> #!/bin/bashmkdir IMAGESfind MIRROR -name "*.jpg" -exec mv {} IMAGES \;</PRE>You would use the script by moving it to the directory containing <TT>MIRROR</TT> and running it there (it might be necessary tomake the script executable with the UNIX <TT>chmod</TT> command).  Thiswould produce the new directory named <TT>IMAGES</TT> containing all theJPEG files.<P><HR><H1><A NAME="SECTION00860000000000000000">&#160;</A><A NAME="475">&#160;</A><A NAME="476">&#160;</A><BR>The History of the GIMP</H1><P>It would be difficult to write a book such as this one withoutrecounting the history of the GIMP...so here it is.<P>The original GIMP was created of necessity by Spencer Kimball andPeter Mattis in August, 1995.  They were working on a project for acomputer science class at the University of California, Berkeley, andtheir project was dumping core.  They decided, in extremis, to trysomething different--a pixel-based image manipulation program.<P>Six months later, in February of 1996, an early beta version of theGIMP was released onto the Internet, and the adventure had commenced.This early GIMP, version 0.54, relied on the Motif widget library forthe core windowing capabilities.  The use of this commercial softwareproduct went contrary to the currents of the open-source movement,which were beginning to gather momentum around the growing base of Linuxusers.  A decision was made to generate an independent, open widgetset based on an equally open core drawing library.  The GIMP toolkit(GTK) was born.  The first version of the toolkit was released in Julyof 1996.<P>At this point there were already many developers around the worldworking with Kimball and Mattis on debugging and improving the GIMP.The GIMP had several major weaknesses as a pixel-basedimage-manipulation program because it had an inefficient memorymanagement system and did not have layers.  After a long wait, version0.99 was released in February of 1997.  This version of the GIMPcontained the main features and architecture of the GIMP as it isdistributed today.  It was layer-based, with a tiled memory managementscheme built in, and a large number of plug-in filters had beenwritten for it.<P>Finally, on May 19, 1998 the GIMP passed from beta development to itsfirst stable release.  The GIMP version 1.0 was delivered to theInternet community.  Since then, development of the GIMP has continuedat a rapid pace.  <P><P><HR><H1><A NAME="SECTION00900000000000000000">&#160;</A><A NAME="c1.basics">&#160;</A><BR>1. GIMP Basics</H1><P>This chapter reviews the features of the GIMP Toolbox and imagewindows, introduces the major dialogs, and presents importantfunctions not covered elsewhere in this book.<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html945" HREF="node16.html">1.1 Introducing the GIMP Windows and Dialogs</A><UL><LI><A NAME="tex2html946" HREF="node16.html#SECTION00911000000000000000">1.1.1 The Toolbox</A><LI><A NAME="tex2html947" HREF="node16.html#SECTION00912000000000000000">1.1.2 The Image Window</A><LI><A NAME="tex2html948" HREF="node16.html#SECTION00913000000000000000">1.1.3 The Layers, Channels, and Paths Dialogs</A><LI><A NAME="tex2html949" HREF="node16.html#SECTION00914000000000000000">1.1.4 The Dialogs for Color, Brushes, Patterns, Gradients, and Palettes</A></UL><LI><A NAME="tex2html950" HREF="node17.html">1.2 Loading and Saving Images</A><LI><A NAME="tex2html951" HREF="node18.html">1.3 Creating New Images</A><LI><A NAME="tex2html952" HREF="node19.html">1.4 RGB, Grayscale, and Indexed Images</A><LI><A NAME="tex2html953" HREF="node20.html">1.5 Undoing and Redoing</A><LI><A NAME="tex2html954" HREF="node21.html">1.6 Recalling the Last Filter Dialog</A><LI><A NAME="tex2html955" HREF="node22.html">1.7 Copy, Cut, and Paste Buffers</A><LI><A NAME="tex2html956" HREF="node23.html">1.8 Zoom and New View</A><UL><LI><A NAME="tex2html957" HREF="node23.html#SECTION00981000000000000000">1.8.1 Zoom</A><LI><A NAME="tex2html958" HREF="node23.html#SECTION00982000000000000000">1.8.2 New View</A></UL><LI><A NAME="tex2html959" HREF="node24.html">1.9 The Help System</A><LI><A NAME="tex2html960" HREF="node25.html">1.10 Common Problems and <BR>Frequently Asked Questions</A></UL><!--End of Table of Child-Links--><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html973" HREF="node16.html#SECTION00911000000000000000">1.1.1 The Toolbox</A><LI><A NAME="tex2html974" HREF="node16.html#SECTION00912000000000000000">1.1.2 The Image Window</A><LI><A NAME="tex2html975" HREF="node16.html#SECTION00913000000000000000">1.1.3 The Layers, Channels, and Paths Dialogs</A><LI><A NAME="tex2html976" HREF="node16.html#SECTION00914000000000000000">1.1.4 The Dialogs for Color, Brushes, Patterns, Gradients, and Palettes</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION00910000000000000000">1.1 Introducing the GIMP Windows and Dialogs</A></H1><P>This section gives an overview of the the main features of the GIMPwindows and dialogs.  The GIMP windows fall into four main categories.They are the Toolbox window; the image window; the Layers, Channels,and Paths dialogs; and the dialogs for selecting colors, brushes,patterns, gradients, and palettes.  Each of these is brieflyintroduced in the following sections.<P><H2><A NAME="SECTION00911000000000000000">1.1.1 The Toolbox</A></H2><P>Figure&nbsp;<A HREF="node16.html#f.basics.toolbox-window">1.1</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.basics.toolbox-window">&#160;</A><A NAME="837">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.1:</STRONG>The Toolbox Window</CAPTION><TR><TD><IMG SRC="img17.gif"ALT="Figure 1.1"></TD></TR></TABLE></DIV><BR>illustrates the Toolbox window.<A NAME="841">&#160;</A><A NAME="842">&#160;</A>  This window is the first toappear when the GIMP is run.  It consists of 27 Toolbox functionicons; the <TT>File</TT> and <TT>Xtns</TT> pull-down menus; and the <TT>Active Foreground Color</TT>, <TT>Active Background Color</TT>, <TT>DefaultColors</TT>, <TT>Swap Colors</TT>, <TT>Active Brush</TT>, <TT>Active Pattern</TT>,and <TT>Active Gradient</TT> icons.  The function icons are each named inthe figure shown on page&nbsp;<A HREF="node11.html#f.readme.icons"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="cross_ref_motif.gif"></A>, and their uses arediscussed in various places in this book.<P>Almost all the tools in the Toolbox have options.  Double-clicking ona tool brings up its <TT>Tool Options</TT> dialog<A NAME="854">&#160;</A>.  Once opened, the dialog remains open until it is explicitlyclosed, supplying the interface for the tool options in use at themoment.  Changing tools automatically changes the <TT>Tool Options</TT>dialog, if its window is open.  This dialog can also be invoked with<TT>Toolbox:File/Dialogs/Tool Options</TT> or by typing <TT>C-S-t</TT> inthe Toolbox window.  Figure&nbsp;<A HREF="node16.html#f.basics.toolbox-window">1.1</A>(b) shows the<TT>Tool Options</TT> dialog for the <TT>Gradient</TT> tool.<P><H2><A NAME="SECTION00912000000000000000">&#160;</A><A NAME="s1.image-window">&#160;</A><A NAME="863">&#160;</A><A NAME="864">&#160;</A><BR>1.1.2 The Image Window</H2><P>The image window is the most important window in the GIMP.  It is alsothe most feature-rich.  Figure&nbsp;<A HREF="node16.html#f.basics.image-window">1.2</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.basics.image-window">&#160;</A><A NAME="867">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.2:</STRONG>The Image Window</CAPTION><TR><TD><IMG SRC="img18.gif"ALT="Figure 1.2"></TD></TR></TABLE></DIV><BR>illustrates a typical image window.  Note that the window title bar ismarked<PRE>*image-window.xcf-16.0 (RGB) 200%</PRE>which gives quite a bit of information about this image.  The string<TT>image-window.xcf</TT> is the name of the file on disk which containsthe original version of this image, and the <TT>*</TT> indicates that theimage in the window has been modified with respect to the version onthe disk.  Thus, to avoid losing the changes made to the image it mustbe saved (see Section&nbsp;<A HREF="node17.html#s1.load-save">1.2</A>).  The string <TT>16.0</TT>gives the window number, 16, and the view number, 0.  Every time a newimage window is opened, the window number is incremented except whenthe new window is created using <TT>New View</TT> and, then, the viewnumber is incremented (see Section&nbsp;<A HREF="node23.html#s1.new-view">1.8.2</A> for more on viewnumbers).  The string in parentheses, <TT>(RGB)</TT>, gives the imagetype (see Section&nbsp;<A HREF="node19.html#s1.image-type">1.4</A>), which can be RGB, Grayscale,or Indexed.  Finally, the string <TT>200%</TT> indicates that the imageis zoomed and is displayed in its window at twice its true size.<P>Additional information about the image can be had from the <TT>WindowInfo</TT><A NAME="883">&#160;</A><A NAME="884">&#160;</A> dialog,which is shown in Figure&nbsp;<A HREF="node16.html#f.basics.image-window">1.2</A>(b), and which isfound in the <TT>Image:View</TT> menu, or can be displayed by typing <TT>C-S-i</TT> in the image window.  This dialog gives the image type, itsdimensions in pixels, and its resolution in dots per inch.  The unitsof the rulers at the left and upper sides of the image windowcorrespond to the dimensions shown in the <TT>Window Info</TT> dialog.Moving the mouse cursor into the image window makes an arrow appear oneach ruler, indicating the cursor's position.  The cursor position isalso precisely shown in the status bar.<A NAME="889">&#160;</A>  InFigure&nbsp;<A HREF="node16.html#f.basics.image-window">1.2</A>(a), the status bar indicates thatthe mouse cursor is located at the position (99,150).  Both therulers and the status bar can be toggled off, which is done with <TT>Toggle Rulers</TT><A NAME="892">&#160;</A> and <TT>ToggleStatusbar</TT>,<A NAME="894">&#160;</A> both found in the <TT>Image:View</TT> menu.<P>The most important feature of the image window is the Imagemenu,<A NAME="896">&#160;</A> shown inFigure&nbsp;<A HREF="node16.html#f.basics.image-window">1.2</A>(c).  This menu is displayed byright-clicking in the image window and can also be displayed byclicking the arrow icon found in the upper-left corner of the window(see Figure&nbsp;<A HREF="node16.html#f.basics.image-window">1.2</A>(a)).  The Image menu and itssubmenus stay open until one of its items has been selected by themouse.  However, these menus can be opened as separatewindows<A NAME="899">&#160;</A><A NAME="900">&#160;</A><A NAME="901">&#160;</A> and, in so doing,be made to remain on the screen.  This is done by clicking on thedashed line at the top of the menu.  This is illustrated inFigure&nbsp;<A HREF="node16.html#f.basics.image-window">1.2</A>(d).  The menu window can beeliminated from the screen by again clicking on the dashed line at thetop of the menu.<P>When an image is larger than can be displayed by the image window, thescroll bars<A NAME="903">&#160;</A> seen inFigure&nbsp;<A HREF="node16.html#f.basics.image-window">1.2</A>(a) allow the image to be pannedinside the window.  However, there is also a specialpanner<A NAME="905">&#160;</A><A NAME="906">&#160;</A> window thatcan be displayed by clicking and holding the left mouse button on thefour-way arrow icon found at the lower-right corner of the imagewindow.  The panner window is shown inFigure&nbsp;<A HREF="node16.html#f.basics.image-window">1.2</A>(e).  Dragging the mouse in thiswindow pans the image in the image window.  Alternatively, the imagecan also be panned by middle-button-clicking and dragging with themouse in the image window.<P>Finally, there are a pair of buttons found at the lower-left corner ofthe image window that are used for the <TT>Quick Mask</TT><A NAME="909">&#160;</A> function.  This function is covered inSection&nbsp;<A HREF="node47.html#s4.quick-mask">4.5.2</A>.<P><H2><A NAME="SECTION00913000000000000000">1.1.3 The Layers, Channels, and Paths Dialogs</A></H2><P>The Layers, Channels, and Paths<A NAME="912">&#160;</A> dialogs are veryimportant tools in the GIMP.  These dialogs can be displayed byselecting <TT>Layers &amp; Channels</TT><A NAME="914">&#160;</A><A NAME="915">&#160;</A> from the <TT>Image:Dialogs</TT> menu or by typing <TT>C-l</TT> in the image window andselecting the appropriate tab.  The three dialogs are shown inFigures&nbsp;<A HREF="node16.html#f.basics.layers-dialog">1.3</A>(a), (b), and (c).<BR><DIV ALIGN="CENTER"><A NAME="f.basics.layers-dialog">&#160;</A><A NAME="920">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.3:</STRONG>The Layers, Channels, and Paths Dialogs</CAPTION><TR><TD><IMG SRC="img19.gif"ALT="Figure 1.3"></TD></TR></TABLE></DIV><BR>The Layers dialog<A NAME="924">&#160;</A> is discussed in detail inSection&nbsp;<A HREF="node27.html#s2.layers-dialog">2.1.1</A>, the Paths dialog inSection&nbsp;<A HREF="node39.html#s3.paths-dialog">3.4</A>, and the Channels dialog inSection&nbsp;<A HREF="node43.html#s4.channels-dialog">4.1.1</A>.<P><H2><A NAME="SECTION00914000000000000000">1.1.4 The Dialogs for Color, Brushes, Patterns, Gradients, and Palettes</A></H2><P>Clicking on the <TT>Active Foreground Color</TT> or <TT>ActiveBackground Color</TT> patches in the Toolbox window (seeFigure&nbsp;<A HREF="node16.html#f.basics.toolbox-window">1.1</A>(a)), brings up the <TT>ColorSelection</TT> dialog shown in Figure&nbsp;<A HREF="node16.html#f.basics.color-selection">1.4</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.basics.color-selection">&#160;</A><A NAME="1290">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.4:</STRONG>The <TT> Color Selection</TT> Dialog</CAPTION><TR><TD><IMG SRC="img20.gif"ALT="Figure 1.4"></TD></TR></TABLE></DIV><BR>The rainbow-colored vertical bar is for choosing hue, and the largecolored square is for choosing saturation and value.  A color choiceis made by clicking and dragging with the mouse to select the desiredhue, saturation, and value.  Numerical values can also be entered forR (red), G (green), B (blue), H (hue), S (saturation), and V (value)in the data entry boxes.  More on these color space components isdiscussed in Chapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A>.  Several othercolor-choosing dialogs can be used by clicking on the tabs located inthe upper part of the window.  <P>Choosing a color in the <TT>Color Selection</TT> dialog makes that colorappear in the <TT>Active Foreground Color</TT> or <TT>Active BackgroundColor</TT> patch (see Figure&nbsp;<A HREF="node16.html#f.basics.toolbox-window">1.1</A>(a)), dependingon which patch was clicked to invoke the <TT>Color Selection</TT> tool.Clicking the <TT>Swap Colors</TT><A NAME="946">&#160;</A><A NAME="947">&#160;</A><A NAME="948">&#160;</A><A NAME="949">&#160;</A><A NAME="950">&#160;</A>icon (the two-headed arrow next to the active color patches) switchesthe foreground and background colors.  This can also be accomplishedby typing <TT>x</TT> in the image window.  Clicking the <TT>DefaultColors</TT><A NAME="953">&#160;</A> icon (the small black and whiterectangles below the color patches) reverts the foreground andbackground colors to their defaults of black and white.  This can alsobe accomplished by typing <TT>d</TT> in the image window.<P>Figure&nbsp;<A HREF="node16.html#f.basics.brush-selection">1.5</A>(a) <BR><DIV ALIGN="CENTER"><A NAME="f.basics.brush-selection">&#160;</A><A NAME="957">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.5:</STRONG>The Brush Selection Dialog</CAPTION><TR><TD><IMG SRC="img21.gif"ALT="Figure 1.5"></TD></TR></TABLE></DIV><BR>shows the <TT>Brush Selection</TT><A NAME="962">&#160;</A> dialog.This dialog can be displayed by clicking on the <TT>Active Brush</TT>icon in the Toolbox window.  Clicking on a brush from the dialog makesit appear as the new active brush in the Toolbox window, as shown inFigure&nbsp;<A HREF="node16.html#f.basics.brush-selection">1.5</A>(b).<P>Figure&nbsp;<A HREF="node16.html#f.basics.pattern">1.6</A>(a) <BR><DIV ALIGN="CENTER"><A NAME="f.basics.pattern">&#160;</A><A NAME="967">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.6:</STRONG>The Pattern Selection Dialog</CAPTION><TR><TD><IMG SRC="img22.gif"ALT="Figure 1.6"></TD></TR></TABLE></DIV><BR>shows the <TT>Pattern Selection</TT> dialog<A NAME="972">&#160;</A>.  This dialog can be displayed by clicking on the <TT>ActivePattern</TT> icon in the Toolbox window.  Clicking on a pattern from thedialog makes it appear as the new active pattern in the Toolboxwindow, as shown in Figure&nbsp;<A HREF="node16.html#f.basics.pattern">1.6</A>(b).<P>Figure&nbsp;<A HREF="node16.html#f.basics.gradient">1.7</A>(a) <BR><DIV ALIGN="CENTER"><A NAME="f.basics.gradient">&#160;</A><A NAME="977">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.7:</STRONG>The Gradients Dialog</CAPTION><TR><TD><IMG SRC="img23.gif"ALT="Figure 1.7"></TD></TR></TABLE></DIV><BR>shows the <TT>Gradients</TT> dialog.<A NAME="982">&#160;</A>  This dialogcan be displayed by clicking on the <TT>Active Gradient</TT> icon in theToolbox window.  Clicking on a gradient from the dialog makes itappear as the new active gradient in the Toolbox window, as shown inFigure&nbsp;<A HREF="node16.html#f.basics.gradient">1.7</A>(b).  Furthermore, custom gradients canbe created by clicking on the <TT>Gradients</TT> dialog's Edit button.This produces the <TT>Gradient Editor</TT>, shown inFigure&nbsp;<A HREF="node16.html#f.basics.gradient">1.7</A>(c).<P>Figure&nbsp;<A HREF="node16.html#f.basics.palette">1.8</A>(a) <BR><DIV ALIGN="CENTER"><A NAME="f.basics.palette">&#160;</A><A NAME="990">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.8:</STRONG>The Color Palette Dialog</CAPTION><TR><TD><IMG SRC="img24.gif"ALT="Figure 1.8"></TD></TR></TABLE></DIV><BR>shows the <TT>Color Palette</TT> dialog.<A NAME="995">&#160;</A><A NAME="996">&#160;</A>  This dialog can bedisplayed from the <TT>Image:Dialogs</TT> menu or by typing <TT>C-p</TT> inthe Toolbox window.  The dialog consists of the Palette tab whichdisplays the active palette.  Clicking on the Select tab allows you tochoose from a large number of predefined palettes, as shown inFigure&nbsp;<A HREF="node16.html#f.basics.palette">1.8</A>(b).  In addition, you can create custompalettes by clicking on the Edit button.  This produces the <TT>ColorPalette Edit</TT><A NAME="1001">&#160;</A> dialog, shown inFigure&nbsp;<A HREF="node16.html#f.basics.palette">1.8</A>(c).<P><HR><H1><A NAME="SECTION00920000000000000000">&#160;</A><A NAME="s1.load-save">&#160;</A><A NAME="1005">&#160;</A><A NAME="1006">&#160;</A><A NAME="1007">&#160;</A><A NAME="1008">&#160;</A><BR>1.2 Loading and Saving Images</H1><P>The two most fundamental operations that can be performed in the GIMPare that of loading and saving images.  There are a few subtletiesabout these operations worth noting.  Figure&nbsp;<A HREF="node17.html#f.basics.load-image">1.9</A><BR><DIV ALIGN="CENTER"><A NAME="f.basics.load-image">&#160;</A><A NAME="1011">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.9:</STRONG>Loading Images into the GIMP</CAPTION><TR><TD><IMG SRC="img25.gif"ALT="Figure 1.9"></TD></TR></TABLE></DIV><BR>illustrates the <TT>Load Image</TT><A NAME="1016">&#160;</A> dialog.This function can be called in several ways.  It lives in the <TT>Image:File/Open</TT><A NAME="1018">&#160;</A> menu and the <TT>Toolbox:Image/Open</TT> menu, and it can be obtained by simply typing <TT>C-o</TT> in either the image or Toolbox windows.<P>You can navigate your file structure's directory tree using the <TT>Load Image</TT> dialog.  The directories are shown to the left, and filesto the right.  Clicking on a file highlights it, and if a previewimage for this file exists, it is displayed in the preview box nearthe bottom of the dialog.  If no preview exists one can be created byclicking on the Generate Preview button (the button displaying thethumbnail in Figure&nbsp;<A HREF="node17.html#f.basics.load-image">1.9</A>(a)).  Clicking the <TT>OK</TT> button at the bottom of the dialog loads the highlighted image.Figure&nbsp;<A HREF="node17.html#f.basics.load-image">1.9</A>(a) shows a highlighted file, and thepreview box shows the associated thumbnail for this image.<P>Clicking the OK button loads the image.  A file can also be loaded bydouble-clicking on its name.  Double-clicking on directory namesnavigates the <TT>Load Image</TT> dialog to that directory.  It ispossible to load multiple images<A NAME="1026">&#160;</A><A NAME="1027">&#160;</A> into the GIMP by highlightingmultiple files before clicking the OK button.  Multiple files arehighlighted by pressing the Shift key while clicking on the desiredfilenames.  Dragging the mouse with the Shift key pressed highlightsall the files that come under the mouse cursor.<P>Another very useful feature of the <TT>Load Image</TT> dialog is thatfile (and directory) name completion<A NAME="1029">&#160;</A> is enabled in the selection box.  Typing a fewletters of a filename followed by pressing the <TT>Tab</TT> key willautomatically complete as much of the name as is uniquely defined bywhat has already been typed.  The right side of the dialog thendisplays all the files that match the letters in the selection box.Adding a letter followed by pressing the <TT>Tab</TT> key will furthercomplete as much as possible, and so on.  For a good typist, this isan agreeable and rapid way to find the file to be loaded.<P>An image can be saved with the <TT>Save As</TT><A NAME="1033">&#160;</A>function found in the <TT>Image:File</TT> menu.  This brings up the <TT>Save Image</TT> dialog,<A NAME="1036">&#160;</A> shown inFigure&nbsp;<A HREF="node17.html#f.basics.save-image">1.10</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.basics.save-image">&#160;</A><A NAME="1039">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.10:</STRONG>Saving Images</CAPTION><TR><TD><IMG SRC="img26.gif"ALT="Figure 1.10"></TD></TR></TABLE></DIV><BR>This dialog is similar to the <TT>Load Image</TT> dialog.  The image canbe saved to a new or existing file.  Navigation of the file structuredirectory tree is the same as for the <TT>Load Image</TT> dialog.Entering a name in the selection box at the bottom of the dialogfollowed by clicking the OK button saves the image to the specifiedfilename.<P>A convenient feature of the <TT>Save Image</TT> dialog is that the fileis automatically saved in the format specified by the extension of thetyped filename.  As an example, if <TT>foo.jpg</TT> is typed, the filewill be saved in JPEG format.<P>The GIMP can load and save in many file formats.<A NAME="1047">&#160;</A>The set of all formats can be seen by looking in the Save Optionsmenu,<A NAME="1048">&#160;</A> shown inFigure&nbsp;<A HREF="node17.html#f.basics.save-image">1.10</A>(b).  There are three file formatswhich are unique to the GIMP.  The first is XCF<A NAME="1050">&#160;</A>, which is the native GIMP format<A NAME="1051">&#160;</A>.  This is the onlyformat that can save all the GIMP features and states when working ona project.  If your image contains multiple layers, channels,selections, or paths, you must save using the XCF format to avoidlosing parts of your work.  Because the GIMP is the only program thatcan load XCF format files, you will also want to eventually save toother formats.  See Sections&nbsp;<A HREF="node33.html#s2.merging">2.7.1</A> and <A HREF="node33.html#s2.flatten">2.7.2</A> forprecautions that should be used before saving to a different fileformat.<P>The two other file formats native to the GIMP are PAT and GBR.PAT<A NAME="1054">&#160;</A> is for saving image patterns such as thoseavailable in the <TT>Pattern Selection</TT> dialog.  Placing a file savedwith the PAT extension in your <code>~/.gimp/patterns</code> directory willmake it available in the <TT>Pattern Selection</TT> dialog the next timeyou run the GIMP.  The GBR<A NAME="1057">&#160;</A> file format is usedfor creating GIMP brushes.  This works like for pattern files, exceptGBR files must be placed in the<code>~/.gimp/brushes</code> directory to be made available in the <TT>Brush Selection</TT> dialog.<P><HR><H1><A NAME="SECTION00930000000000000000">&#160;</A><A NAME="1060">&#160;</A><BR>1.3 Creating New Images</H1><P>Figure&nbsp;<A HREF="node18.html#f.basics.new-image">1.11</A> <BR><DIV ALIGN="CENTER"><A NAME="f.basics.new-image">&#160;</A><A NAME="1063">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.11:</STRONG>Creating New Images</CAPTION><TR><TD><IMG SRC="img27.gif"ALT="Figure 1.11"></TD></TR></TABLE></DIV><BR>shows the <TT>New Image</TT> dialog.<A NAME="1068">&#160;</A>  This isinvoked with the <TT>New</TT><A NAME="1070">&#160;</A> function, found in the<TT>Toolbox:File</TT> menu, or the <TT>Image:File</TT> menu, or by typing<TT>C-n</TT> in the Toolbox or image windows.  The most important aspectof creating a new image is the specification of the Image Type, whichcan be RGB or Grayscale, and the imageresolution.<A NAME="1074">&#160;</A><A NAME="1075">&#160;</A>  Theimage resolution is set by entering values into the Resolution X and Yentry boxes.  The default values are 72 pixels per inch, whichcorresponds, approximately, to your computer monitor's screenresolution.  If the final version of your image is to be output to ahigh-resolution printer you should choose values corresponding to thatoutput device's capabilities.<P><HR><H1><A NAME="SECTION00940000000000000000">&#160;</A><A NAME="s1.image-type">&#160;</A><A NAME="1078">&#160;</A><A NAME="1079">&#160;</A><BR>1.4 RGB, Grayscale, and Indexed Images</H1><P>The GIMP uses three formats for displaying and working with images.These are the RGB,<A NAME="1080">&#160;</A> Grayscale,<A NAME="1081">&#160;</A> and Indexed<A NAME="1082">&#160;</A> formats.  AlthoughGrayscale is discussed briefly in Chapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A> andIndexed format in Chapter&nbsp;<A HREF="node79.html#c9.web-centric">9</A>, the primary formatused in this book is RGB.<P>Because most GIMP plug-ins do not work on Indexed image formats, itmakes sense to immediately convert an indexed format image to RGB whenit is first loaded into the GIMP.  Conversion to RGB is performed withthe <TT>RGB</TT> function found in the <TT>Image:Image/Mode</TT> menu.<P><HR><H1><A NAME="SECTION00950000000000000000">1.5 Undoing and Redoing</A></H1><P>An extremely useful feature of the GIMP is its ability to performmultiple undos and redos.  The <TT>Undo</TT><A NAME="1089">&#160;</A>function is found in the <TT>Image:Edit</TT> menu, as is the <TT>Redo</TT><A NAME="1092">&#160;</A> function.  These two functions are souseful and are employed so often that you will want to immediatelymemorize their keyboard shortcuts.  These are <TT>C-z</TT> for undo and<TT>C-r</TT> for redo.<P>The number of undos that can be performed in the GIMP is controlled bythe Interface branch of the <TT>Preferences</TT> dialog, and the <TT>Preferences</TT><A NAME="1097">&#160;</A> dialog is found in the <TT>Toolbox:File</TT> menu.  Figure&nbsp;<A HREF="node20.html#f.basics.preferences1">1.12</A><BR><DIV ALIGN="CENTER"><A NAME="f.basics.preferences1">&#160;</A><A NAME="1101">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.12:</STRONG>Setting the Number of Undo Levels</CAPTION><TR><TD><IMG SRC="img28.gif"ALT="Figure 1.12"></TD></TR></TABLE></DIV><BR>illustrates the dialog with the Interface branch highlighted.  Thedefault value for the number of undos is 5, but for the size of imagesI work with and the amount of RAM I have available on my computer, Ilike to have 25 levels of undo.  If I were working with large imageswith many layers, this would not be possible, and I would change thenumber of undos to a lower value.  See Section&nbsp;<A HREF="node12.html#c0.ram"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="cross_ref_motif.gif"></A>in the <TT>README</TT> for more on how to budget your RAM.<P>An amazing feature of the GIMP is the <TT>Undo History</TT>function<A NAME="1108">&#160;</A> found in the <TT>Image:View</TT>menu.  When invoked, this function displays a palette of thumbnails,each representing an image state in the sequence of operationsperformed on your image.  Figure&nbsp;<A HREF="node20.html#f.basics.undo1">1.13</A><BR><DIV ALIGN="CENTER"><A NAME="f.basics.undo1">&#160;</A><A NAME="1112">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.13:</STRONG>Working with the Undo History Dialog</CAPTION><TR><TD><IMG SRC="img29.gif"ALT="Figure 1.13"></TD></TR></TABLE></DIV><BR>illustrates such a sequence.  Figures&nbsp;<A HREF="node20.html#f.basics.undo1">1.13</A>(a), (b),and (c) show the successive application of a selection, followed by acolor fill.  Figures&nbsp;<A HREF="node20.html#f.basics.undo1">1.13</A>(d), (e), and (f) show therespective entries in the <TT>Undo History</TT> dialog as theoperations are performed.<P>In Figure&nbsp;<A HREF="node20.html#f.basics.undo1">1.13</A>, note how the highlighted thumbnail inthe <TT>Undo History</TT> dialog indicates the current status of theimage displayed in the image window.  Performing an undo by typing<TT>C-z</TT> in the image window moves the highlighted thumbnail to alayer higher in the thumbnail stack, and performing redo with a <TT>C-r</TT> moves the highlighted thumbnail a layer lower.  Furthermore, youcan select any layer in the <TT>Undo History</TT> dialog at any timeby clicking on it.<P>In this way, you have access to any prior version of the imageavailable in the <TT>Undo History</TT> by one of two separate methods.The first is by repeatedly pressing <TT>C-z</TT> in the image windowuntil arriving at the desired state.  The second is by directlyclicking on the corresponding thumbnail in the <TT>Undo History</TT>dialog.<P><HR><H1><A NAME="SECTION00960000000000000000">1.6 Recalling the Last Filter Dialog</A></H1><P>Most GIMP filters are doted with a variety of parameters which controlthe filter effect.  Because it is often difficult to know in advancehow much of a certain filter parameter you want to apply to an image,a little experimentation is usually necessary.  Unfortunately, theGIMP filters are three menus deep in the Image menu.  Thus,experimenting with a filter means finding it in the appropriatesubmenu, evaluating its effect on the image, undoing the effect if itis unsatisfactory, and reapplying the filter with new settings.Repeatedly searching for the same filter in the system of imagesubmenus can become annoying.  One way to limit the annoyance is bytearing off the filter submenu, making access to it more rapid (seeSection&nbsp;<A HREF="node16.html#s1.image-window">1.1.2</A> for more on tear-off menus).  A moredirect method, however, is by using the keyboard shortcut for the <TT>Re-show Last</TT><A NAME="1130">&#160;</A> function.  The shortcut is<TT>A-S-f</TT>.  This function recalls the dialog of the last filterapplied to the image, along with the previously used dialog values.Thus, with two keystrokes, <TT>C-z</TT> followed by <TT>A-S-f</TT>, a filtereffect can be undone and redone with new parameter values.<P><HR><H1><A NAME="SECTION00970000000000000000">&#160;</A><A NAME="s1.copy-paste">&#160;</A><BR>1.7 Copy, Cut, and Paste Buffers</H1><P>Copying, cutting, and pasting of layers and selections are among themost common operations in the GIMP.  In this book, these operationsare used extensively in Chapter&nbsp;<A HREF="node42.html#c4.masks">4</A>, where they are neededfor building masks; in Chapter&nbsp;<A HREF="node71.html#c8.rendering">8</A>, where they are usedfor image rendering; and in Chapter&nbsp;<A HREF="node65.html#c7.compositing">7</A>, where theyare essential for compositing.<P>The commands for copying, cutting, and pasting are found in the <TT>Image:Edit</TT> menu, but they are so useful that memorizing theirkeyboard shortcuts is indispensable.  The <TT>Copy</TT><A NAME="1141">&#160;</A> command can be performed by typing <TT>C-c</TT> in the imagewindow, cutting by typing <TT>C-x</TT>,<A NAME="1144">&#160;</A> and pastingby typing <TT>C-v</TT>.<A NAME="1146">&#160;</A>  As will be seen inChapters&nbsp;<A HREF="node26.html#c2.layers">2</A>,<A HREF="node35.html#c3.selections">3</A>, and<A HREF="node42.html#c4.masks">4</A>, copying, cutting, and pasting are the most expeditiousmethods of moving layers and selections between image windows andbetween layer and channel masks.<P>The GIMP manages copying, cutting, and pasting using buffers.Whenever a generic copy or cut is performed, it is placed into thedefault buffer,<A NAME="1150">&#160;</A> replacing whatever was there.A generic paste uses the contents of the default buffer withoutclearing it, so the contents can be reused until they are replaced byanother copy or cut operation.  A copy or cut places the <EM>active</EM>layer, channel mask, or layer mask into the buffer.  If a selection isactive in the image window, only the part of the active layercontained in the selection is placed in the buffer.<P>Several special paste functions are available in the <TT>Image:Edit</TT>menu.  If an image contains an active selection, the <TT>PasteInto</TT><A NAME="1154">&#160;</A> function places the contents of the defaultbuffer into the selection, clipping the pasted image to theselection's boundaries.<A NAME="1155">&#160;</A>  The pasted imagecan be repositioned using the <TT>Move</TT> tool.  The <TT>Paste AsNew</TT><A NAME="1158">&#160;</A> function places the contents of thedefault buffer into a new image window that has dimensions just largeenough to accommodate the pasted image.<P>There is also a special copy function called <TT>CopyVisible</TT>.<A NAME="1160">&#160;</A>  Instead of copying the activelayer to the default buffer, this function copies all the visiblelayers or, if a selection is active, the parts of the visible layerswithin the selection boundaries.  If the image consists of more thanone layer the copied contents are flattened, removing the layeredstructure, before being placed into the default buffer.<P>In addition to the generic, default buffer, the GIMP also has namedbuffers.  If a large number of copy, cut, or paste operations isrequired, the named buffers<A NAME="1161">&#160;</A><A NAME="1162">&#160;</A>can be useful for organizing and distributing the pieces.Figure&nbsp;<A HREF="node22.html#f.basics.named-copy1">1.14</A><BR><DIV ALIGN="CENTER"><A NAME="f.basics.named-copy1">&#160;</A><A NAME="1301">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.14:</STRONG>Using the <TT> Copy Named</TT> Buffer</CAPTION><TR><TD><IMG SRC="img30.gif"ALT="Figure 1.14"></TD></TR></TABLE></DIV><BR>illustrates the use of named buffers.Figure&nbsp;<A HREF="node22.html#f.basics.named-copy1">1.14</A>(a) illustrates a circular selectionthat is placed into a named buffer using <TT>Copy Named</TT><A NAME="1171">&#160;</A>, found in the <TT>Image:Edit</TT> menu.  Using thisfunction displays the dialog shown inFigure&nbsp;<A HREF="node22.html#f.basics.named-copy1">1.14</A>(b), where the name of the buffer isentered.  Figure&nbsp;<A HREF="node22.html#f.basics.named-copy1">1.14</A>(c) and (d) illustrateusing <TT>Copy Named</TT>, repeated for a square selection.<P>Pasting from a named buffer is performed using the <TT>PasteNamed</TT><A NAME="1177">&#160;</A> command, found in the <TT>Image:Edit</TT> menu.Figure&nbsp;<A HREF="node22.html#f.basics.named-paste1">1.15</A><BR><DIV ALIGN="CENTER"><A NAME="f.basics.named-paste1">&#160;</A><A NAME="1303">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.15:</STRONG>Using the <TT> Paste Named</TT> Buffer</CAPTION><TR><TD><IMG SRC="img31.gif"ALT="Figure 1.15"></TD></TR></TABLE></DIV><BR>illustrates the dialog that appears when using this command.  Thecontents of any named buffer can be pasted by clicking on the name inthe dialog, followed by clicking on the Paste button.  Buffers can beremoved from the list by highlighting them and clicking on the Deletebutton.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1061" HREF="node23.html#SECTION00981000000000000000">1.8.1 Zoom</A><LI><A NAME="tex2html1062" HREF="node23.html#SECTION00982000000000000000">1.8.2 New View</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION00980000000000000000">1.8 Zoom and New View</A></H1><P>The functions <TT>Zoom</TT> and <TT>New View</TT> are for doing precision,pixel-scale work on an image.  This section describes theseparticularly useful functions.<P><H2><A NAME="SECTION00981000000000000000">&#160;</A><A NAME="s1.zoom">&#160;</A><A NAME="1190">&#160;</A><A NAME="1191">&#160;</A><BR>1.8.1 Zoom</H2><P>Figure&nbsp;<A HREF="node23.html#f.basics.zoom1">1.16</A><BR><DIV ALIGN="CENTER"><A NAME="f.basics.zoom1">&#160;</A><A NAME="1194">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.16:</STRONG>Using Zoom</CAPTION><TR><TD><IMG SRC="img32.gif"ALT="Figure 1.16"></TD></TR></TABLE></DIV><BR>illustrates the use of <TT>Zoom</TT>.  The <TT>Zoom</TT>function, enabled by clicking on the magnifying glass icon in theToolbox, has two modes of operation.  The first mode is used byclicking and dragging in the image window to frame a part of theimage.  When the mouse button is released, the delineated region iszoomed.  Figure&nbsp;<A HREF="node23.html#f.basics.zoom1">1.16</A>(a) shows a zoom selection areacreated with the mouse, and Figure&nbsp;<A HREF="node23.html#f.basics.zoom1">1.16</A>(b) shows howthis region is zoomed to fill the entire image window.  This is aconvenient way to zoom into a specific region of your image.<P>The second mode of operation for the <TT>Zoom</TT> tool is accessed bysimply clicking or Shift-clicking in the image window.  Each clickzooms in a step and each Shift-click zooms out a step.  The imagewindow can also be zoomed in or out with keyboard shortcuts.  Zoomingin is performed by typing <TT>=</TT><A NAME="1204">&#160;</A> in the imagewindow, and zooming out<A NAME="1205">&#160;</A> is performed bytyping - (that is, the minus key).  Notice that the <TT>=</TT> ison the same key as the <TT>+</TT>, which should remind you that it addsor increases zoom.  By contrast, the - key subtracts ordecreases zoom.  An advantage of the keyboard shortcuts is that theyfunction without having to first click on the <TT>Zoom</TT> icon in theToolbox.<P>The function <TT>Shrink Wrap</TT>,<A NAME="1212">&#160;</A> found inthe <TT>Image:View</TT> menu, can be used to resize the window toencompass the entire image, but only within the limits of yourmonitor's screen.  <TT>Shrink Wrap</TT> can also be invoked by typing<TT>C-e</TT> in the image window.<P>Whenever a part of a zoomed image cannot be seen in the image window,the image panner, described in Section&nbsp;<A HREF="node16.html#s1.image-window">1.1.2</A>, can beused to pan to a desired image area.  There are also three otherpossibilities for panning<A NAME="1217">&#160;</A><A NAME="1218">&#160;</A> in a zoomed image.  There are thewindow's scroll bars, however, these probably aren't the mostconvenient method.  The second choice is to middle-click and drag inthe image window.  This can work reasonably well if the image needs tobe adjusted only incrementally.  If it is necessary to pan back andforth between many different regions of a zoomed image, the <TT>Navigation Window</TT><A NAME="1220">&#160;</A><A NAME="1221">&#160;</A> is probably the most convenient.<P>The use of the <TT>Navigation Window</TT>, found in the <TT>Image:View</TT>menu, is shown in Figure&nbsp;<A HREF="node23.html#f.basics.navwin1">1.17</A>.Figure&nbsp;<A HREF="node23.html#f.basics.navwin1">1.17</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.basics.navwin1">&#160;</A><A NAME="1227">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.17:</STRONG>Using Zoom with the Navigation Window</CAPTION><TR><TD><IMG SRC="img33.gif"ALT="Figure 1.17"></TD></TR></TABLE></DIV><BR>illustrates an image zoomed to 200%, andFigure&nbsp;<A HREF="node23.html#f.basics.navwin1">1.17</A>(b) shows the <TT>Navigation Window</TT>.This dialog allows the image to be panned in the image window byclicking and dragging on the view rectangle.  You can also use the<TT>Navigation Window</TT> to control the degree of zoom by clicking onthe <TT>+</TT> and - buttons.<P><H2><A NAME="SECTION00982000000000000000">&#160;</A><A NAME="s1.new-view">&#160;</A><A NAME="1238">&#160;</A><A NAME="1239">&#160;</A><A NAME="1240">&#160;</A><BR>1.8.2 New View</H2><P>When performing detailed, pixel-scale operations on a zoomed image, itis useful to see what effect this is having on the image at normalscale, but it is inconvenient to zoom in and out after each operation.To solve this problem, there is the <TT>New View</TT>function, found in the <TT>Image:View</TT> menu.  This function creates anew image window, which is a dependent view of the exact same image.Thus, operations performed in one window are also shown in the other.The <TT>Zoom</TT> function is the only exception to this and can affectone window without affecting the other.  <TT>New View</TT> allowspixel-scale operations to be performed in one zoomed-in window whilethe same operations can be viewed in the other view window at normalscale.<P>Figure&nbsp;<A HREF="node23.html#f.basics.new-view">1.18</A><BR><DIV ALIGN="CENTER"><A NAME="f.basics.new-view">&#160;</A><A NAME="1247">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.18:</STRONG>Using New View</CAPTION><TR><TD><IMG SRC="img34.gif"ALT="Figure 1.18"></TD></TR></TABLE></DIV><BR>illustrates how the <TT>New View</TT> function works.Figure&nbsp;<A HREF="node23.html#f.basics.new-view">1.18</A>(a) shows a zoomed view of a pinecone,while Figure&nbsp;<A HREF="node23.html#f.basics.new-view">1.18</A>(b) shows a view of the same imagewith no zoom.  As shown in Figure&nbsp;<A HREF="node23.html#f.basics.new-view">1.18</A>(a), redpaint is being applied to a leaf of the pinecone with the <TT>Paintbrush</TT> tool.  Figure&nbsp;<A HREF="node23.html#f.basics.new-view">1.18</A>(b) shows that thered paint is also visible in the unzoomed window.  Note that the imageand view numbers shown in the window title bars ofFigures&nbsp;<A HREF="node23.html#f.basics.new-view">1.18</A>(a) and (b) are, respectively, 26.0 and26.1.  This indicates that these windows show views 0 and 1 of image26.<P><HR><H1><A NAME="SECTION00990000000000000000">&#160;</A><A NAME="1259">&#160;</A><A NAME="1260">&#160;</A><BR>1.9 The Help System</H1><P>The GIMP has an online help browser.  The browser can be displayedwith <TT>Toolbox:Help</TT> or by pressing the <TT>F1</TT> functionkey while the mouse cursor is in any GIMP window.<P>Figure&nbsp;<A HREF="node24.html#f.basics.help">1.19</A><BR><DIV ALIGN="CENTER"><A NAME="f.basics.help">&#160;</A><A NAME="1265">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 1.19:</STRONG>The Help System Browser</CAPTION><TR><TD><IMG SRC="img35.gif"ALT="Figure 1.19"></TD></TR></TABLE></DIV><BR>illustrates the help browser window.  Pressing the <TT>F1</TT> key whenthe mouse cursor is over a specific GIMP tool brings up the help pagerelevant to that tool.  The Contents and Index tabs provide access tothe general contents of the help database.<P><HR><H1><A NAME="SECTION009100000000000000000">&#160;</A><A NAME="s1.readme.problems">&#160;</A><BR>1.10 Common Problems and <BR>Frequently Asked Questions</H1><P>Sometimes the GIMP displays what seems like inexplicable behavior.This is usually not a bug but a misunderstanding on how to properlyuse the GIMP.  For this reason, Chapters&nbsp;<A HREF="node15.html#c1.basics">1</A> through<A HREF="node49.html#c5.colorspaces">5</A> each have a final section which addresses commonproblems.  These are presented in the format of a FAQ (frequentlyasked questions); here they are for this chapter:<P><UL><LI><B>I've opened an image in the GIMP and I want to run some plug-infilters on it, but hardly any are available.  They all seem to begrayed out.  What's wrong with my GIMP?</B><P>Nothing is wrong.  You've probably loaded an indexed image (forexample, a GIF format file), and most GIMPplug-ins<A NAME="1276">&#160;</A><A NAME="1277">&#160;</A> don't work with indexed images.  The solution is to convertyour image to RGB format with the <TT>RGB</TT> function found in the <TT>Image:Image/Mode</TT> menu.<P><LI><B>After hours of exhausting work during which I built an image withmultiple layers, masks, and paths, I saved my image to a file.However, the next time I opened my image, much of what I did on theimage was missing.  What happened?</B><A NAME="1281">&#160;</A><P>The GIMP XCF format<A NAME="1282">&#160;</A> should be used to saveimages with layers, masks, or paths (see Section&nbsp;<A HREF="node17.html#s1.load-save">1.2</A>).This is the only format that can save the state of your GIMP imageprojects.  Once a project has been completed you may want to save itin another format such as JPEG, GIF, PNG, etc.  For this you will needto convert the image after merging it (see Sections&nbsp;<A HREF="node33.html#s2.merging">2.7.1</A>)or flattening it (see Section&nbsp;<A HREF="node33.html#s2.flatten">2.7.2</A>).<P></UL><P><HR><H1><A NAME="SECTION001000000000000000000">&#160;</A><A NAME="c2.layers">&#160;</A><A NAME="1853">&#160;</A><BR>2. Review of Layers</H1><P>The GIMP is a pixel-based image manipulation tool, but from theperspective of creative composition with digital images,pixels<A NAME="1854">&#160;</A> are neither the most convenient nor the mostimportant component to work with.  This honor is reserved for layers.Pixels are the basic stuff of layers, and layers are stacked to makeimages.  This constitutes a hierarchy of scale.  Pixels are small,which makes them too hard to work with.  It would be difficult tobuild an image if it had to be done pixel-by-pixel.  On the otherhand, whole images are too unwieldy to work with comfortably.  Thereare conceptual parts or particular components of images we want towork with without disturbing the rest.  By constructing an image outof layers, it is possible to work with each component independently ofthe rest of the image.  This makes layers the happy medium betweenpixels and images.  They are ``right-sized'' for what we want toaccomplish in the GIMP.<P>The images we want to make are usually constructed of conceptualpieces from other images: a part from here and there that we stitchtogether into a single whole.  Layers allow us to combine all thepieces yet keep them separate.  This collage view of working withdigital images is extremely powerful.  We can work on individual imagepieces without affecting the others.  Having the parts on separatelayers allows for their separate processing.  Layers can bepositioned, repositioned, color-adjusted, and filtered independently.It is difficult to over-emphasize the utility of layers.  Compositing,animation, selections, effects, and enhancements are all made easierbecause of layers.<P>The objective of this chapter is to develop a firm foundation forlayer mechanics.  You will learn how to use them effectively whileavoiding common pitfalls.  The material covered here will be referredto often in later chapters.<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html1097" HREF="node27.html">2.1 Layers and the Role They Play in Images</A><UL><LI><A NAME="tex2html1098" HREF="node27.html#SECTION001011000000000000000">2.1.1 The Layers Dialog</A><LI><A NAME="tex2html1099" HREF="node27.html#SECTION001012000000000000000">2.1.2 The Layers Menu</A></UL><LI><A NAME="tex2html1100" HREF="node28.html">2.2 Channels and Their Relationship <BR>to Layers</A><UL><LI><A NAME="tex2html1101" HREF="node28.html#SECTION001021000000000000000">2.2.1 The Channels Dialog</A></UL><LI><A NAME="tex2html1102" HREF="node29.html">2.3 Layer Creation, Deletion, Duplication, and Organization</A><UL><LI><A NAME="tex2html1103" HREF="node29.html#SECTION001031000000000000000">2.3.1 Creating New Layers</A><LI><A NAME="tex2html1104" HREF="node29.html#SECTION001032000000000000000">2.3.2 Raising Layers</A><LI><A NAME="tex2html1105" HREF="node29.html#SECTION001033000000000000000">2.3.3 Lowering Layers</A><LI><A NAME="tex2html1106" HREF="node29.html#SECTION001034000000000000000">2.3.4 Duplicating Layers</A><LI><A NAME="tex2html1107" HREF="node29.html#SECTION001035000000000000000">2.3.5 Deleting Layers</A></UL><LI><A NAME="tex2html1108" HREF="node30.html">2.4 Layer Export and Import</A><LI><A NAME="tex2html1109" HREF="node31.html">2.5 Floats</A><UL><LI><A NAME="tex2html1110" HREF="node31.html#SECTION001051000000000000000">2.5.1 Automatic Creation of Floats</A><LI><A NAME="tex2html1111" HREF="node31.html#SECTION001052000000000000000">2.5.2 Explicit Creation of Floats</A><LI><A NAME="tex2html1112" HREF="node31.html#SECTION001053000000000000000">2.5.3 Anchoring Floats</A></UL><LI><A NAME="tex2html1113" HREF="node32.html">2.6 Manipulating Layers</A><UL><LI><A NAME="tex2html1114" HREF="node32.html#SECTION001061000000000000000">2.6.1 Positioning Layers</A><UL><LI><A NAME="tex2html1115" HREF="node32.html#SECTION001061100000000000000">2.6.1.1 Moving Layers</A><LI><A NAME="tex2html1116" HREF="node32.html#SECTION001061200000000000000">2.6.1.2 Aligning Layers with Guides</A><LI><A NAME="tex2html1117" HREF="node32.html#SECTION001061300000000000000">2.6.1.3 Toggling the Layer Boundary</A></UL><LI><A NAME="tex2html1118" HREF="node32.html#SECTION001062000000000000000">2.6.2 Resizing and Scaling</A><UL><LI><A NAME="tex2html1119" HREF="node32.html#SECTION001062100000000000000">2.6.2.1 Image Scaling</A><LI><A NAME="tex2html1120" HREF="node32.html#SECTION001062200000000000000">2.6.2.2 Image Resizing</A><LI><A NAME="tex2html1121" HREF="node32.html#SECTION001062300000000000000">2.6.2.3 Layer Scaling</A><LI><A NAME="tex2html1122" HREF="node32.html#SECTION001062400000000000000">2.6.2.4 Layer Resizing</A></UL><LI><A NAME="tex2html1123" HREF="node32.html#SECTION001063000000000000000">2.6.3 Flipping</A><LI><A NAME="tex2html1124" HREF="node32.html#SECTION001064000000000000000">2.6.4 Rotating in 90<SUP><I>o</I></SUP> Increments</A><LI><A NAME="tex2html1125" HREF="node32.html#SECTION001065000000000000000">2.6.5 The Transform Tool</A><UL><LI><A NAME="tex2html1126" HREF="node32.html#SECTION001065010000000000000">2.6.5.0.1 Rotation</A><LI><A NAME="tex2html1127" HREF="node32.html#SECTION001065020000000000000">2.6.5.0.2 Scaling</A><LI><A NAME="tex2html1128" HREF="node32.html#SECTION001065030000000000000">2.6.5.0.3 Shearing</A><LI><A NAME="tex2html1129" HREF="node32.html#SECTION001065040000000000000">2.6.5.0.4 Perspective</A></UL></UL><LI><A NAME="tex2html1130" HREF="node33.html">2.7 Combining Layers</A><UL><LI><A NAME="tex2html1131" HREF="node33.html#SECTION001071000000000000000">2.7.1 Merging</A><LI><A NAME="tex2html1132" HREF="node33.html#SECTION001072000000000000000">2.7.2 Flattening</A></UL><LI><A NAME="tex2html1133" HREF="node34.html">2.8 Common Problems and <BR>Frequently Asked Questions</A></UL><!--End of Table of Child-Links--><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1146" HREF="node27.html#SECTION001011000000000000000">2.1.1 The Layers Dialog</A><LI><A NAME="tex2html1147" HREF="node27.html#SECTION001012000000000000000">2.1.2 The Layers Menu</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001010000000000000000">&#160;</A><A NAME="s2.layers.layer-dialog">&#160;</A><A NAME="1857">&#160;</A><BR>2.1 Layers and the Role They Play in Images</H1><P>Figure&nbsp;<A HREF="node27.html#f.layers.layer-stack1">2.1</A> will be used to describe some of<BR><DIV ALIGN="CENTER"><A NAME="f.layers.layer-stack1">&#160;</A><A NAME="1860">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.1:</STRONG>A Three-Layer Image</CAPTION><TR><TD><IMG SRC="img37.gif"ALT="Figure 2.1"></TD></TR></TABLE></DIV><BR>the fundamental features of layers.  Although this image isconstructed of three layers, this is not evident from looking at it inthe image window.  To understand and work with the layer structure ofan image you must use the Layers dialog.<A NAME="1864">&#160;</A><A NAME="1865">&#160;</A>  However, before describing thisimportant tool, let's look at Figure&nbsp;<A HREF="node27.html#f.layers.layer-stack2">2.2</A>,which is a<BR><DIV ALIGN="CENTER"><A NAME="f.layers.layer-stack2">&#160;</A><A NAME="1868">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.2:</STRONG>Visualizing the Layer Stack in 3D</CAPTION><TR><TD><IMG SRC="img38.gif"ALT="Figure 2.2"></TD></TR></TABLE></DIV><BR>useful illustration of how layers are used to make up images.<P>Figure&nbsp;<A HREF="node27.html#f.layers.layer-stack2">2.2</A> shows a 3D break-out of how thethree-layer stack relates to the 2D image shown inFigure&nbsp;<A HREF="node27.html#f.layers.layer-stack1">2.1</A>.  The bottom layer is a picture ofa gopher couple; this layer is fully opaque.  The middle layer has thesame dimensions as the bottom layer and is completely transparentexcept for a small white rectangular region.  The white rectangleitself is partially transparent (thus, the bottom layer can beperceived through it).  Finally, the top layer's dimensions aresmaller than either the bottom or middle layers.  The top layer isalso transparent except for the text Prairie Pranks.  The vertical reddashed lines in Figure&nbsp;<A HREF="node27.html#f.layers.layer-stack2">2.2</A> show that the textin the top layer is positioned directly over the white rectangle inthe middle layer.  The black frames shown in the figure have beendrawn in to show the positions of the text and the white rectangle butare not actually part of the image (refer toFigure&nbsp;<A HREF="node27.html#f.layers.layer-stack1">2.1</A>).<P>The 3D layer stack shown in Figure&nbsp;<A HREF="node27.html#f.layers.layer-stack2">2.2</A> is auseful mental model for understanding how layers work in an image.  Italso underscores the utility of having image components on layers.Because the text is on a layer, it can be positioned independently ofthe lowest layer.  Because the white rectangle is on a layer, itspartial transparency can be adjusted without affecting the text.<P><H2><A NAME="SECTION001011000000000000000">&#160;</A><A NAME="s2.layers-dialog">&#160;</A><A NAME="1879">&#160;</A><BR>2.1.1 The Layers Dialog</H2><P>It is impossible to work with images without knowing their layerstructure.  This information is provided by the Layers dialog, whichis part of the <TT>Layers &amp; Channels</TT><A NAME="1881">&#160;</A> window.  The <TT>Layers &amp; Channels</TT> window can be found inthe <TT>Image:Layers</TT> menu, the <TT>Image:Dialogs</TT> menu, or can beinvoked by simply typing <TT>C-l</TT> in the image window.Figure&nbsp;<A HREF="node27.html#f.layers.layers-dialog">2.3</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.layers.layers-dialog">&#160;</A><A NAME="1888">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.3:</STRONG>Layers Dialog</CAPTION><TR><TD><IMG SRC="img39.gif"ALT="Figure 2.3"></TD></TR></TABLE></DIV><BR>shows the multilayer image from Figure&nbsp;<A HREF="node27.html#f.layers.layer-stack1">2.1</A>,and Figure&nbsp;<A HREF="node27.html#f.layers.layers-dialog">2.3</A>(b) shows the associated Layersdialog.<P>The Layers dialog has many components.  Let'stake a moment to briefly describe each one.Figure&nbsp;<A HREF="node27.html#f.layers.layers-dialog-detail">2.4</A> illustrates the dialog's<BR><DIV ALIGN="CENTER"><A NAME="f.layers.layers-dialog-detail">&#160;</A><A NAME="1896">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.4:</STRONG>Layers Dialog Detail</CAPTION><TR><TD><IMG SRC="img40.gif"ALT="Figure 2.4"></TD></TR></TABLE></DIV><BR>various components.  The most important feature of the Layers dialogis the Layers Palette<A NAME="1900">&#160;</A><A NAME="1901">&#160;</A>.  This region of the dialog consists of horizontal strips,each representing a single layer in the image.  It can be seen fromFigure&nbsp;<A HREF="node27.html#f.layers.layers-dialog-detail">2.4</A> that this is the Layersdialog for an image with three layers.  Note that each strip displaysa thumbnail image of its layer's contents.  The strips are organizedvertically in a stack, and this stack shows the 3D relationship of thelayers in a 2D manner.  The top, middle, and bottom layers of thestack represent the layers analogously to the conceptual 3D view shownin Figure&nbsp;<A HREF="node27.html#f.layers.layer-stack2">2.2</A>.<P>In addition to showing the layer ordering structure of an image, theLayers Palette provides useful information and tools for working withthe image.  As shown in Figure&nbsp;<A HREF="node27.html#f.layers.layers-dialog-detail">2.4</A>,the area to the far left of the Layer Thumbnail contains the Eyeicon.<A NAME="1905">&#160;</A>  If this icon is visible, thecorresponding layer is visible in the image window.  The Eye icon canbe toggled off by clicking on it.  This makes the corresponding layerinvisible in the image window.  Toggling it again brings the layerback.<P>The region of the strip just to the left of the thumbnail and to theright of the Eye icon is the position of the Layer Link icon.Clicking in this area makes a four-way arrow appear, as shown in twoof Figure&nbsp;<A HREF="node27.html#f.layers.layers-dialog-detail">2.4</A>'s layer strips.  Whenthis icon is activated for several layers at once, they are linkedtogether with respect to the <TT>Move</TT><A NAME="1908">&#160;</A> tool.  Theselayers will now move together as a single unit (the <TT>Move</TT> tool iscovered in Section&nbsp;<A HREF="node32.html#s2.move-tool">2.6.1</A>).<P>To the right of the thumbnail is the Layer TitleArea, which, for a new image, is namedBackground by default.  The title can be changed by double-clicking inthe Layer Title Area.  This brings up a dialog box where the new titlecan be entered.<P>The middle layer strip in Figure&nbsp;<A HREF="node27.html#f.layers.layers-dialog-detail">2.4</A>is highlighted in blue, indicating that it is theactive.<A NAME="1912">&#160;</A> layer<A NAME="1913">&#160;</A>  GIMP toolsapplied to the image window are applied to this layer.  This is veryimportant, so read these last two sentences again!  The GIMP tools andfilters are applied to the <EM>active</EM> layer.  Not knowing whichlayer is active is a formula for confusion and frustration.  Theidentity of the active layer can only be reliably determined by havingthe Layers dialog open.  Any layer can be made active by clicking onits thumbnail or Title Area.  Only one layer can be active at a time.<P>Outside of the Layers Palette area are several other importantfeatures of the Layers dialog.  First, there are two pull-down menuslabeled Image<A NAME="1915">&#160;</A> and Mode.<A NAME="1916">&#160;</A>  The Imagemenu is used to specify the context of the Layers dialog.  The GIMPcan have many image windows open simultaneously.  When there is morethan one image window open, this menu is used to select the one whoselayers are displayed in the Layers Palette area.  If the Auto Contextbutton is toggled on (which it is by default), any keystroke in animage window will change the Layers Palette context auto-magically tothat window.  I like to use the space bar for this.<P>The Mode menu selects how the pixels of the active layer are visuallyblended with those beneath it.  Each layer has a blending mode contextthat is specified using this menu.  Blending modes are described inmore detail in Chapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A>.<P>The remaining features of the Layers dialog consist of the Opacityslider, the Keep Trans. toggle button, and, at the bottom of thedialog, a row of function buttons that I call the button bar.  Theseare all discussed in more detail later.  However, of these features,the Opacity slider<A NAME="1918">&#160;</A> is of immediate interestbecause it is used in the example shown inFigure&nbsp;<A HREF="node27.html#f.layers.layers-dialog">2.3</A>.Figure&nbsp;<A HREF="node27.html#f.layers.layers-dialog">2.3</A>(b) shows that the the middle layerstrip is highlighted, indicating that this layer, containing the smallwhite rectangle, is active.  Careful examination of the Layers dialogshows that the Opacity slider is set to 60.0% for this layer.  Thismeans that the layer below can be seen through the white rectanglebecause the rectangle's layer is only partially opaque.  Like for theblending modes, opacity can be independently set for each layer.<P><H2><A NAME="SECTION001012000000000000000">&#160;</A><A NAME="1922">&#160;</A><A NAME="1923">&#160;</A><BR>2.1.2 The Layers Menu</H2><P>In addition to the features described in the previous section, theLayers dialog has a hidden menu.  This menu is displayed by right-clickingon the highlighted active layer in the LayersPalette.  This is called the Layers menu.Figure&nbsp;<A HREF="node27.html#f.layers.layers-menu">2.5</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.layers.layers-menu">&#160;</A><A NAME="1926">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.5:</STRONG>Layers Menu</CAPTION><TR><TD><IMG SRC="img41.gif"ALT="Figure 2.5"></TD></TR></TABLE></DIV><BR>illustrates the Layers dialog, and the Layers menu is shown inFigure&nbsp;<A HREF="node27.html#f.layers.layers-menu">2.5</A>(b) and (c). The functions providedby the Layers menu are described shortly, but before covering them weneed to take a slight detour to discuss another element of images:channels.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1160" HREF="node28.html#SECTION001021000000000000000">2.2.1 The Channels Dialog</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001020000000000000000">&#160;</A><A NAME="s2.channels-layers">&#160;</A><A NAME="1933">&#160;</A><A NAME="1934">&#160;</A><BR>2.2 Channels and Their Relationship <BR>to Layers</H1><P>Recall that images are constructed from layers and layers from pixels.However, there is another important component in the image structurehierarchy.  Layers can be decomposed into sublayers called channels.Layers are constructed of one to four channels.  In this book almostall our work is performed on RGB images.  For these types of imageseach layer consists of four channels known as R, G, B, and A. Theseare the red, green, blue, and alpha components of a layer,respectively.  The R, G, and B channels contain the color informationabout the layer, and the A channel describes how opaque the layer is towhat is behind it.  An exception to this rule is that the default,background layer of a newly created or freshly opened RGB imagecontains no alpha channel.<A NAME="1935">&#160;</A><P>A complete diagram of the image component hierarchy is illustrated inFigure&nbsp;<A HREF="node28.html#f.layers.image-components">2.6</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.layers.image-components">&#160;</A><A NAME="1938">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.6:</STRONG>Image Component Hierarchy: Each Layer Consists of a Matrix ofPixels, and Each Pixel is Constructed of an R, G, B, and A Channel</CAPTION><TR><TD><IMG SRC="img42.gif"ALT="Figure 2.6"></TD></TR></TABLE></DIV><BR>In the standard distribution of the GIMP, channels are eight bitsdeep, meaning that each pixel in a layer is represented by up to 32bits.  However, there is a special development version of the GIMPthat uses channels that are 16 bits deep, making for layers withpixels represented by up to 64 bits.  This is known as theHollywood<A NAME="1942">&#160;</A> branch of the GIMPbecause it is useful for film and high-quality studio productionimagery.  More on Hollywood can be found at<A NAME="tex2html35" HREF="http://film.gimp.org" target="new"><TT>http://film.gimp.org</TT></A>.<P><H2><A NAME="SECTION001021000000000000000">&#160;</A><A NAME="s2.layers.channel-dialog">&#160;</A><BR>2.2.1 The Channels Dialog</H2><P>Like for layers, there is a dialog for viewing channels called theChannels dialog<A NAME="1947">&#160;</A><A NAME="1948">&#160;</A>.  This is accessed by clicking on the Channels tab in the <TT>Layers &amp; Channels</TT> window (seeFigure&nbsp;<A HREF="node27.html#f.layers.layers-dialog-detail">2.4</A>).  The Channels dialog isshown in Figure&nbsp;<A HREF="node28.html#f.layers.channels-dialogx">2.7</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.layers.channels-dialogx">&#160;</A><A NAME="1953">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.7:</STRONG>Channels Dialog</CAPTION><TR><TD><IMG SRC="img43.gif"ALT="Figure 2.7"></TD></TR></TABLE></DIV><BR>Here the Red, Green, and Blue channels are labeled.  They can be seenin the Channels Palette area, which isanalogous to the Layers Palette discussed in the previous section.Note that unlike the Layers palette, more than one channel can beactive at a time.  In fact, all three channels are active at once,meaning that all operations performed in the image window are appliedto all three channels.<P>Also note that there are just three channels in this dialog, not threechannels for each layer.  These channels represent the global red,green, and blue of the image.  For multilayer images, the R, G, and Bchannels of each individual layer are not accessible in the Channelsdialog.  They can be extracted for an individual layer by deleting theother layers or by copying and pasting the layer to a separate imagewindow.  Another possibility for accessing the individual colorchannels of a layer is to use the <TT>Decompose</TT><A NAME="1958">&#160;</A> function, which is discussed inSection&nbsp;<A HREF="node47.html#s4.decompose_threshold">4.5.3</A>.<P>Any of the R, G, and B channels can be made inactive by clicking onthe channel title.  Doing so means that subsequent operations in theimage window affect only the remaining active channels<A NAME="1960">&#160;</A>.  The visibility of the channels, like for layers, can betoggled using the Eye icons.<P>The Channels dialog can be used to create additional channels for animage.  These are called Channel Masks, and a discussion of these isdeferred to Section&nbsp;<A HREF="node43.html#s4.channel-masks">4.1</A>.  As a final note,Figure&nbsp;<A HREF="node28.html#f.layers.image-components">2.6</A> suggests that the alphacomponent of a layer should be found somewhere in the Layers orChannels dialogs.  This is indeed correct, but this topic isdeferred to Section&nbsp;<A HREF="node44.html#s4.layer-masks">4.2</A>.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1173" HREF="node29.html#SECTION001031000000000000000">2.3.1 Creating New Layers</A><LI><A NAME="tex2html1174" HREF="node29.html#SECTION001032000000000000000">2.3.2 Raising Layers</A><LI><A NAME="tex2html1175" HREF="node29.html#SECTION001033000000000000000">2.3.3 Lowering Layers</A><LI><A NAME="tex2html1176" HREF="node29.html#SECTION001034000000000000000">2.3.4 Duplicating Layers</A><LI><A NAME="tex2html1177" HREF="node29.html#SECTION001035000000000000000">2.3.5 Deleting Layers</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001030000000000000000">2.3 Layer Creation, Deletion, Duplication, and Organization</A></H1><P>We now return to the functions contained in the Layers menu shown inFigure&nbsp;<A HREF="node27.html#f.layers.layers-menu">2.5</A>. The most basic layer operations arethose of creation, deletion, duplication, and organization.  Thesefunctions are controlled with the menu entries shown inFigures&nbsp;<A HREF="node27.html#f.layers.layers-menu">2.5</A>(b) and (c) but are more easilyaccessed using the button bar located at the bottom of the Layers dialog.<P><H2><A NAME="SECTION001031000000000000000">&#160;</A><A NAME="1968">&#160;</A><A NAME="1969">&#160;</A><BR>2.3.1 Creating New Layers</H2> The first entry in the Layers menu is <TT>New Layer</TT><A NAME="1971">&#160;</A>.  Clicking on this function brings up a dialog that allowsthe user to name the new layer and choose its dimensions.  The defaultdimensions are those of the existing image.  Also, the user can choosewhether the created layer is white, the foreground or backgroundcolors, or transparent.  The foreground and background colors arethose displayed in the <TT>Active Foreground Color</TT> and <TT>ActiveBackground Color</TT> patches in the Toolbox window.  The new layer isinserted just above the active layer, becoming immediately apparent inthe Layers Palette.  The <TT>New Layer</TT> function is also provided bythe button in the button bar depicting the single sheet of paper.<P><H2><A NAME="SECTION001032000000000000000">&#160;</A><A NAME="1976">&#160;</A><A NAME="1977">&#160;</A><A NAME="1978">&#160;</A><BR>2.3.2 Raising Layers</H2><P>The order of layers in the Layers Palette controls how the layers areperceived in the image.  The <TT>Raise Layer</TT><A NAME="1980">&#160;</A> entry, shown in Figure&nbsp;<A HREF="node27.html#f.layers.layers-menu">2.5</A>(c), shiftsthe active layer up by one, if possible, in the layer stack.  Thefunction <TT>Layer to Top</TT><A NAME="1983">&#160;</A> puts theactive layer at the top of the stack.<P><TT>Raise Layer</TT> and <TT>Layer to Top</TT> are also available from thebutton bar.  The upward-pointing arrow icon provides thesefunctions.  Clicking on this button raises the active layer, andShift-clicking raises the layer to the top of the stack.  Note that ifthe lowest layer of the stack does not have an alpha channel, it cannotbe raised.<P><H2><A NAME="SECTION001033000000000000000">&#160;</A><A NAME="1987">&#160;</A><A NAME="1988">&#160;</A><A NAME="1989">&#160;</A><BR>2.3.3 Lowering Layers</H2><P>The <TT>Lower Layer</TT><A NAME="1991">&#160;</A> entry in the Layersmenu shifts the active layer down by one in the layer stack, and <TT>Layer to Bottom</TT><A NAME="1993">&#160;</A> moves it to thebottom of the stack.  The same functions are provided by thedownward-pointing arrow icon in the button bar.  Clicking on the iconlowers the active layer once, and Shift-clicking puts it to the bottomof the stack.  Note that if the lowest layer of the stack does nothave an alpha channel, another layer cannot be made lower than it.<P><H2><A NAME="SECTION001034000000000000000">&#160;</A><A NAME="1995">&#160;</A><A NAME="1996">&#160;</A><BR>2.3.4 Duplicating Layers</H2> The active layer can be duplicated by clicking on the <TT>DuplicateLayer</TT><A NAME="1998">&#160;</A> entry in the Layers menu.  Theduplicated layer is positioned just above the active layer.  Thisfunction is also provided by the button depicting the two sheets ofpaper in the button bar.<P><H2><A NAME="SECTION001035000000000000000">&#160;</A><A NAME="2000">&#160;</A><A NAME="2001">&#160;</A><BR>2.3.5 Deleting Layers</H2> The active layer can be deleted by selecting the <TT>DeleteLayer</TT><A NAME="2003">&#160;</A><A NAME="2004">&#160;</A> entry fromthe Layers menu.  This function is also provided by the button in thebutton bar depicting a Trash Can.<P><HR><H1><A NAME="SECTION001040000000000000000">&#160;</A><A NAME="s2.layers.cut-paste">&#160;</A><A NAME="2007">&#160;</A><A NAME="2008">&#160;</A><A NAME="2009">&#160;</A><A NAME="2010">&#160;</A><A NAME="2011">&#160;</A><A NAME="2012">&#160;</A><A NAME="2013">&#160;</A><BR>2.4 Layer Export and Import</H1><P>Collecting separate, raw image elements into a single image window isone of the most-used layer operations in this book.  This is afundamental component of compositing, a subject discussed in greatdepth in Chapter&nbsp;<A HREF="node65.html#c7.compositing">7</A>.  However, it is also useful fora wide range of core and advanced techniques in the GIMP.<P>The importation of layers into an image is accomplished using the <TT>Copy</TT><A NAME="2016">&#160;</A>, <TT>Cut</TT>,<A NAME="2018">&#160;</A> and <TT>Paste</TT><A NAME="2020">&#160;</A> editing functions (seeSection&nbsp;<A HREF="node22.html#s1.copy-paste">1.7</A>).  The technique for importing a layer isso important that this section develops an example in detail toillustrate the methodology.  Study it well, because this technique isused often in this book.<P>To illustrate the process, we begin with the two images shown inFigure&nbsp;<A HREF="node30.html#f.layers.two-images">2.8</A>.  Each image consists of a<BR><DIV ALIGN="CENTER"><A NAME="f.layers.two-images">&#160;</A><A NAME="2538">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.8:</STRONG>Two Images to Illustrate the Use of <TT> Copy</TT> and <TT> Paste</TT></CAPTION><TR><TD><IMG SRC="img44.gif"ALT="Figure 2.8"></TD></TR></TABLE></DIV><BR>single layer, and each will be imported into a third image that, oncompletion of the procedure, will contain three layers.<P>To begin, a new image is created that has width and height sufficientto accommodate the two single-layer images.  Once open, the eagleimage in Figure&nbsp;<A HREF="node30.html#f.layers.two-images">2.8</A>(a) iscopied<A NAME="2030">&#160;</A> and pasted into it.  This is accomplishedby moving the mouse cursor into the eagle image window and selectingthe <TT>Copy</TT><A NAME="2032">&#160;</A> function from the <TT>Image:Edit</TT>menu. This can also be accomplished by simply typing <TT>C-c</TT> in theimage window.  This copies the active layer of the eagle image intothe default buffer.<A NAME="2035">&#160;</A><A NAME="2036">&#160;</A>  Notethat for multiple-layer images, it is the active layer that is copiedinto the buffer.  Thus, it would be prudent to verify which layer isactive by inspecting the Layers dialog before copying.  The wholeprocedure could also be performed by cutting the image instead ofcopying.  Cutting puts a copy of the layer in the buffer and thendeletes it from the image window.  To cut the image, use the <TT>Cut</TT><A NAME="2038">&#160;</A> function from the <TT>Image:Edit</TT> menu.This function can be more easily employed by typing <TT>C-x</TT> in theimage window.<P>Now that the eagle image is in the buffer, it can be pasted into thenew image.  This is done by moving the mouse cursor into the new imagewindow and using the <TT>Paste</TT> function found in the <TT>Image:Edit</TT> menu, which can be more expeditiously accomplished bytyping <TT>C-v</TT> in the image window.  The result of the paste isshown in Figure&nbsp;<A HREF="node30.html#f.layers.copy-paste1">2.9</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.layers.copy-paste1">&#160;</A><A NAME="2046">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.9:</STRONG>Importing the First Pasted Image</CAPTION><TR><TD><IMG SRC="img45.gif"ALT="Figure 2.9"></TD></TR></TABLE></DIV><BR>The Layers dialog for this image is shown inFigure&nbsp;<A HREF="node30.html#f.layers.copy-paste1">2.9</A>(b), and it shows that the pastedlayer appears as a floating selection.  The Background layer, the onlyother layer in the dialog, is grayed out, meaning that it cannot beselected as the active layer.<P>The pasted layer appears in Figure&nbsp;<A HREF="node30.html#f.layers.copy-paste1">2.9</A>(a) as aselection with a moving dashed line around it.  These moving dashesare referred to as the <EM>Marching Ants</EM>.<A NAME="2053">&#160;</A><A NAME="2054">&#160;</A>  This floatingselection can be positioned in the new image with the <TT>Move</TT><A NAME="2056">&#160;</A><A NAME="2057">&#160;</A> tool from the Toolbox.<P>Once the layer is positioned, it can be anchored to the underlyinglayer by bringing up the Layers menu and selecting the <TT>AnchorLayer</TT><A NAME="2059">&#160;</A> function from theLayers menu or by typing <TT>C-h</TT> in eitherthe <TT>Layers &amp; Channels</TT> or image windows.  It is also possible tosimply click on the Anchor button in the Layers dialog.  For thisexample, however, the layer is not anchored to the layer below it.Rather, it is converted into a new layer.  This is done by using the<TT>New Layer</TT> functionfound in the Layers menu.  Figure&nbsp;<A HREF="node30.html#f.layers.copy-paste2">2.10</A><BR><DIV ALIGN="CENTER"><A NAME="f.layers.copy-paste2">&#160;</A><A NAME="2065">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.10:</STRONG>Creation of New Layer</CAPTION><TR><TD><IMG SRC="img46.gif"ALT="Figure 2.10"></TD></TR></TABLE></DIV><BR>illustrates the result of the conversion.Figure&nbsp;<A HREF="node30.html#f.layers.copy-paste2">2.10</A>(a) shows how the converted layer issmaller than the image window.  Figure&nbsp;<A HREF="node30.html#f.layers.copy-paste2">2.10</A>(b)illustrates the corresponding Layers dialog showing that the float wasconverted to a layer.  A floating selection can also be converted to anew layer by typing <TT>C-n</TT> in the <TT>Layers&amp; Channels</TT> window or by clicking on the New Layer icon in the buttonbar.<P>The sequence just described for importing the eagle image is used sooften that it deserves to be memorized.  Let's concisely recap thesteps required...then bookmark this page!  The following list ofsteps slightly generalizes the procedure by assuming that there isa multilayer source image window containing a layer to be exportedand another multilayered destination image that will importit:<A NAME="import-formula">&#160;</A><DL COMPACT><DT>1.<DD>In the source image window, type <TT>C-l</TT> to bring up the Layersdialog.<DT>2.<DD>In the Layers dialog, make the source layer active byclicking on its thumbnail in the Layers Palette.<DT>3.<DD>Back in the source image window, type <TT>C-c</TT> to copy theactive layer to the default buffer.<DT>4.<DD>In the destination image window, type <TT>C-v</TT> to paste thebuffer contents into a floating selection. (Note that the context ofthe Layers dialog automatically changes to the destination imagewindow when <TT>C-v</TT> is typed there.)<DT>5.<DD>Position the floating selection as desired with the <TT>Move</TT>tool.<DT>6.<DD>Type <TT>C-n</TT> in the Layers dialog (or click on the New Layerbutton) to anchor the float to a new layer.  Otherwise, type <TT>C-h</TT>or click the Anchor button to anchor it to the last active layer ofthe destination image.</DL><P>By the way, when the floating selection is converted to a new layer,the resulting dimensions of the layer are just large enough to containthe contents of the pasted layer.  As shown inFigure&nbsp;<A HREF="node30.html#f.layers.copy-paste2">2.10</A>(a) the resulting pasted eagle imagelayer is smaller than the image window.  It is easy to put the pastedimage into a separate layer having the same dimensions as thedestination image window.  Just create a new layer in the destinationimage before pasting from the buffer.  After pasting, anchor thefloating selection to this new layer by clicking the anchor icon inthe button bar. <P>Repeating the import procedure for the airplane inFigure&nbsp;<A HREF="node30.html#f.layers.two-images">2.8</A>(b) produces the result shown inFigure&nbsp;<A HREF="node30.html#f.layers.copy-paste3">2.11</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.layers.copy-paste3">&#160;</A><A NAME="2087">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.11:</STRONG>Importing the Second Pasted Image</CAPTION><TR><TD><IMG SRC="img47.gif"ALT="Figure 2.11"></TD></TR></TABLE></DIV><BR><P>Note that the boundary<A NAME="2091">&#160;</A> of the active layer inFigure&nbsp;<A HREF="node30.html#f.layers.copy-paste3">2.11</A>(a) is visible as a black-and-yellowdashed line.  Typically we are not aware of layer boundaries becauseoften all the layers have the same dimensions.  When this is the case,the layer boundary is coincident with the window edge.  However, forthe case illustrated in Figure&nbsp;<A HREF="node30.html#f.layers.copy-paste3">2.11</A>(a), thelayer boundary is apparent because the pasted layer is smaller thanthe image window.<P>The visible boundary of a layer can be a problem, especially whenyou're trying to adjust the relative position of two layers or whenyou're trying to carefully match colors at layer edges (for aparticularly good example of this problem, seeSection&nbsp;<A HREF="node70.html#s7.panoramas">7.5</A>).  When it is desirable to suppress thelayer boundary, its visibility can be turned off with the function<TT>Toggle Selection</TT>,found in the <TT>Image:View</TT> menu or by typing <TT>C-t</TT> in the image window.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1202" HREF="node31.html#SECTION001051000000000000000">2.5.1 Automatic Creation of Floats</A><LI><A NAME="tex2html1203" HREF="node31.html#SECTION001052000000000000000">2.5.2 Explicit Creation of Floats</A><LI><A NAME="tex2html1204" HREF="node31.html#SECTION001053000000000000000">2.5.3 Anchoring Floats</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001050000000000000000">&#160;</A><A NAME="s2.floats">&#160;</A><A NAME="2100">&#160;</A><A NAME="2101">&#160;</A><BR>2.5 Floats</H1><P>In the previous section we came across a special layer called afloating selection, often simply referred to as a float.  A float is atemporary layer that gets created automatically under certaincircumstances and that can be explicitly created if needed.  A floatis a special type of layer.  All other layers are disabled when afloat is created, and nothing can be done with the other layers untilthe float is anchored.  Although the other layers are disabled, almostall GIMP operations can still be performed on the floating layer.<P>Floats are sort of a throwback, a vestige of prehistoric times whenthe GIMP had not yet evolved into a layer-based tool.  Back then, itwas necessary to have floats because that was the only way toselectively process parts of an image.  Now it is more effective toseparate various image components into different layers, allowing youto more conveniently and effectively process and combine them.Nevertheless, as already noted, they are created automatically, soit is important to know how they work and what to do with them.  Thereare basically three things about floats that you need to know:  whenthey are automatically created, how they can be explicitly created,and how they are anchored.<P><H2><A NAME="SECTION001051000000000000000">&#160;</A><A NAME="2103">&#160;</A> <A NAME="2104">&#160;</A><BR>2.5.1 Automatic Creation of Floats</H2><P>There are two circumstances under which floats are created.  The firstoccurs after you make a selection.  After the selection is made, itbecomes immediately possible to move it (even without selecting the<TT>Move</TT><A NAME="2106">&#160;</A> tool).  This is done by placing the mousecursor inside the selection (the cursor becomes a four-way arrow) andby clicking and dragging.  After you release the selection, itautomatically becomes a floating selection.Figure&nbsp;<A HREF="node31.html#f.layers.float1">2.12</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.layers.float1">&#160;</A><A NAME="2109">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.12:</STRONG>A Moved Selection Becomes a Float</CAPTION><TR><TD><IMG SRC="img48.gif"ALT="Figure 2.12"></TD></TR></TABLE></DIV><BR>illustrates a selection that has been moved.  The corresponding Layersdialog, shown in Figure&nbsp;<A HREF="node31.html#f.layers.float1">2.12</A>(b), shows the newlayer, entitled Floating Selection.  Also note that the original layeris grayed out, indicating that it has been disabled from other GIMPoperations.<P>The second way that a floating layer is automatically created is aftera copy and paste or a cut and paste operation.  Whether the defaultbuffer contains a selection or an entire layer, pasting from thebuffer produces a float.<P><H2><A NAME="SECTION001052000000000000000">&#160;</A><A NAME="2115">&#160;</A><A NAME="2116">&#160;</A><BR>2.5.2 Explicit Creation of Floats</H2><P>A selection can be explicitly made into a float without moving it.This is done by using the <TT>Float</TT><A NAME="2118">&#160;</A> functionfound in the <TT>Image:Select</TT> menu or by simply typing <TT>C-S-l</TT>in the image window.  A good use for the explicit creation of a floatis described in Section&nbsp;<A HREF="node32.html#s2.layers.layer-resize">2.6.2</A>.<P><H2><A NAME="SECTION001053000000000000000">&#160;</A><A NAME="2123">&#160;</A><A NAME="2124">&#160;</A><BR>2.5.3 Anchoring Floats</H2><P>After a float has been created, normal operations cannot continue inthe GIMP until the float is anchored.  Anchoring is just the operationof depositing the float into a normal layer.  Once this is done, theother layers become available for GIMP operations again.  A layer canbe anchored either to a new layer or to the last active layer beforethe float was created.  A float is anchored to a new layer byselecting <TT>New Layer</TT> from the Layers menu or by clicking on the<TT>New Layer</TT> button in the Layers dialog.  A float is anchored tothe previously active layer by using the <TT>AnchorLayer</TT><A NAME="2128">&#160;</A> function from the Layers menu, bytyping <TT>C-h</TT> in the image window, or by clicking on the <TT>Anchor</TT> button in the Layers dialog.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1217" HREF="node32.html#SECTION001061000000000000000">2.6.1 Positioning Layers</A><UL><LI><A NAME="tex2html1218" HREF="node32.html#SECTION001061100000000000000">2.6.1.1 Moving Layers</A><LI><A NAME="tex2html1219" HREF="node32.html#SECTION001061200000000000000">2.6.1.2 Aligning Layers with Guides</A><LI><A NAME="tex2html1220" HREF="node32.html#SECTION001061300000000000000">2.6.1.3 Toggling the Layer Boundary</A></UL><LI><A NAME="tex2html1221" HREF="node32.html#SECTION001062000000000000000">2.6.2 Resizing and Scaling</A><UL><LI><A NAME="tex2html1222" HREF="node32.html#SECTION001062100000000000000">2.6.2.1 Image Scaling</A><LI><A NAME="tex2html1223" HREF="node32.html#SECTION001062200000000000000">2.6.2.2 Image Resizing</A><LI><A NAME="tex2html1224" HREF="node32.html#SECTION001062300000000000000">2.6.2.3 Layer Scaling</A><LI><A NAME="tex2html1225" HREF="node32.html#SECTION001062400000000000000">2.6.2.4 Layer Resizing</A></UL><LI><A NAME="tex2html1226" HREF="node32.html#SECTION001063000000000000000">2.6.3 Flipping</A><LI><A NAME="tex2html1227" HREF="node32.html#SECTION001064000000000000000">2.6.4 Rotating in 90<SUP><I>o</I></SUP> Increments</A><LI><A NAME="tex2html1228" HREF="node32.html#SECTION001065000000000000000">2.6.5 The Transform Tool</A><UL><LI><A NAME="tex2html1229" HREF="node32.html#SECTION001065010000000000000">2.6.5.0.1 Rotation</A><LI><A NAME="tex2html1230" HREF="node32.html#SECTION001065020000000000000">2.6.5.0.2 Scaling</A><LI><A NAME="tex2html1231" HREF="node32.html#SECTION001065030000000000000">2.6.5.0.3 Shearing</A><LI><A NAME="tex2html1232" HREF="node32.html#SECTION001065040000000000000">2.6.5.0.4 Perspective</A></UL></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001060000000000000000">&#160;</A><A NAME="s2.layers.manipulations">&#160;</A><BR>2.6 Manipulating Layers</H1><P>As already discussed, layers are the most important image componentsfor image manipulation.  They are the basic raw materials you want towork with and combine.  In most every GIMP project, layers need to bemoved, resized, positioned, transformed, cut, pasted, and so on.These types of layer operations are discussed in this section.<P><H2><A NAME="SECTION001061000000000000000">&#160;</A><A NAME="s2.layers.positioning">&#160;</A><A NAME="2135">&#160;</A><A NAME="2136">&#160;</A><BR>2.6.1 Positioning Layers</H2><P>One of the most basic layer operations is positioning.  Compositingfrom a set of raw image materials requires that the variouscomponents, each on a separate layer, be appropriately positioned.This section describes several techniques for layer positioning.<P><H3><A NAME="SECTION001061100000000000000">&#160;</A><A NAME="s2.move-tool">&#160;</A><A NAME="2139">&#160;</A><A NAME="2140">&#160;</A><BR>2.6.1.1 Moving Layers</H3><P>Moving a layer is accomplished using the <TT>Move</TT><A NAME="2142">&#160;</A>tool.  This tool is invoked by clicking on the Toolbox buttondisplaying the four-way arrow icon.  Clicking on this tool changes themouse cursor to a four-way arrow when it is in the image window.Clicking and dragging while the cursor is in the image window causesthe layer underneath the mouse cursor to move.  The layer affected isthe one that is highest in the layer stack and has pixels more than50% opaque under the mouse cursor (seeSection&nbsp;<A HREF="node56.html#s5.opacity-transparency">5.7</A> for more on opacity andtransparency).  This means that if the top layer is transparent at themouse cursor position, it is not moved.  This also means that if theactive layer is transparent at the mouse cursor position it is notmoved.  Rather, it is the first layer from the top that has more than50% opaque pixels under the mouse cursor that is moved.Alternatively, the active layer can be forced to move byShift-clicking and dragging.  This moves the active layer regardlessof its visibility, degree of transparency, or position with respect tothe cursor.<P><H3><A NAME="SECTION001061200000000000000">&#160;</A><A NAME="s2.guides">&#160;</A><A NAME="2146">&#160;</A><A NAME="2147">&#160;</A><A NAME="2148">&#160;</A><BR>2.6.1.2 Aligning Layers with Guides</H3><P>Sometimes a layer needs to be positioned more carefully than can beeasily judged by eye.  Under these circumstances, it is oftenconvenient to use guides to facilitate their placement.  Guides areuseful because they have a snapping property<A NAME="2149">&#160;</A>.  A layer released sufficiently near a guide will jump tothe guide position.  The snapping property of guides is controlled bythe <TT>Snap to Guides</TT> checkbox in the <TT>Image:View</TT> menu.  Thecheckbox must be toggled on for the snapping property to work.<P>To illustrate how guides are useful for layer positioning, the threeplanet images shown in Figures&nbsp;<A HREF="node32.html#f.layers.guides1">2.13</A>(a), (b), and (c)<BR><DIV ALIGN="CENTER"><A NAME="f.layers.guides1">&#160;</A><A NAME="2154">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.13:</STRONG>Images to be Aligned with Guides</CAPTION><TR><TD><IMG SRC="img49.gif"ALT="Figure 2.13"></TD></TR></TABLE></DIV><BR>were each copied and pasted to new layers in a larger image windowwith a black background.  This is shown inFigure&nbsp;<A HREF="node32.html#f.layers.guides2">2.14</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.layers.guides2">&#160;</A><A NAME="2160">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.14:</STRONG>Images Aligned with Guides</CAPTION><TR><TD><IMG SRC="img50.gif"ALT="Figure 2.14"></TD></TR></TABLE></DIV><BR><P>The objective is to organize the planets on a diagonal, but with auniform black border between them and the window edge.  This was doneby placing two horizontal and two vertical guides in the image window,each positioned exactly three ruler tick marks from the edge.  Wheredo the guides come from?  Well, they are hidden inside the rulers atthe left and top edges of the image window.  Clicking on a ruler andthen dragging the mouse into the image window drags a guide along withit.  Releasing the mouse button positions the guide.  Any number ofguides can be created in this way.  Once the guides are positioned,their visibility can be toggled on or off with the <TT>ToggleGuides</TT><A NAME="2165">&#160;</A> function, found in the <TT>Image:View</TT> menu, or by typing <TT>C-S-t</TT> in the image window.<P>The guides can be seen in Figure&nbsp;<A HREF="node32.html#f.layers.guides2">2.14</A> as blue dashedlines.  The Jupiter and Earth layers were positioned with the <TT>Move</TT> tool so that their corners were aligned at the cross-hairs ofthe guides.  It can be seen that the active layer, designated by theyellow dashed boundaries shown in Figure&nbsp;<A HREF="node32.html#f.layers.guides2">2.14</A>, areperfectly aligned with the guides.  That the layers snapped to theguides simplified the positioning operation.  When no longer needed,the guides can be moved off the image by first activating the <TT>Move</TT> tool from the Toolbox and then using the mouse to drag theguides back into the rulers.<P><H3><A NAME="SECTION001061300000000000000">&#160;</A><A NAME="2173">&#160;</A><A NAME="2174">&#160;</A><BR>2.6.1.3 Toggling the Layer Boundary</H3>  Careful alignment or color matching between layers is often requiredfor layer edges that are overlapping or abutting.  The layerboundaries of the active layer can be seen in the image window, evenwhen the layer contents cannot be seen.  This boundary, consisting ofa black-and-yellow dashed line, can impede the precision with whichalignment and color matching work is performed.  Under thesecircumstances it is useful to visually toggle off the layerboundaries, which is easily done with the <TT>Toggle Selection</TT>function, found in the <TT>Image:View</TT> menu.  Alternatively, <TT>C-t</TT> can be typed in the image window.  Thevisibility of the layer boundaries is restored by toggling a secondtime.<P><H2><A NAME="SECTION001062000000000000000">2.6.2 Resizing and Scaling</A></H2><P>As was seen in Figures&nbsp;<A HREF="node27.html#f.layers.layer-stack2">2.2</A> and<A HREF="node30.html#f.layers.copy-paste2">2.10</A>(a), the layers in an image need not all bethe same size.  Furthermore, changing a layer's dimensions can bequite useful.  In the parlance of the GIMP, a layer can be <EM>resized</EM>, which means that its boundaries are shrunk or enlargedwithout changing the dimensions of the image's contents.Alternatively, a layer can be <EM>scaled</EM>, which means that thedimensions of the layer are changed and the image contents arestretched or squeezed to exactly fit within the new layer boundaries.Six functions in the GIMP resize or scale layers and images:<UL><LI><TT>Layer Boundary Size</TT>, found in the Layers menu<LI><TT>Scale Layer</TT>, found in the Layers menu<LI><TT>Canvas Size</TT>, found in the <TT>Image:Image</TT> menu<LI><TT>Scale Image</TT>, found in the <TT>Image:Image</TT> menu<LI>The <TT>Crop</TT> tool from the Toolbox<LI>The <TT>Transform</TT> tool from the Toolbox</UL>Each of these are discussed and compared in the following sections.<P><H3><A NAME="SECTION001062100000000000000">&#160;</A><A NAME="s2.layers.image-scale">&#160;</A><A NAME="2195">&#160;</A><A NAME="2196">&#160;</A><BR>2.6.2.1 Image Scaling</H3><P>Scaling an image results in changing the dimensions of all the layersat once, while simultaneously stretching or squeezing the imagecontents to fit.  The function <TT>Scale Image</TT><A NAME="2198">&#160;</A>, found in the <TT>Image:Image</TT> menu, is the tool thataccomplishes this.  Figure&nbsp;<A HREF="node32.html#f.layers.scale-image">2.15</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.layers.scale-image">&#160;</A><A NAME="2202">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.15:</STRONG>Image Scaling</CAPTION><TR><TD><IMG SRC="img51.gif"ALT="Figure 2.15"></TD></TR></TABLE></DIV><BR>shows an example image, and Figure&nbsp;<A HREF="node32.html#f.layers.scale-image">2.15</A>(b) showsthe <TT>Scale Image</TT><A NAME="2208">&#160;</A> dialog.  The new widthand height of the image can be specified in pixels or as a percentageof the current dimensions.  The default is to scale the two dimensionsproportionally, but this can be changed by toggling the chain iconnext to the Ratio X and Y entry boxes.  The result of scaling down theimage shown in Figure&nbsp;<A HREF="node32.html#f.layers.scale-image">2.15</A>(a) by 75% is shownin Figure&nbsp;<A HREF="node32.html#f.layers.scale-image">2.15</A>(c).  The result of scaling it upby 125% is shown in Figure&nbsp;<A HREF="node32.html#f.layers.scale-image">2.15</A>(d).<P><H3><A NAME="SECTION001062200000000000000">&#160;</A><A NAME="s2.layers.image-resize">&#160;</A><A NAME="2214">&#160;</A><A NAME="2215">&#160;</A><BR>2.6.2.2 Image Resizing</H3><P>At first blush it would seem that the <TT>Canvas Size</TT><A NAME="2217">&#160;</A> function found in the <TT>Image:Image</TT> menu shouldwork in a similar fashion to <TT>Scale Image</TT>.  However, there is animportant difference between resizing an image and scaling it.Because the image contents do not change with the image boundaries,there is a non-unique choice in how they are positioned within theresized image window.  Thus, when resizing to a smaller image window,the position of the image within the new window depends on the valuesfor the new width, height, and X and Y offsets.<P>Figure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-a">2.16</A><BR><DIV ALIGN="CENTER"><A NAME="f.layers.resize-image-smaller-a">&#160;</A><A NAME="2222">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.16:</STRONG>Image Resizing (Original Becomes Smaller)</CAPTION><TR><TD><IMG SRC="img52.gif"ALT="Figure 2.16"></TD></TR></TABLE></DIV><BR>illustrates how using <TT>Canvas Size</TT> can give rise to aninconvenient problem.  Figure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-a">2.16</A>(a)shows the original image, andFigure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-a">2.16</A>(b) shows the <TT>SetCanvas Size</TT> dialog.  In the dialog the X and Y ratios have been setto 50% of the original image size.  The result is shown inFigure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-a">2.16</A>(c).  As can be seen, theimage is poorly positioned within the new window.  This can becompensated for by using the <TT>Move</TT> tool to reposition the imageinside the window.  The result of doing this is shown inFigure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-a">2.16</A>(d).  However, the resultstill leaves the image subject, the wolf's head, poorly framed.  Theproblem is that there is no easy way to enter numbers into the <TT>Set Canvas Size</TT><A NAME="2234">&#160;</A> dialog to obtain anaesthetically pleasing result.<P>A better solution is to resize the image interactively using the <TT>Crop</TT><A NAME="2236">&#160;</A><A NAME="2237">&#160;</A> tool.Figure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-b">2.17</A><BR><DIV ALIGN="CENTER"><A NAME="f.layers.resize-image-smaller-b">&#160;</A><A NAME="2548">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.17:</STRONG>Resizing Using the <TT> Crop</TT> Tool</CAPTION><TR><TD><IMG SRC="img53.gif"ALT="Figure 2.17"></TD></TR></TABLE></DIV><BR>illustrates how the original image can be resized smaller this way.The tool is applied by clicking on the <TT>Crop</TT> tool icon in theToolbox and then clicking and dragging in the image window to createthe crop rectangle.  Once drawn, the dimensions of the crop rectanglecan be adjusted by clicking and dragging either the upper-left orlower-right corners of the rectangle.  The rectangle can also berepositioned by clicking and dragging the upper-right or lower-leftcorners.<P>The result of using the <TT>Crop</TT> tool to nicely frame the wolf'shead is shown in Figure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-b">2.17</A>(a).When using this tool, the Crop dialog appears, as shown inFigure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-b">2.17</A>(b).  It is possible tocrop the image by clicking on the Crop button in the dialog or bysimply clicking inside the crop rectangle in the image window.  Thismakes the image smaller and simultaneously discards the image partsoutside of the window.  Alternatively, the image can be resized byclicking on the Resize button in the Crop dialog.  This makes theimage window smaller <EM>without</EM> discarding the image parts outsidethe resulting window.<P>Figure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-b">2.17</A>(c) shows the result ofcropping the image to the crop rectangle seen inFigure&nbsp;<A HREF="node32.html#f.layers.resize-image-smaller-b">2.17</A>(a).  From the abovediscussion, it should be clear that there is really no reason to use<TT>Canvas Size</TT> to make an image window smaller.  It is simply moreconvenient to do it with the <TT>Crop</TT> tool.<P>Although <TT>Canvas Size</TT> is not optimum for making an image smaller,it is quite useful for making it larger.  This is especially valuablewhen compositing several raw images.  Typically you discover, afterpositioning various imported layers, that the resulting image windowis not large enough to adequately frame the composition.  When thishappens, <TT>Canvas Size</TT> is the tool that fixes the problem.Figure&nbsp;<A HREF="node32.html#f.layers.resize-image-larger">2.18</A><BR><DIV ALIGN="CENTER"><A NAME="f.layers.resize-image-larger">&#160;</A><A NAME="2257">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.18:</STRONG>Image Resizing (Original Becomes Larger)</CAPTION><TR><TD><IMG SRC="img54.gif"ALT="Figure 2.18"></TD></TR></TABLE></DIV><BR>illustrates the result of resizing an image.<P>Figure&nbsp;<A HREF="node32.html#f.layers.resize-image-larger">2.18</A>(a) shows the original image,and Figure&nbsp;<A HREF="node32.html#f.layers.resize-image-larger">2.18</A>(b) shows the <TT>SetCanvas Size</TT> dialog box.  This time the X and Y ratios are scaled to125% of the original.  The result is shown inFigure&nbsp;<A HREF="node32.html#f.layers.resize-image-larger">2.18</A>(c).  Once the image windowhas been resized it is possible to reposition the image layer orlayers using the <TT>Move</TT> tool.<P><H3><A NAME="SECTION001062300000000000000">&#160;</A><A NAME="s2.layers.layer-scale">&#160;</A><A NAME="2268">&#160;</A><A NAME="2269">&#160;</A><BR>2.6.2.3 Layer Scaling</H3><P>As has already been discussed in this section, it is possible to scalean entire image.  However, it is also possible to scale a single layerwithin an image.  There are two tools for doing this in the GIMP: the<TT>Scale Layer</TT><A NAME="2271">&#160;</A> function, found in theLayers menu, and the <TT>Transform</TT><A NAME="2273">&#160;</A> tool in theToolbox.<P>As for entire images, a layer can be scaled either smaller or larger.The most typical use of layer scaling is to adjust the relative sizeof an image on one layer with respect to an image in another.  This isneeded for almost every compositing project (for examples, seeChapter&nbsp;<A HREF="node65.html#c7.compositing">7</A>).  When it is necessary to scale a layersmaller, either the <TT>Scale Layer</TT> function or the scaling optionof the <TT>Transform</TT> tool will do the trick.  However, the <TT>Transform</TT> tool might be preferable because it provides interactivecontrol of the scaling process.  <TT>Scale Layer</TT> relies on enteringnumbers into entry boxes in a dialog.  It is difficult to choose thecorrect dimensions, which leads to repeatedly applying <TT>ScaleLayer</TT> and <TT>Undo</TT> until the desired effect is achieved.<P>The problem of finding the right dimensions to scale a layer cansometimes be solved using the <TT>Measure</TT><A NAME="2282">&#160;</A> tool,which is discussed in more detail inSection&nbsp;<A HREF="node32.html#s2.layers.transformations">2.6.5</A>.  A good example of using the<TT>Measure</TT> tool to determine the appropriate amount to rescale alayer is given in Section&nbsp;<A HREF="node70.html#s7.panoramas">7.5</A>.  Alternatively, the <TT>Transform</TT> tool provides interactive visual feedback of the scalingprocess.  In addition, it can be used in conjunction with the <TT>Bezier Path</TT><A NAME="2288">&#160;</A> tool and the TransformLock<A NAME="2289">&#160;</A> icon in the Paths dialog to get veryfine, interactive scaling control.  The technique for this isdiscussed in Section&nbsp;<A HREF="node39.html#s3.path-palette">3.4.1</A>, and a relevant example isshown in Section&nbsp;<A HREF="node67.html#s7.compositing.proj2">7.2</A>.<P>Scaling a layer larger should be avoided if possible, because thisoperation requires the interpolation<A NAME="2292">&#160;</A> ofpixel<A NAME="2293">&#160;</A> values.  Interpolation isan approximation process that creates pixels where there were nonebefore and that, consequently, partially degrades the layer's imagequality.  Thus, when adjusting the relative sizes of several imagecomponents on different layers, it is preferable to scale down thelarger components to match the size of the smaller ones rather thanvice versa.<P>In the event that it is necessary to scale a layer larger, it isimportant to know that a layer cannot be scaled to dimensions largerthan those of the existing image boundaries.  To scale a layer todimensions greater than these limits, the image window must first beresized larger using the function <TT>Canvas Size</TT>, previouslydiscussed.<P><H3><A NAME="SECTION001062400000000000000">&#160;</A><A NAME="s2.layers.layer-resize">&#160;</A><A NAME="2297">&#160;</A><A NAME="2298">&#160;</A><BR>2.6.2.4 Layer Resizing</H3><P>As with scaling, a layer can be resized smaller or larger.  This isdone with <TT>Layer Boundary Size</TT>,<A NAME="2300">&#160;</A> foundin the Layers menu.  Typically you resize a layer to a smallerdimension to eliminate undesirable parts.  However, resizing a layersmaller has the same problem as resizing an image.  That is, thesubject matter of the layer must be properly positioned within theresulting layer boundaries.  For images, the positioning problem wassolved using the <TT>Crop</TT> tool, but this will not work for resizinglayers.  Fortunately there is a simple procedure that produces thesame effect and allows for the interactive positioning of the layercontents within the smaller layer boundaries.<P>Figures&nbsp;<A HREF="node32.html#f.layers.resize1">2.19</A> and <A HREF="node32.html#f.layers.resize2">2.20</A> illustrate<BR><DIV ALIGN="CENTER"><A NAME="f.layers.resize1">&#160;</A><A NAME="2305">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.19:</STRONG>Resizing a Layer Smaller: Floating a Rectangular Selection</CAPTION><TR><TD><IMG SRC="img55.gif"ALT="Figure 2.19"></TD></TR></TABLE></DIV><BR><BR><DIV ALIGN="CENTER"><A NAME="f.layers.resize2">&#160;</A><A NAME="2310">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.20:</STRONG>Resizing a Layer Smaller: Anchoring the Float to a New Layer and Deletingthe Old Layer</CAPTION><TR><TD><IMG SRC="img56.gif"ALT="Figure 2.20"></TD></TR></TABLE></DIV><BR>how this is done.  The method consists of a four-step procedure:<DL COMPACT><DT>1.<DD>The region to be framed in the layer is selected with the <TT>Rectangle Select</TT><A NAME="2316">&#160;</A> tool (seeChapter&nbsp;<A HREF="node35.html#c3.selections">3</A> for more on selections).Figure&nbsp;<A HREF="node32.html#f.layers.resize1">2.19</A>(a) shows how a rectangular selection hasbeen made in an image window.<DT>2.<DD>The selection is then converted to a floating selection using thefunction <TT>Float</TT><A NAME="2320">&#160;</A> from the <TT>Image:Select</TT>menu or by typing <TT>C-S-l</TT> in the image window.Figure&nbsp;<A HREF="node32.html#f.layers.resize1">2.19</A>(b) shows the Layers dialog after theselection has been converted to a float.<DT>3.<DD>The floating selection is then made into a new layer by choosing the<TT>New Layer</TT> function in the Layers menu or by clicking the <TT>New Layer</TT> button in the Layers dialog.Figure&nbsp;<A HREF="node32.html#f.layers.resize2">2.20</A>(a) shows the Layers dialog correspondingto this step.<DT>4.<DD>The old layer is made active, as shown by the Layers dialog inFigure&nbsp;<A HREF="node32.html#f.layers.resize2">2.20</A>(b), and is deleted by clicking on thetrash can icon in the button bar.</DL><P>The result of resizing the layer smaller is shown inFigure&nbsp;<A HREF="node32.html#f.layers.resize3">2.21</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.layers.resize3">&#160;</A><A NAME="2331">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.21:</STRONG>The Resulting Resized Layer</CAPTION><TR><TD><IMG SRC="img57.gif"ALT="Figure 2.21"></TD></TR></TABLE></DIV><BR>In Figure&nbsp;<A HREF="node32.html#f.layers.resize3">2.21</A>(a) the layer has been resizedsmaller, which can be seen by the black-and-yellow dashed layerboundary.  Figure&nbsp;<A HREF="node32.html#f.layers.resize3">2.21</A>(b) shows the resulting Layersdialog.  The procedure, as described, allows the layer contents to becarefully positioned within the resized layer.<P>Although there are good reasons to resize an <EM>image</EM> larger, it isdifficult to imagine a good reason for resizing a <EM>layer</EM> larger.However, due probably to a rationale of symmetry, a layer can beresized larger.  It should be noted that, as for layer scaling, theGIMP does not allow a layer to be resized to dimensions larger thanthe window boundaries of an image.  To resize a layer larger than thecurrent image boundaries, the image must first be resized toaccommodate it.<P><H2><A NAME="SECTION001063000000000000000">&#160;</A><A NAME="2340">&#160;</A><A NAME="2341">&#160;</A><BR>2.6.3 Flipping</H2><P>The active layer can be flipped around its vertical or horizontal axeswith the <TT>Flip</TT><A NAME="2343">&#160;</A> tool from the Toolbox.  A flip isperformed by clicking on the <TT>Flip</TT> tool icon, represented by atwo-way arrow in the Toolbox, and then by clicking in the imagewindow.  When in the image window, the mouse cursor appears as atwo-way arrow that is oriented horizontally for horizontal flips andvertically for vertical flips.<P>As an example of using the <TT>Flip</TT> tool,Figure&nbsp;<A HREF="node32.html#f.layers.flip">2.22</A>(a) <BR><DIV ALIGN="CENTER"><A NAME="f.layers.flip">&#160;</A><A NAME="2554">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.22:</STRONG>Using the <TT> Flip</TT> tool</CAPTION><TR><TD><IMG SRC="img58.gif"ALT="Figure 2.22"></TD></TR></TABLE></DIV><BR>shows an image of a pelican and Figure&nbsp;<A HREF="node32.html#f.layers.flip">2.22</A>(b) showsthe result after flipping the image horizontally.  Note that theHorizontal radio button is selected in the <TT>Tool Options</TT> dialog,as shown in Figure&nbsp;<A HREF="node32.html#f.layers.flip">2.22</A>(c).  Selecting the Verticalradio button, as shown in Figure&nbsp;<A HREF="node32.html#f.layers.flip">2.22</A>(e), produces theresult in Figure&nbsp;<A HREF="node32.html#f.layers.flip">2.22</A>(d).<P>Note that if the Horizontal radio button is selected in the <TT>ToolOptions</TT> dialog the flip option can be momentarily toggled to Verticalby Control-clicking in the image window.  Similarly, if the Verticalradio button is selected in the dialog, the option can be toggled toHorizontal option by Control-clicking in the image window.<P><H2><A NAME="SECTION001064000000000000000">&#160;</A><A NAME="2359">&#160;</A><A NAME="2360">&#160;</A><A NAME="2361">&#160;</A><A NAME="2362">&#160;</A><A NAME="2363">&#160;</A><BR>2.6.4 Rotating in 90<SUP><I>o</I></SUP> Increments</H2><P>An image or layer can be rotated in 90<SUP><I>o</I></SUP> increments using the <TT>Rotate</TT> menus.  For an image, use the <TT>Image:Image/Transforms/Rotate</TT> menu shown inFigure&nbsp;<A HREF="node32.html#f.layers.rotate-menus">2.23</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.layers.rotate-menus">&#160;</A><A NAME="2368">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.23:</STRONG>Image and Layer Rotate Menus</CAPTION><TR><TD><IMG SRC="img59.gif"ALT="Figure 2.23"></TD></TR></TABLE></DIV><BR>For a layer, use the <TT>Image:Layers/Rotate</TT> menu shown inFigure&nbsp;<A HREF="node32.html#f.layers.rotate-menus">2.23</A>(b).  As you can see, these menuscan be used to rotate either the entire image or the active layer byby 90, 180, or 270<SUP><I>o</I></SUP>.<P><H2><A NAME="SECTION001065000000000000000">&#160;</A><A NAME="s2.layers.transformations">&#160;</A><A NAME="2376">&#160;</A><A NAME="2377">&#160;</A><BR>2.6.5 The Transform Tool</H2><P>General transformations of a layer can be done using the <TT>Transform</TT> tool from the Toolbox.  This tool can perform rotation,scaling, shearing, and perspective transformations of the activelayer.  As usual, care must be taken to specify the active layerbefore applying this tool.<P>Figure&nbsp;<A HREF="node32.html#f.layers.transform1">2.24</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.layers.transform1">&#160;</A><A NAME="2381">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.24:</STRONG>Transform Tool Dialog</CAPTION><TR><TD><IMG SRC="img60.gif"ALT="Figure 2.24"></TD></TR></TABLE></DIV><BR>illustrates an image layer contained in a somewhat larger window.Shown in Figure&nbsp;<A HREF="node32.html#f.layers.transform1">2.24</A>(b) is the <TT>Tool Options</TT>dialog, which is obtained by double-clicking the <TT>Transform</TT> toolicon in the Toolbox window.  The four radio buttons in the Transformarea of the dialog are used to select the desired transformation type,which can be Rotation, Scaling, Shearing, or Perspective.<P>Transforming a layer requires interpolation of pixel values, andthis can introduce some jagged-edge artifacts into the result.  Thetoggle button labeled Smoothing diminishes this effect, which is whyit is on by default.  It does tend to make the image a little lesssharp, though (see Section&nbsp;<A HREF="node63.html#s6.unsharp-mask">6.4.1</A> for a discussion ofhow to recover some of the lost sharpness).<P>The Tool paradigm area of the dialog has two options.  The default isTraditional, which maps the image to a transformed grid (seeFigure&nbsp;<A HREF="node32.html#f.layers.transform1p2-2">2.26</A>).  For those who like to goagainst the grain, the Corrective option maps the transformed grid tothe image, thus producing an inverse transformation.  For example,rotating the transform grid in one direction with the Correctiveoption maps the grid back to the image, making the image itself rotatein the opposite direction.  Sound complicated?  It isn't.  Just try ityourself and you'll see.<P><H4><A NAME="SECTION001065010000000000000">&#160;</A><A NAME="2391">&#160;</A><A NAME="2392">&#160;</A><BR>2.6.5.0.1 Rotation</H4><P>Figures&nbsp;<A HREF="node32.html#f.layers.transform1p2-1">2.25</A><BR><DIV ALIGN="CENTER"><A NAME="f.layers.transform1p2-1">&#160;</A><A NAME="2395">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.25:</STRONG>Initiating the Rotation Transformation</CAPTION><TR><TD><IMG SRC="img61.gif"ALT="Figure 2.25"></TD></TR></TABLE></DIV><BR>and <A HREF="node32.html#f.layers.transform1p2-2">2.26</A><BR><DIV ALIGN="CENTER"><A NAME="f.layers.transform1p2-2">&#160;</A><A NAME="2401">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.26:</STRONG>Finalizing the Rotation Transformation</CAPTION><TR><TD><IMG SRC="img62.gif"ALT="Figure 2.26"></TD></TR></TABLE></DIV><BR>illustrate the use of the Rotation option of the <TT>Transform</TT> tool.Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-1">2.25</A>(a) shows the image layer, andFigure&nbsp;<A HREF="node32.html#f.layers.transform1p2-1">2.25</A>(b) the <TT>RotationInformation</TT><A NAME="2409">&#160;</A> dialog that appearswhen the left mouse button is clicked in the image window.  The <TT>Rotation Information</TT> dialog has entry boxes that can be used to givea specific angle of rotation as well as the position of the point thatwill be the center of rotation.  By default, the center of rotation isthe geometric center of the active layer.<P>For each of the Transform options, Rotation, Scaling, Shearing, orPerspective, the first mouse click on the image brings up a dialogspecific to the chosen option.  This mouse click also displays agrid<A NAME="2411">&#160;</A> superimposed on the activelayer in the image window.  The number of grid lines can be controlledfrom the <TT>Tool Options</TT> dialog (seeFigure&nbsp;<A HREF="node32.html#f.layers.transform1">2.24</A>(b)).  The grid lines can be seen inFigure&nbsp;<A HREF="node32.html#f.layers.transform1p2-1">2.25</A>(c).  Placing the mouse cursorwithin the active layer in the image window changes the cursor inaccordance with the type of transformation to be performed.  The imageoutline and grid can then be transformed by clicking and dragging.The transformation of the <EM>grid</EM> can be adjusted as many times asdesired because the transformation of the <EM>image</EM> is not initiateduntil the option transform button is clicked.  For example, the Rotatebutton in Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-2">2.26</A>(b) must be clicked tocause the actual rotation of the image.<P>As the grid is rotated for the Rotate option of the <TT>Transform</TT>tool, the angle is interactively reported in the <TT>RotationInformation</TT> dialog.  The rotated outline for an angle of 25<SUP><I>o</I></SUP> isshown in Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-2">2.26</A>(a).  As already stated,once the desired angle of rotation is found, the image itself isrotated by clicking on the Rotate button, seen in the dialog shown inFigure&nbsp;<A HREF="node32.html#f.layers.transform1p2-2">2.26</A>(b).  The resulting rotated layeris shown in Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-2">2.26</A>(c).<P>As an alternative to interactively rotating the grid with the mouse,the rotation can also be performed by entering a value into the Angleentry box or by using the slider in the Rotation dialog.  Usefulvalues of rotation can be determined with the <TT>Measure</TT><A NAME="2424">&#160;</A> tool.  An example of this is illustratedin Section&nbsp;<A HREF="node67.html#s7.compositing.proj2">7.2</A>.<P><H4><A NAME="SECTION001065020000000000000">&#160;</A><A NAME="2427">&#160;</A><A NAME="2428">&#160;</A><BR>2.6.5.0.2 Scaling</H4><P>Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-3">2.27</A><BR><DIV ALIGN="CENTER"><A NAME="f.layers.transform1p2-3">&#160;</A><A NAME="2431">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.27:</STRONG>The Scaling Transformation</CAPTION><TR><TD><IMG SRC="img63.gif"ALT="Figure 2.27"></TD></TR></TABLE></DIV><BR>illustrates the Scaling option of the <TT>Transform</TT> tool.  Like forrotation, scaling can be performed interactively with the mouse or byentering values into the Width and Height entry boxes in the Scalingdialog.<P>Values can be entered into the Scaling dialog<A NAME="2436">&#160;</A> ina number of units, the default being pixels.  It is often convenientto perform scaling as a percentage of the original dimensions (whichare shown at the top of the Scaling dialog as the Original Width andHeight).  This can be done by choosing the % option from thepull-down menu in the dialog.  Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-3">2.27</A>(b)shows that this choice was used to scale the grid inFigure&nbsp;<A HREF="node32.html#f.layers.transform1p2-3">2.27</A>(a) by 50% in both dimensions.When the Scale button in the dialog is clicked, this produces theresult shown in Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-3">2.27</A>(c).<P>It is useful to be able to constrain the X and Y scale ratio so as tomaintain their aspect ratio when scaling a layer with the <TT>Transform</TT> tool.  This is done by pressing both the Control and Altkeys while using the mouse to scale the transform grid.  Useful valuesfor scaling can be determined using the <TT>Measure</TT><A NAME="2442">&#160;</A> tool.  Section&nbsp;<A HREF="node70.html#s7.panoramas">7.5</A> illustrates an example ofthis.<P><H4><A NAME="SECTION001065030000000000000">&#160;</A><A NAME="2445">&#160;</A><A NAME="2446">&#160;</A><BR>2.6.5.0.3 Shearing</H4><P>Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-4">2.28</A><BR><DIV ALIGN="CENTER"><A NAME="f.layers.transform1p2-4">&#160;</A><A NAME="2449">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.28:</STRONG>The Shear Transformation</CAPTION><TR><TD><IMG SRC="img64.gif"ALT="Figure 2.28"></TD></TR></TABLE></DIV><BR>shows the application of the Shearing option of the <TT>Transform</TT>tool.  As with the other options, shearing can be appliedinteractively with the mouse or by entering values into the <TT>ShearInformation</TT> dialog.<A NAME="2455">&#160;</A>  Shearing can beapplied either horizontally or vertically, but not in both directionssimultaneously.  If applied using the mouse, the direction of shear isdetermined by the mouse's initial direction of movement.  Otherwise,it depends on the first entry box used in the dialog.<P><H4><A NAME="SECTION001065040000000000000">&#160;</A><A NAME="2457">&#160;</A><A NAME="2458">&#160;</A><BR>2.6.5.0.4 Perspective</H4><P>Perspective is perhaps the most intriguing option of the <TT>Transform</TT> tool.  This option is illustrated inFigure&nbsp;<A HREF="node32.html#f.layers.transform1p2-5">2.29</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.layers.transform1p2-5">&#160;</A><A NAME="2462">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 2.29:</STRONG>The Perspective Transformation</CAPTION><TR><TD><IMG SRC="img65.gif"ALT="Figure 2.29"></TD></TR></TABLE></DIV><BR>This is the only transform option where values cannot be directlyentered into a dialog.  As shown inFigure&nbsp;<A HREF="node32.html#f.layers.transform1p2-5">2.29</A>(b), there is numerical feedbackabout how the Perspective transform option is applied to the image,but this is not particularly valuable because it is unclear how toreuse the information.  The consequence is that the Perspective optionmay only be applied interactively with the mouse.<P>Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-5">2.29</A>(a) shows that the grid linefeature provides very useful feedback for this particular tool.  Thelines help visualize the perspective warping that will take place oncethe Transform button is clicked in the <TT>Perspective Transform</TT>dialog.<A NAME="2469">&#160;</A>  The perspective transformallows each of the four corners of the layer to be independentlyrepositioned.  The resulting image is warped to a generalquadrilateral.  Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-5">2.29</A>(c) shows theresult of applying the perspective transform specified by the gridshown in Figure&nbsp;<A HREF="node32.html#f.layers.transform1p2-5">2.29</A>(a).<P>It should be noted that all the transforms can be used in conjunctionwith the Transform Lock<A NAME="2472">&#160;</A> option of the Pathsdialog.  This is extremely useful and is discussed in more detail inSection&nbsp;<A HREF="node39.html#s3.path-palette">3.4.1</A>.  A relevant example is shown inSection&nbsp;<A HREF="node67.html#s7.compositing.proj2">7.2</A>.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1245" HREF="node33.html#SECTION001071000000000000000">2.7.1 Merging</A><LI><A NAME="tex2html1246" HREF="node33.html#SECTION001072000000000000000">2.7.2 Flattening</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001070000000000000000">&#160;</A><A NAME="2476">&#160;</A><BR>2.7 Combining Layers</H1> <P>It is often necessary to combine several layers into one.  This isparticularly useful prior to saving<A NAME="2477">&#160;</A> an image to anon-GIMP format such as JPEG or GIF.  There are two ways of combininglayers in the GIMP.  The method to use depends on the final use of theresulting image.<P><H2><A NAME="SECTION001071000000000000000">&#160;</A><A NAME="s2.merging">&#160;</A><A NAME="2480">&#160;</A><A NAME="2481">&#160;</A><BR>2.7.1 Merging</H2><P>It is possible to merge a subset of layers from an image into a singlelayer.  This is accomplished by choosing <TT>Merge VisibleLayers</TT><A NAME="2483">&#160;</A> from the Layers menu orby simply typing <TT>C-m</TT> in the image window.  Alternatively, it issometimes convenient to merge just two adjacent layers in the layerstack.  This can be done with <TT>Merge Down</TT>, found in the Layersmenu.  The use of this function merges the active layer with the next<EM>visible</EM> layer down in the stack.  <TT>Merge Down</TT><A NAME="2488">&#160;</A> can be conveniently invoked by typing <TT>C-S-m</TT> inthe Layers dialog.  A nice use of <TT>Merge Down</TT> is illustrated inSection&nbsp;<A HREF="node80.html#s9.shuttle-animation">9.1.4</A>.<P><H2><A NAME="SECTION001072000000000000000">&#160;</A><A NAME="s2.flatten">&#160;</A><A NAME="2494">&#160;</A><A NAME="2495">&#160;</A><BR>2.7.2 Flattening</H2><P>The function <TT>Flatten Image</TT>,<A NAME="2497">&#160;</A> foundin the Layers menu, is an alternative to <TT>Merge Visible Layers</TT>.This function merges all the layers regardless of their visibility inthe image window.  In addition, <TT>Flatten Image</TT> applies all thelayer masks to their respective layers (for more on layer masks, seeSection&nbsp;<A HREF="node44.html#s4.layer-masks">4.2</A>) and deletes any remaining alpha valuesin the image.  In fact, <TT>Flatten Image</TT> is the only function inthe GIMP that can remove the alpha channel from an image.  Channelmasks, however, are neither applied nor deleted (seeSection&nbsp;<A HREF="node43.html#s4.channel-masks">4.1</A> for more on channel masks).  Typicallyan image is flattened in order to save it in an image format that doesnot support layers or transparency.  The JPEG format is an example ofthis.<P><HR><H1><A NAME="SECTION001080000000000000000">&#160;</A><A NAME="s2.layers.problems">&#160;</A><A NAME="2505">&#160;</A><A NAME="2506">&#160;</A><BR>2.8 Common Problems and <BR>Frequently Asked Questions</H1><P>Layers can be tricky, and it is sometimes possible to run into whatseem like incomprehensible difficulties while using them.  Thefollowing list of problems addresses some common difficulties withlayers.  In a nutshell, the information in the Layers dialog almostalways contains the solutions to these problems.<P><UL><LI><B>I am trying to draw, paint, select, or apply some other operation onthe image window, and repeated efforts just don't seem to produce anyresults.  What's going on?</B><P>GIMP operations are applied to the active layer.  A common problemwith layers is that the active layer is not visible.  It is possiblethat the active layer is blocked by layers above it or that thevisibility of the active layer is not turned on.  To solve theproblem, make sure that the Eye icon of the active layer is on, andturn off the Eye icon of the layers above it.<P><LI><B>I am trying to paint in a transparent part of a layer, and I amgetting no results.  Why?</B><A NAME="2510">&#160;</A><P>If you are trying to draw or paint on a transparent part of a layer,and nothing seems to leave a mark, the problem is that the KeepTrans. button is on in the Layers dialog.  Toggle this button off andyour problem will...disappear.<P><LI><B>I want to add a layer mask to my image, but it is grayed out inthe Layers menu.  Why isn't this option available?</B><P>Background layers and flattened images (see Section&nbsp;<A HREF="node33.html#s2.flatten">2.7.2</A>)have no alpha channels<A NAME="2513">&#160;</A> and socannot have a layer mask.  This problem is easily solved, though, byapplying the <TT>Add Alpha Channel</TT><A NAME="2515">&#160;</A>function from the Layers menu.<P><LI><B>The top layer of my image is labeled Floating Selection,all my other layers are grayed out, and I can't make any of my layersactive except the top one.  What's wrong?</B><P>A floating selection disables all the other layers until it isanchored to a new layer or to the last active layer.  To anchor to anew layer choose <TT>New Layer</TT> from the Layers menu or click on the<TT>New Layer</TT> button in the Layers dialog.  To anchor to thepreviously active layer, choose <TT>Anchor Layer</TT><A NAME="2520">&#160;</A> from the Layers menu, or type <TT>C-h</TT> in the image ordialog window, or click on the <TT>Anchor</TT> button in the Layersdialog.<P><LI><B>I saved a finished project's image to disk, but when I try to viewthe saved image in another image display program, it's missing elementsand it doesn't look like the one I saved.  Why is this?</B><P>Not all image formats support layers or transparency (JPEG, is oneexample).  For finished projects that are saved to formats supportingalpha channels, use the <TT>Merge Visible Layers</TT> function from theLayers menu before saving.<A NAME="2525">&#160;</A>  If alpha is notsupported, use <TT>Flatten Image</TT> from the Layers menu instead.Also, read the next item.<P><LI><B>I spent hours working on an image with multiple layers, channelmasks, layer masks, and paths and then saved it.  But when I tried toreload my image back into the GIMP, everything but a single layer wasgone!  What happened!?</B><P>Work in progress and finished projects should be saved in the GIMP'snative XCF format.<A NAME="2528">&#160;</A>  This is the only formatthat saves all the information about layers, masks, and paths.<P></UL><HR><H1><A NAME="SECTION001100000000000000000">&#160;</A><A NAME="c3.selections">&#160;</A><A NAME="3329">&#160;</A><BR>3. Selections</H1><P>Selections are extremely important tools for working with digitalimages.  They are a means for partitioning an image into two groups ofpixels: those we want to work on and those we do not.  Selectionsallow the <EM>selective</EM> application of enhancements, functions,filters, and plug-ins to specific target regions of an image.Furthermore, selections are essential tools for compositing imagematerial from several sources into a single image.  This is core tocollage and photo montage, two subjects developed in detail inChapter&nbsp;<A HREF="node65.html#c7.compositing">7</A>.<P>This chapter covers the selection tools in the GIMP.  However, thematerial presented here is really only half the story on the subjectof selections.  The other half is presented in Chapter&nbsp;<A HREF="node42.html#c4.masks">4</A>,which covers masks.  As described there, selections and masks arereally just two implementations of the same principle.  They bothresult in a separation of subject from background.  They arrive atthis result, however, using different and very complementary methods.You really need both to get the best selection results.<P>Selections are the scalpel of the image manipulator's toolbox, and youwill use them a lot.  Because selections can easily be the mosttime-consuming and frustrating part of a project, it is important toknow how to use the selection tools artfully and effectively.  Thischapter explains how each selection tool works, and it presents thearray of GIMP functions that are directly related to selections.Furthermore, the conditions for which each selection tool is mosteffective are described, and each tool is rated against the others forits usefulness.<P>Before launching into the descriptions of the various selection tools,it is worthwhile to mention where selections fit into the structure ofimages.  The relationship of pixels, channels, layers, and images wasdescribed in Section&nbsp;<A HREF="node28.html#s2.channels-layers">2.2</A>.  Where, then, doselections fit in?  A selection can be seen in the image window--doesthat mean it is part of the image?  The answer to these questionswon't be fully given until Chapter&nbsp;<A HREF="node42.html#c4.masks">4</A>, which covers masks.However, for now it suffices to know that selections are specialchannels, independent of the image layers, and whose selective effectsapply only to the active layer.<A NAME="3335">&#160;</A><P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html1269" HREF="node36.html">3.1 The Basic Selection Tools</A><UL><LI><A NAME="tex2html1270" HREF="node36.html#SECTION001111000000000000000">3.1.1 The Six Selection Tools from the Toolbox</A><UL><LI><A NAME="tex2html1271" HREF="node36.html#SECTION001111100000000000000">3.1.1.1 The <TT>Rectangle Select</TT> and <TT>Ellipse Select</TT> Tools</A><LI><A NAME="tex2html1272" HREF="node36.html#SECTION001111200000000000000">3.1.1.2 The <TT>Lasso</TT> (the <TT>Free-Hand Selection</TT> Tool)</A><LI><A NAME="tex2html1273" HREF="node36.html#SECTION001111300000000000000">3.1.1.3 The <TT>Magic Wand</TT> (the <TT>Fuzzy Select</TT> Tool)</A><LI><A NAME="tex2html1274" HREF="node36.html#SECTION001111400000000000000">3.1.1.4 Bezier Paths</A><LI><A NAME="tex2html1275" HREF="node36.html#SECTION001111500000000000000">3.1.1.5 The <TT>Intelligent Scissors</TT></A></UL><LI><A NAME="tex2html1276" HREF="node36.html#SECTION001112000000000000000">3.1.2 Selection Tool Options</A><UL><LI><A NAME="tex2html1277" HREF="node36.html#SECTION001112100000000000000">3.1.2.1 Antialiasing</A><LI><A NAME="tex2html1278" HREF="node36.html#SECTION001112200000000000000">3.1.2.2 Feathering</A><LI><A NAME="tex2html1279" HREF="node36.html#SECTION001112300000000000000">3.1.2.3 Sample Merged</A><LI><A NAME="tex2html1280" HREF="node36.html#SECTION001112400000000000000">3.1.2.4 Threshold</A></UL></UL><LI><A NAME="tex2html1281" HREF="node37.html">3.2 Combining Selections</A><UL><LI><A NAME="tex2html1282" HREF="node37.html#SECTION001121000000000000000">3.2.1 Adding</A><LI><A NAME="tex2html1283" HREF="node37.html#SECTION001122000000000000000">3.2.2 Subtracting</A><LI><A NAME="tex2html1284" HREF="node37.html#SECTION001123000000000000000">3.2.3 Intersecting</A><LI><A NAME="tex2html1285" HREF="node37.html#SECTION001124000000000000000">3.2.4 Using Add, Subtract, and Intersect with the Rectangleand Ellipse Selection Tool Features</A><LI><A NAME="tex2html1286" HREF="node37.html#SECTION001125000000000000000">3.2.5 Moving a Selection Boundary</A></UL><LI><A NAME="tex2html1287" HREF="node38.html">3.3 The Select Menu and Friends</A><UL><LI><A NAME="tex2html1288" HREF="node38.html#SECTION001131000000000000000">3.3.1 The <TT>Invert</TT> Function</A><LI><A NAME="tex2html1289" HREF="node38.html#SECTION001132000000000000000">3.3.2 The <TT>All</TT> Function</A><LI><A NAME="tex2html1290" HREF="node38.html#SECTION001133000000000000000">3.3.3 The <TT>None</TT> Function</A><LI><A NAME="tex2html1291" HREF="node38.html#SECTION001134000000000000000">3.3.4 The <TT>Float</TT> Function</A><LI><A NAME="tex2html1292" HREF="node38.html#SECTION001135000000000000000">3.3.5 The <TT>Feather</TT> Function</A><LI><A NAME="tex2html1293" HREF="node38.html#SECTION001136000000000000000">3.3.6 The <TT>Sharpen</TT> Function</A><LI><A NAME="tex2html1294" HREF="node38.html#SECTION001137000000000000000">3.3.7 The <TT>Shrink</TT> Function</A><LI><A NAME="tex2html1295" HREF="node38.html#SECTION001138000000000000000">3.3.8 The <TT>Grow</TT> Function</A><LI><A NAME="tex2html1296" HREF="node38.html#SECTION001139000000000000000">3.3.9 The <TT>Border</TT> Function</A><LI><A NAME="tex2html1297" HREF="node38.html#SECTION0011310000000000000000">3.3.10 The <TT>Save to Channel</TT> Function</A><LI><A NAME="tex2html1298" HREF="node38.html#SECTION0011311000000000000000">3.3.11 The <TT>By Color</TT> Function</A><LI><A NAME="tex2html1299" HREF="node38.html#SECTION0011312000000000000000">3.3.12 The <TT>To Path</TT> Function</A><LI><A NAME="tex2html1300" HREF="node38.html#SECTION0011313000000000000000">3.3.13 The <TT>Toggle Selection</TT> Function</A><LI><A NAME="tex2html1301" HREF="node38.html#SECTION0011314000000000000000">3.3.14 <TT>Copy</TT>, <TT>Cut</TT>, and <TT>Paste</TT></A><LI><A NAME="tex2html1302" HREF="node38.html#SECTION0011315000000000000000">3.3.15 <TT>Stroke</TT></A></UL><LI><A NAME="tex2html1303" HREF="node39.html">3.4 The Paths Dialog</A><UL><LI><A NAME="tex2html1304" HREF="node39.html#SECTION001141000000000000000">3.4.1 The Paths Palette</A><LI><A NAME="tex2html1305" HREF="node39.html#SECTION001142000000000000000">3.4.2 The Control Point Mode Buttons</A><LI><A NAME="tex2html1306" HREF="node39.html#SECTION001143000000000000000">3.4.3 The Paths Menu</A><LI><A NAME="tex2html1307" HREF="node39.html#SECTION001144000000000000000">3.4.4 The Paths Button Bar</A></UL><LI><A NAME="tex2html1308" HREF="node40.html">3.5 Using Selections Effectively</A><UL><LI><A NAME="tex2html1309" HREF="node40.html#SECTION001151000000000000000">3.5.1 General Selection Tool Guidelines</A><LI><A NAME="tex2html1310" HREF="node40.html#SECTION001152000000000000000">3.5.2 Tool Conjugation</A><LI><A NAME="tex2html1311" HREF="node40.html#SECTION001153000000000000000">3.5.3 Using <TT>Zoom</TT></A><LI><A NAME="tex2html1312" HREF="node40.html#SECTION001154000000000000000">3.5.4 Selections and Guides</A></UL><LI><A NAME="tex2html1313" HREF="node41.html">3.6 Common Problems and <BR>Frequently Asked Questions</A></UL><!--End of Table of Child-Links--><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1326" HREF="node36.html#SECTION001111000000000000000">3.1.1 The Six Selection Tools from the Toolbox</A><UL><LI><A NAME="tex2html1327" HREF="node36.html#SECTION001111100000000000000">3.1.1.1 The <TT>Rectangle Select</TT> and <TT>Ellipse Select</TT> Tools</A><LI><A NAME="tex2html1328" HREF="node36.html#SECTION001111200000000000000">3.1.1.2 The <TT>Lasso</TT> (the <TT>Free-Hand Selection</TT> Tool)</A><LI><A NAME="tex2html1329" HREF="node36.html#SECTION001111300000000000000">3.1.1.3 The <TT>Magic Wand</TT> (the <TT>Fuzzy Select</TT> Tool)</A><LI><A NAME="tex2html1330" HREF="node36.html#SECTION001111400000000000000">3.1.1.4 Bezier Paths</A><LI><A NAME="tex2html1331" HREF="node36.html#SECTION001111500000000000000">3.1.1.5 The <TT>Intelligent Scissors</TT></A></UL><LI><A NAME="tex2html1332" HREF="node36.html#SECTION001112000000000000000">3.1.2 Selection Tool Options</A><UL><LI><A NAME="tex2html1333" HREF="node36.html#SECTION001112100000000000000">3.1.2.1 Antialiasing</A><LI><A NAME="tex2html1334" HREF="node36.html#SECTION001112200000000000000">3.1.2.2 Feathering</A><LI><A NAME="tex2html1335" HREF="node36.html#SECTION001112300000000000000">3.1.2.3 Sample Merged</A><LI><A NAME="tex2html1336" HREF="node36.html#SECTION001112400000000000000">3.1.2.4 Threshold</A></UL></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001110000000000000000">&#160;</A><A NAME="s3-1.overview-of-6">&#160;</A><BR>3.1 The Basic Selection Tools</H1><P>There are two types<A NAME="3338">&#160;</A> of selection tools.The first type works by drawing lines that separate the selectionsubject from its background.  The second type makes a selection byspecifying a representative <EM>seed</EM> pixel from the subject.  Theselection is then made automatically by including other pixels in theimage that are sufficiently similar to the seed in color.<P>A goal of this chapter is to explain how to decide which type ofselection tool should be applied.  Often it is some combination thatis the most effective.  The decision is partially based on evaluatingthe characteristics of the subject that best differentiate it from thebackground.  These could be a combination of its color, shape, value,or saturation (for more on the characteristics of color, value, andsaturation, see Chapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A>).  For difficultselections it is often necessary to experiment in order to discoverthe most effective approach.<P><H2><A NAME="SECTION001111000000000000000">3.1.1 The Six Selection Tools from the Toolbox</A></H2><P>In this section we start to develop our skills by reviewing the GIMP'sbasic selection tools and by exploring their underlying strengths andweaknesses.  To begin, we discuss the six selection tools found in theGIMP Toolbox, shown in Figure&nbsp;<A HREF="node36.html#f.selections.toolbox">3.1</A>.  Theyconsist of the <TT>Rectangle Select</TT>,<BR><DIV ALIGN="CENTER"><A NAME="f.selections.toolbox">&#160;</A><A NAME="3345">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.1:</STRONG>Toolbox Selection Tools</CAPTION><TR><TD><IMG SRC="img66.gif"ALT="Figure 3.1"></TD></TR></TABLE></DIV><BR>the <TT>Ellipse Select</TT>, the <TT>Free-Hand Select</TT> (also known asthe <TT>Lasso</TT>), the <TT>Fuzzy Select</TT> (known as the <TT>MagicWand</TT>), the <TT>Bezier Path</TT> tool, and the <TT>IntelligentScissors</TT>.  Of these, the <TT>Bezier Path</TT> and the <TT>Lasso</TT> arethe most useful.  <TT>Rectangle Select</TT> is also of some use.  Of lessuse are the <TT>Magic Wand</TT> and <TT>Ellipse Select</TT> tools.  Finally,although the <TT>Intelligent Scissors</TT><A NAME="3362">&#160;</A>has an intriguing name, there is nothing this tool can do that can'tbe done better and more efficiently using other tools.<P><H3><A NAME="SECTION001111100000000000000">&#160;</A><A NAME="s3.rectangle-ellipse-select">&#160;</A><A NAME="3366">&#160;</A><A NAME="3367">&#160;</A><BR>3.1.1.1 The <TT>Rectangle Select</TT> and <TT>Ellipse Select</TT> Tools</H3><P>The <TT>Rectangle Select</TT> and <TT>Ellipse Select</TT> tools are used forselecting rectangular and elliptical regions in an image.  A selectionis initiated by clicking and dragging in the image window, and theselection is completed by releasing the mouse button.  The selectionprocess is interactively facilitated by an outline of the selectionthat can be seen while the mouse is being dragged.<P>Figure&nbsp;<A HREF="node36.html#f.selections.marquees1">3.2</A> shows examples of both the <TT>Rectangle Select</TT> and <TT>Ellipse Select</TT> tools.<BR><DIV ALIGN="CENTER"><A NAME="f.selections.marquees1">&#160;</A><A NAME="4073">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.2:</STRONG>The <TT> Rectangle Select</TT> and <TT> Ellipse Select</TT> Tools</CAPTION><TR><TD><IMG SRC="img67.gif"ALT="Figure 3.2"></TD></TR></TABLE></DIV><BR>When completed, selections are displayed as moving dashed lines,traditionally referred to as the <EM>Marching Ants</EM>.<A NAME="3380">&#160;</A><A NAME="3381">&#160;</A>  In the figure,the arrows are just for illustrating where the selections begin andend.  They don't actually appear when you use these tools.  Thearrows' tails show where the selections were initiated, and the headsshow where they were terminated.  Note that for the <TT>EllipseSelect</TT> tool the selection is inscribed in a rectangle defined by thearrow's head and tail.<P>A perfectly square selection<A NAME="3383">&#160;</A> can be made withthe <TT>Rectangle Select</TT> tool, and a perfectlycircular<A NAME="3385">&#160;</A> selection can be made with the<TT>Ellipse Select</TT> tool.  The trick is to use the Shift key, butread on carefully.  Two other selection tricks are also performed withthe Shift key (see Section&nbsp;<A HREF="node37.html#s3-2.combining-selections">3.2</A> for theother).  To avoid confusion, it is important to pay close attention tohow this works.<P>To obtain a perfectly square or circular selection, begin theselection by clicking and dragging in the image window.  While themouse button is down, press the Shift key.  In the image window,the resulting selection shape becomes a perfectly square or circular,depending on the tool you are using.  The Shift key must remainpressed until the selection is finished and the mouse button has beenreleased.  Only then may the Shift key be released.  If the Shift keyis released before the left mouse button, the selection will revert toa normal rectangle or ellipse selection.  The results of using theShift key with the <TT>Rectangle Select</TT> and <TT>Ellipse Select</TT>tools are illustrated in Figure&nbsp;<A HREF="node36.html#f.selections.marquees2">3.3</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.selections.marquees2">&#160;</A><A NAME="4075">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.3:</STRONG>Making Perfectly Square and Circular Selections with the <TT>Rectangle Select</TT> and <TT> Ellipse Select</TT> Tools</CAPTION><TR><TD><IMG SRC="img68.gif"ALT="Figure 3.3"></TD></TR></TABLE></DIV><BR><P>Instead of initiating a rectangular or elliptical selection at onecorner and terminating at the opposite one, it is also possible toinitiate from the selection's center, terminating at a corner.  Thetrick for this is similar to the technique just described for creatinga perfectly square or circular selection.  It is done by pressing theControl key after initiating the selection with the left mouse button.The Control key must remain pressed until after the mouse button isreleased.  To combine perfectly square or circular selections inconjunction with center initiated ones, the Shift and Control keysmust both be pressed after the left mouse button is clicked and remainso until after the mouse button is released.<P><H3><A NAME="SECTION001111200000000000000">&#160;</A><A NAME="3399">&#160;</A><A NAME="3400">&#160;</A><BR>3.1.1.2 The <TT>Lasso</TT> (the <TT>Free-Hand Selection</TT> Tool)</H3><P>The <TT>Lasso</TT> is used to draw free-hand selections.  Although itsofficial name is the <TT>Free-Hand Selection</TT> tool, the <TT>Lasso</TT>will be preferred in this book because the tool's icon in the Toolboxresembles a lasso (and it's also a lot shorter to type).<P>The <TT>Lasso</TT> is used by clicking and dragging in the image window,tracing out the shape to be selected.  Releasing the mouse buttoncompletes the selection.  While tracing with the <TT>Lasso</TT>, theoutline of the selection can be seen, and, when completed, theselection is shown by the Marching Ants.Figure&nbsp;<A HREF="node36.html#f.selections.lasso">3.4</A><BR><DIV ALIGN="CENTER"><A NAME="f.selections.lasso">&#160;</A><A NAME="4078">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.4:</STRONG>A <TT> Lasso</TT> Selection</CAPTION><TR><TD><IMG SRC="img69.gif"ALT="Figure 3.4"></TD></TR></TABLE></DIV><BR>shows an example of a <TT>Lasso</TT> selection.  <P>The advantage of the <TT>Lasso</TT> is that it can be used to selectarbitrarily complex objects.  The disadvantage is that the work can bepainstakingly slow, requiring extremely fine control of the mouse.Even the small selection shown in Figure&nbsp;<A HREF="node36.html#f.selections.lasso">3.4</A> wasdifficult, because the tree's outline is so jagged and rough.  Anotheraspect of the <TT>Lasso</TT> that makes it difficult for precision workis that the mouse button cannot be released while the selection isbeing made.  This precludes using this tool for making large,complicated selections.  For these reasons, the <TT>Lasso</TT> will notbe our selection tool of choice for fine-grain work.  Rather, it willmainly be used to rough-out selections around complicated shapes orfor completing work on masks.  A good example of the latter use of the<TT>Lasso</TT> is demonstrated in Sections&nbsp;<A HREF="node47.html#s4.threshold">4.5.3</A> and<A HREF="node69.html#s7.compositing.proj4">7.4</A>.<P><H3><A NAME="SECTION001111300000000000000">&#160;</A><A NAME="s3.magic-wand">&#160;</A><A NAME="3423">&#160;</A><A NAME="3424">&#160;</A><BR>3.1.1.3 The <TT>Magic Wand</TT> (the <TT>Fuzzy Select</TT> Tool)</H3><P>Although its name is officially the <TT>Fuzzy Select</TT> tool, the <TT>Magic Wand</TT> will be preferred in this book because the tool's icon, asshown in the Toolbox, resembles a magic wand.  The <TT>Magic Wand</TT>makes selections based on specifying a seed pixel in the image.  Theseed is the first selected pixel, and the pixels directly adjoiningthe seed are included in the selection if their colors aresufficiently close to the color of the seed.  This creates a secondset of selected pixels.  This process is repeated with the neighboringpixels of the second selected set, and so on, until no more pixels canbe added.<P>Figure&nbsp;<A HREF="node36.html#f.selections.magic-wand">3.5</A> illustrates how the <TT>MagicWand</TT> works.<BR><DIV ALIGN="CENTER"><A NAME="f.selections.magic-wand">&#160;</A><A NAME="4081">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.5:</STRONG>A <TT> Magic Wand</TT> Seed Pixel and Selection</CAPTION><TR><TD><IMG SRC="img70.gif"ALT="Figure 3.5"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node36.html#f.selections.magic-wand">3.5</A>(a) shows a smoothly-varying,radial gradient of pixel values going from black at the center towhite at the edges.  The location where the seed was chosen with themouse is indicated.  The resulting ring-like region selected by the<TT>Magic Wand</TT> is shown by the Marching Ants.  The ring selection isequally thick on both sides of the seed because the <TT>Magic Wand</TT>includes pixels that have both higher and lower color values than theseed's.<P>So, how much lower and higher can adjoining pixel colors be and stillbe included in the selection?  This is specified by the <TT>MagicWand</TT>'s selection threshold, which, as shown inFigure&nbsp;<A HREF="node36.html#f.selections.magic-wand">3.5</A>(b), can be set with the Thresholdslider in the <TT>Tool Options</TT> dialog<A NAME="3441">&#160;</A>(see Section&nbsp;<A HREF="node36.html#s3-5.tool-options">3.1.2</A> for more on this).  It can alsobe set interactively with the mouse.  The threshold is setinteractively by keeping the left mouse button pressed when selectingthe seed pixel.  When the outline of the selection appears, and withthe left mouse button continually pressed, the mouse can be movedeither to the right (or downward) to increase the threshold or to theleft (or upward) to diminish it.  Increasing the threshold results ina larger selection, and decreasing it, a smaller one.  Changing thethreshold should be done by moving the mouse in small increments sothat the changes in the selected region can be carefully controlled.<P>The <TT>Magic Wand</TT> is a conceptually attractive tool.  In principle,it automatically makes the selection by grouping pixels that aresimilar in color and that are spatially connected, being grown from aseed pixel.  In practice, however, it is often difficult to get goodresults with the <TT>Magic Wand</TT>.  This is because it is hard to findthe seed pixel and threshold pair that will produce the selection wewant.  As an example, imagine a subject you want to select using the<TT>Magic Wand</TT> and that has pixel color values ranging from <I>X</I> to<I>Y</I>.  To make the selection with the <TT>Magic Wand</TT>, a pixel whosevalue is exactly midway between <I>X</I> and <I>Y</I> must be selected as theseed.  But how do we determine what <I>X</I> and <I>Y</I> are for our subject,and how do we find the pixel in the subject that has the midway value?These practical problems are not easily solved!<P>Fortunately there is another tool in the GIMP that allows you to moreeasily exploit the color-grouping selection concept.  This tool iscalled <TT>Threshold</TT> and is found in the <TT>Image:Image/Colors</TT>menu.  Its use is presented in Section&nbsp;<A HREF="node47.html#s4.threshold">4.5.3</A>.<P><H3><A NAME="SECTION001111400000000000000">&#160;</A><A NAME="s3.bezier-paths">&#160;</A><A NAME="3452">&#160;</A><BR>3.1.1.4 Bezier Paths</H3><P>The <TT>Bezier Path</TT> selection tool is very powerful.  It is the onlyselection tool that allows the interactive adjustment of theselections it makes.  The <TT>Bezier Path</TT> tool works by placing <EM>control points</EM><A NAME="3456">&#160;</A> on an image.  These areinitially connected by straight-line <EM>path segments</EM>; however,using the <EM>control handles</EM><A NAME="3459">&#160;</A> hidden inside each control point, the path segments can be madeto curve in practically arbitrary manners.  By using a Bezier path, aninitial selection can be interactively corrected until the finalresult fits the desired selection like a glove.<P>Figure&nbsp;<A HREF="node36.html#f.selections.bezier-control">3.6</A><BR><DIV ALIGN="CENTER"><A NAME="f.selections.bezier-control">&#160;</A><A NAME="3462">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.6:</STRONG>Using the Bezier Control Points and Handles: (a) A Bezierpath, (b) Simultaneously manipulating two control handles of a controlpoint, (c) Manipulating an individual control handle, and (d) Moving acontrol point.</CAPTION><TR><TD><IMG SRC="img71.gif"ALT="Figure 3.6"></TD></TR></TABLE></DIV><BR>illustrates the basic operations of a Bezier path.  The initial Bezierpath shown in Figure&nbsp;<A HREF="node36.html#f.selections.bezier-control">3.6</A>(a) was createdby clicking in the image window five times.  The upper-left corner wasthe first point, and the lower-left, lower-right, and upper-rightcorners were the second, third, and fourth points added to the path.The final click of the mouse was made on the initial point, thusclosing the path.  As each point was added, the straight-line segmentsseen in the figure appeared between the control points.<P>While constructing a Bezier path, the mouse cursor appears as an arrow,with a filled circle just below and slightly to the arrow's right.This circle indicates that the path is not closed and that thenext mouse click will create a new control point.  Note that Bezierpaths need not be closed.  This is discussed in more detail inSection&nbsp;<A HREF="node39.html#s3.paths-dialog">3.4</A>, which describes the Paths dialog.<P>The path segments between control points can be made to curve bymanipulating the points' control handles.  For a closed Bezier path,the control handles are made visible by clicking on a control pointand dragging. Figure&nbsp;<A HREF="node36.html#f.selections.bezier-control">3.6</A>(b) shows how the controlhandles for the upper-left corner of the Bezier path have been pulledout of that control point.  The dragging action of the mouse positionsone of the control handles while the other moves in tandem with, butdiametrically opposite, the first.  As can be seen inFigure&nbsp;<A HREF="node36.html#f.selections.bezier-control">3.6</A>(b), the two path segmentsattached to the control point are made to curve by the action of thecontrol handles.<P>Note that the control handles do not disappear once the mouse buttonhas been released and that the handles can be readjusted at any timeby clicking the mouse on either handle and dragging.  However, onlyone set of handles may be visible at once.  Clicking on anothercontrol point displays its handles while toggling off the visibilityof the handles for any other point.  Also note that when the mousecursor is close enough to a control point or control handle tomanipulate it, the cursor changes from an arrow with a filled circlebelow it to an arrow with the outline of square.  Because controlhandles resemble squares, this special cursor is a useful way toindicate that the mouse cursor is close enough to the control pointfor the handles to be active.<P>The two control handles for a point can be moved independently of eachother by using the Shift key.  Pressing the Shift key while dragginga handle with the mouse makes that handle move while the other remainsstationary.  Moving a single control handle in this way allows thecurvature of a single path segment to be manipulated.Figure&nbsp;<A HREF="node36.html#f.selections.bezier-control">3.6</A>(c) shows the result of usingthe Shift key to move one of the control handles independently of theother.  Note how this changes the curve of the upper segment of thesquare while leaving the curve of the left segment as it was.<P>It is also possible to reposition a control point.  This is done bypressing the Control key before clicking on a control point.Dragging the mouse while the mouse button and Control key arepressed moves the control point.  The result of repositioning acontrol point is shown in Figure&nbsp;<A HREF="node36.html#f.selections.bezier-control">3.6</A>(d).<P>After creating a Bezier path with all the control points properlypositioned and all the path segments appropriately curved, it may thenbe converted to a selection.  This is done by clicking inside theclosed path.  Note that when the mouse cursor is moved inside theclosed path, the cursor changes to an arrow with the outline of adashed rectangle below it.  The dashed rectangle resembles theMarching Ants, which will appear when the Bezier path is converted to aselection.<P>Figures&nbsp;<A HREF="node36.html#f.selections.bezier1">3.7</A> through <A HREF="node36.html#f.selections.bezier3">3.9</A>show the application of the <TT>Bezier Path</TT> tool in a practicalexample.  Figure&nbsp;<A HREF="node36.html#f.selections.bezier1">3.7</A> shows that a closedBezier path has<BR><DIV ALIGN="CENTER"><A NAME="f.selections.bezier1">&#160;</A><A NAME="3477">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.7:</STRONG>Creating a Bezier Path</CAPTION><TR><TD><IMG SRC="img72.gif"ALT="Figure 3.7"></TD></TR></TABLE></DIV><BR>been created by placing seven control points around the perimeter of asea turtle's shell.  Although the points are all positioned on theedge of the shell, the straight-line segments between points do notmarry well to the shell's shape.<P>As just described, the Bezier path can be adjusted to the shell'sshape by manipulating the control handles.  The first pair of handlesare shown in Figure&nbsp;<A HREF="node36.html#f.selections.bezier2">3.8</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.selections.bezier2">&#160;</A><A NAME="3483">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.8:</STRONG>Manipulating the Control Handles of a Bezier Control Point</CAPTION><TR><TD><IMG SRC="img73.gif"ALT="Figure 3.8"></TD></TR></TABLE></DIV><BR>The two handles had to be adjusted independently of each other toproperly match the curve of the shell on either side of the controlpoint.  This can be seen in the figure by the different lengths of thecontrol handles and by the slight angle between them.<P>After adjusting the control handles for each point in the Bezier pathit is converted to a selection.  The result, showing the MarchingAnts, is illustrated in Figure&nbsp;<A HREF="node36.html#f.selections.bezier3">3.9</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.selections.bezier3">&#160;</A><A NAME="3489">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.9:</STRONG>Selection Created from the Bezier Path</CAPTION><TR><TD><IMG SRC="img74.gif"ALT="Figure 3.9"></TD></TR></TABLE></DIV><BR>What is particularly interesting about this example is that theselection has been made with only a few control points.  This is astrength of this tool.  However, there are limitations to what can beaccomplished with a Bezier path.  A very irregular shape will needmany control points and will require a lot of work to adjust the pathto the shape.<P>A practical question is where should the control points be placed?Another is how many control points are necessary to adequately selecta shape?  For the placement of control points here are some rules ofthumb:<UL><LI>A control point must always be placed at a corner (like the onefound at the rear-most point of the sea turtle's shell inFigures&nbsp;<A HREF="node36.html#f.selections.bezier1">3.7</A> through<A HREF="node36.html#f.selections.bezier3">3.9</A>).<LI>A straight-edge region can only be created by placing acontrol point at each end of the edge, as shown inFigure&nbsp;<A HREF="node36.html#f.selections.bezier-number">3.10</A>(a).<LI>An inflection point on a curve can be created between a pairof control points, as shown in the bottom path segment ofFigure&nbsp;<A HREF="node36.html#f.selections.bezier-number">3.10</A>(b).  It can also be createdwith a single control point if this is placed exactly at the point ofinflection.</UL><BR><DIV ALIGN="CENTER"><A NAME="f.selections.bezier-number">&#160;</A><A NAME="3500">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.10:</STRONG>The Required Number of Bezier Control Points?</CAPTION><TR><TD><IMG SRC="img75.gif"ALT="Figure 3.10"></TD></TR></TABLE></DIV><BR><P>The number of control points needed to adequately adjust a Bezier pathto a shape is a more difficult question.Figure&nbsp;<A HREF="node36.html#f.selections.bezier-number">3.10</A>(c) shows that a pair ofcontrol points are all that is needed to create a circle.  Thus, asingle control point can cover up to 180 degrees of curve.  However,this doesn't account for all curve characteristics.  I personally liketo place control points as the shape of my selection passes through 90degrees of curve.  This personal rule is borne out in the sea turtleselection shown in Figures&nbsp;<A HREF="node36.html#f.selections.bezier1">3.7</A>.  <P>In any case, the issue of the number of points required for a shape isnot critical because it can be resolved using the Add Point and DeletePoint functions available in the Paths dialog.  These are discussed indetail in Section&nbsp;<A HREF="node39.html#s3.paths-dialog">3.4</A>.  <P><H3><A NAME="SECTION001111500000000000000">&#160;</A><A NAME="3508">&#160;</A><BR>3.1.1.5 The <TT>Intelligent Scissors</TT></H3><P>In principle the <TT>Intelligent Scissors</TT> is supposed to work byfollowing, as closely as possible, constant-valued color contours inthe image between subsequent points clicked by the mouse.  However, atthe time of this writing, the <TT>Intelligent Scissors</TT> is a GIMPtool that seems to be broken.  Much perplexed discussion has passedthrough the GIMP developers' mailing list on this tool and,unfortunately, it seems that for the present this tool has little orno value.  Even if the tool did work, I would still rank it as a toolof little utility.<P><H2><A NAME="SECTION001112000000000000000">&#160;</A><A NAME="s3-5.tool-options">&#160;</A><BR>3.1.2 Selection Tool Options</H2><P>Double-clicking on any of the Toolbox icons brings up the <TT>ToolOptions</TT> dialog for that tool.  For selection tools the importantoptions are Antialiasing, Feather, Sample Merged, and Threshold.  Eachof these is discussed in this section.<P><H3><A NAME="SECTION001112100000000000000">&#160;</A><A NAME="s3.anti-aliasing">&#160;</A><A NAME="3516">&#160;</A><A NAME="3517">&#160;</A><A NAME="3518">&#160;</A><BR>3.1.2.1 Antialiasing</H3><P>Antialiasing is an important edge treatment for selections.Figure&nbsp;<A HREF="node36.html#f.selections.anti-alias">3.11</A><BR><DIV ALIGN="CENTER"><A NAME="f.selections.anti-alias">&#160;</A><A NAME="3521">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.11:</STRONG>How Antialiasing Works</CAPTION><TR><TD><IMG SRC="img76.gif"ALT="Figure 3.11"></TD></TR></TABLE></DIV><BR>illustrates the antialiasing concept.Figure&nbsp;<A HREF="node36.html#f.selections.anti-alias">3.11</A>(a) shows an array of pixels thathas been partitioned into two regions by a selection edge.  However,due to the slope of the selection and the finite area of the pixels,some pixels are on both sides of the selection edge.  That is, thesepixels are only partially selected.  What happens to this set ofpartially selected pixels is important for the aesthetic presentationof the selection's edge.<P>For example, let's assume that white represents a selected pixel andblack an unselected one.  Figure&nbsp;<A HREF="node36.html#f.selections.anti-alias">3.11</A>(b)shows what happens if pixels are included in the selection when morethan 50% of the pixel is above the selection edge and unselectedotherwise.  This seems like a reasonable criterion, however, noticethat the selection edge obtained by applying this rule produces astaircase effect on the edge.  This staircase effect, known as <EM>aliasing</EM>,<A NAME="3528">&#160;</A> makes the edge look harsh.  We'll see thisin a more realistic example in a moment.<P>Alternatively, Figure&nbsp;<A HREF="node36.html#f.selections.anti-alias">3.11</A>(c) illustrates theconcept of antialiasing.  Here white represents a pixel which is fullyselected, black one that is fully unselected, and gray representspartially selected pixels, where the level of gray indicates thepercentage of the pixel that falls inside the selection.  Thus, alighter value of gray indicates a more fully selected pixel and adarker value a less selected one.  Assigning gray values to partiallyselected pixels has the effect of visually smoothing the staircaseeffect illustrated in Figure&nbsp;<A HREF="node36.html#f.selections.anti-alias">3.11</A>(b), whichis why this is called antialiasing.<P>The way antialiasing is actually implemented is by using the layer'salpha channel.<A NAME="3531">&#160;</A>  Alpha channelswere introduced in Section&nbsp;<A HREF="node28.html#s2.channels-layers">2.2</A> and a morecomprehensive presentation of them is given in Chapters&nbsp;<A HREF="node42.html#c4.masks">4</A>and <A HREF="node49.html#c5.colorspaces">5</A>.  However, for the purposes of discussingantialiasing it is sufficient to know that the white pixels inFigure&nbsp;<A HREF="node36.html#f.selections.anti-alias">3.11</A>(c) represent pixels that arefully opaque, the black pixels those that are fully transparent, andthe gray pixels those that are partially opaque (or transparent).<P>Figure&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A><BR><DIV ALIGN="CENTER"><A NAME="f.selections.anti-alias2">&#160;</A><A NAME="3538">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.12:</STRONG>A Practical Example of Using Antialiasing</CAPTION><TR><TD><IMG SRC="img77.gif"ALT="Figure 3.12"></TD></TR></TABLE></DIV><BR>illustrates a more realistic example of aliased and antialiasedpixels.  Figures&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A>(a) and (b) each show acircle created using the <TT>Ellipse Select</TT> tool.  For both, theselections were filled with black using the <TT>BucketFill</TT><A NAME="3545">&#160;</A> tool.  The selection made in part (a) ofthe figure was made without antialiasing, and that in part (b) with.From these two figures it can immediately be seen that the antialiasedcircle seems to have a much smoother edge.<P>Figures&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A>(c) and (d) show zoomed versionsof Figures&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A>(a) and (b).  The staircaseeffect can be clearly seen inFigure&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A>(c).  Alternatively, inFigure&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A>(d) there are black, edge pixelsthat are partially transparent and that allow part of the yellowbackground to show through.  Figures&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A>(b)and (d) demonstrate that antialiasing really does improve theaesthetic appearance of the selection edge.Figure&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A>(e) shows that the Antialiasingcheckbox in the <TT>Tool Options</TT> dialog for the <TT>Ellipse Select</TT>tool is toggled on for Figures&nbsp;<A HREF="node36.html#f.selections.anti-alias2">3.12</A>(b) and(d).  For all the selection tools, Antialiasing is on by default.<P>As a final remark, note that the <TT>Rectangle Select</TT> tool does nothave an antialiasing option.  This is normal because this selection toolcan never produce sloping edges.  Consequently, the staircase problemillustrated in Figure&nbsp;<A HREF="node36.html#f.selections.anti-alias">3.11</A> can never occur,and antialiasing is not needed.<P><H3><A NAME="SECTION001112200000000000000">&#160;</A><A NAME="s3.feathering">&#160;</A><A NAME="3559">&#160;</A><A NAME="3560">&#160;</A><A NAME="3561">&#160;</A><BR>3.1.2.2 Feathering</H3><P>Feathering is a selection edge treatment similar to antialiasing.  Itworks by changing the alpha value of pixels as a function of theirradial distance from the selection edge.Figure&nbsp;<A HREF="node36.html#f.selections.feather1">3.13</A><BR><DIV ALIGN="CENTER"><A NAME="f.selections.feather1">&#160;</A><A NAME="3564">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.13:</STRONG>The Effect of Feathering</CAPTION><TR><TD><IMG SRC="img78.gif"ALT="Figure 3.13"></TD></TR></TABLE></DIV><BR>illustrates an example of a feathered selection.Figure&nbsp;<A HREF="node36.html#f.selections.feather1">3.13</A>(a) shows how two guides have beenplaced to aid in framing a selection using the <TT>Ellipse Select</TT>tool.  <P>As shown in Figure&nbsp;<A HREF="node36.html#f.selections.feather1">3.13</A>(b), a value of 40 hasbeen chosen for the Feather Radius in the <TT>Tool Options</TT> dialogfor this selection tool.  Furthermore, Antialiasing has been turnedoff.  The result of inverting the selection and cutting away thebackground is shown in Figure&nbsp;<A HREF="node36.html#f.selections.feather1">3.13</A>(c).  Thisresult is actually displayed on a yellow background so that thetransparency of the flower pixels can be better seen.  Also,superimposed on Figure&nbsp;<A HREF="node36.html#f.selections.feather1">3.13</A>(c) is the originalelliptical selection.<P>The transparency of the flower image shown inFigure&nbsp;<A HREF="node36.html#f.selections.feather1">3.13</A>(c) is 50% at the selection edge.The transparency increases moving outward from the edge and decreasesmoving inward from it.  The rate at which the transparency changeswhile moving away from the selection edge is determined by the FeatherRadius.  For this example, the value chosen is 40, meaning that thereis a feathering effect up to 40 pixels away in both directions fromthe selection edge.  Note that for all the selection tools, featheringis off by default.<P>Partially selected pixels are discussed again inSection&nbsp;<A HREF="node43.html#s4.partially-selected">4.1.7</A>.<P><H3><A NAME="SECTION001112300000000000000">&#160;</A><A NAME="3577">&#160;</A><BR>3.1.2.3 Sample Merged</H3><P>Normally the <TT>Magic Wand</TT> selection tool only operates on thepixel values in the active layer.  However, if this layer is not fullyopaque, or if this layer is using a blending mode (seeChapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A>), some of the pixel values from lowerlayers affect the color in the active layer.  The Sample Merged optionin the <TT>Tool Options</TT> dialog for the <TT>Magic Wand</TT> takes thisinto account.  When this option is on, it is the merged color valuesof pixels that are used in the comparison algorithm for the <TT>MagicWand</TT>.  Figure&nbsp;<A HREF="node36.html#f.selections.magic-wand-options">3.14</A><BR><DIV ALIGN="CENTER"><A NAME="f.selections.magic-wand-options">&#160;</A><A NAME="3585">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.14:</STRONG>The Sample Merged Option</CAPTION><TR><TD><IMG SRC="img79.gif"ALT="Figure 3.14"></TD></TR></TABLE></DIV><BR>shows the Sample Merged option toggled on in the <TT>Magic Wand</TT>'s<TT>Tool Options</TT> dialog.<P><H3><A NAME="SECTION001112400000000000000">&#160;</A><A NAME="3592">&#160;</A><BR>3.1.2.4 Threshold</H3><P>As described in Section&nbsp;<A HREF="node36.html#s3.magic-wand">3.1.1</A>, the <TT>Magic Wand</TT> usesa search algorithm based on the color of a seed pixel and a specifiedthreshold value.  All contiguous pixels that have color values thatare less than the threshold from the seed are included in theselection.  As already described, the Threshold can be setinteractively.  However, it can also be specified in the <TT>MagicWand</TT>'s <TT>Tool Options</TT> dialog.Figure&nbsp;<A HREF="node36.html#f.selections.magic-wand-options">3.14</A> illustrates the Thresholdslider which can take values from 0 to 255.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1349" HREF="node37.html#SECTION001121000000000000000">3.2.1 Adding</A><LI><A NAME="tex2html1350" HREF="node37.html#SECTION001122000000000000000">3.2.2 Subtracting</A><LI><A NAME="tex2html1351" HREF="node37.html#SECTION001123000000000000000">3.2.3 Intersecting</A><LI><A NAME="tex2html1352" HREF="node37.html#SECTION001124000000000000000">3.2.4 Using Add, Subtract, and Intersect with the Rectangleand Ellipse Selection Tool Features</A><LI><A NAME="tex2html1353" HREF="node37.html#SECTION001125000000000000000">3.2.5 Moving a Selection Boundary</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001120000000000000000">&#160;</A><A NAME="s3-2.combining-selections">&#160;</A><A NAME="3600">&#160;</A><A NAME="3601">&#160;</A><BR>3.2 Combining Selections</H1><P>Selections can be combined in various ways.  In particular, the GIMPprovides the capability to add, subtract, and intersect selections.<P><H2><A NAME="SECTION001121000000000000000">&#160;</A><A NAME="3603">&#160;</A><A NAME="3604">&#160;</A><A NAME="3605">&#160;</A><BR>3.2.1 Adding</H2><P>Adding a selection to an existing one means that the resultingselection is the union of the pixels from the two.  Thus, if <I>A</I> isthe set of pixels defined by the first selection and <I>B</I> the set forthe second, then <IMG WIDTH="58" HEIGHT="19" ALIGN="BOTTOM" BORDER="0" SRC="img80.gif" ALT="$A\cup B$">is the result of adding the second to thefirst, where <IMG WIDTH="19" HEIGHT="18" ALIGN="BOTTOM" BORDER="0" SRC="img81.gif" ALT="$\cup$">is the set union operator.<P>If a selection already exists in the image window, the addition ismade by pressing the Shift key <EM>before</EM> clicking to begin thenew selection.  Once the mouse button has been pressed, the Shiftkey should be released.  Figure&nbsp;<A HREF="node37.html#f.selections.combine">3.15</A>(a) shows aninitial rectangular selection, and Figure&nbsp;<A HREF="node37.html#f.selections.combine">3.15</A>(b)shows the result of adding an ellipse to this.<BR><DIV ALIGN="CENTER"><A NAME="f.selections.combine">&#160;</A><A NAME="3610">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.15:</STRONG>Combining Selections</CAPTION><TR><TD><IMG SRC="img82.gif"ALT="Figure 3.15"></TD></TR></TABLE></DIV><BR><P>It is useful to note that pressing the Shift key while the mouse isin the image window has the effect of changing the mouse cursor to anarrow with a plus sign below it.  This indicates that the nextselection will be added to any selection already existing in the imagewindow.<P><H2><A NAME="SECTION001122000000000000000">&#160;</A><A NAME="3615">&#160;</A><A NAME="3616">&#160;</A><BR>3.2.2 Subtracting</H2><P>Subtracting a new selection from an existing one means that the resultis the first selection less the pixels contained in the intersectionof the two.  Thus, if <I>A</I> is the set of pixels defined by the firstselection and <I>B</I> is the set for the second, <!-- MATH: $A-(A\cap B)$ --><IMG WIDTH="113" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img83.gif" ALT="$A-(A\cap B)$">is theresult of subtracting the second from the first, where <IMG WIDTH="19" HEIGHT="18" ALIGN="BOTTOM" BORDER="0" SRC="img84.gif" ALT="$\cap$">is theset intersection operator.<P>A subtraction is made by pressing the Control key <EM>before</EM>beginning the new selection.  Once the new selection is begun, theControl key should be released.  The result of subtracting an ellipsefrom the rectangular selection in Figure&nbsp;<A HREF="node37.html#f.selections.combine">3.15</A>(a)is shown in Figure&nbsp;<A HREF="node37.html#f.selections.combine">3.15</A>(c).  Note that it is thenew selection that is subtracted from the old selection, not viceversa.<P>It is useful to note that pressing the Control key while the mouse isin the image window has the effect of changing the mouse cursor to anarrow with a minus sign below it.  This indicates that the nextselection will be subtracted from any selection already existing inthe image window.  Because I always forget which key controls additionand which controls subtraction, I find the mouse cursor indicators areparticularly useful.<P><H2><A NAME="SECTION001123000000000000000">&#160;</A><A NAME="3621">&#160;</A><A NAME="3622">&#160;</A><BR>3.2.3 Intersecting</H2><P>Intersecting two selections means that the resulting selection is, youguessed it, the intersection of the two.  Thus, if <I>A</I> is the set ofpixels defined by the first selection and <I>B</I> the set for the second,<IMG WIDTH="58" HEIGHT="19" ALIGN="BOTTOM" BORDER="0" SRC="img85.gif" ALT="$A\cap B$">is the result of intersecting the two.  The intersection ismade by pressing the Shift and Control keys together <EM>before</EM>pressing the left mouse button to begin the new selection.  TheControl and Shift keys should be released before releasing the mousebutton.  The result of intersecting an ellipse with the rectangularselection in Figure&nbsp;<A HREF="node37.html#f.selections.combine">3.15</A>(a) is shown inFigure&nbsp;<A HREF="node37.html#f.selections.combine">3.15</A>(d).<P>It is useful to note that pressing the Shift and Control keystogether while the mouse is in the image window has the effect ofchanging the mouse cursor to an arrow with a <IMG WIDTH="19" HEIGHT="18" ALIGN="BOTTOM" BORDER="0" SRC="img84.gif" ALT="$\cap$">sign belowit.  This indicates that the next selection will be intersected withany selection already existing in the image window.<P><H2><A NAME="SECTION001124000000000000000">&#160;</A><A NAME="3627">&#160;</A><A NAME="3628">&#160;</A><BR>3.2.4 Using Add, Subtract, and Intersect with the Rectangleand Ellipse Selection Tool Features</H2><P>As described in Section&nbsp;<A HREF="node36.html#s3.rectangle-ellipse-select">3.1.1</A>, the Shiftkey can be used to create perfectly square or circular selections, andthe Control key can be used to perform selections centered at theposition of the mouse click.  In addition,Section&nbsp;<A HREF="node37.html#s3-2.combining-selections">3.2</A> describes how the Shiftkey can be used for adding selections, the Control key for subtractingthem, and the Shift and Control keys together for intersecting them.<P>The question you may be asking, then, is how these features can beused together.  How can a perfect square be subtracted from a priorselection or a center-initiated ellipse added to one?  The answer isquite simple.  The trick is to remember that adding, subtracting, andintersecting selections is signaled by pressing the Shift key, theControl key, or both <EM>before</EM> clicking to initiate the selection.The sequence for creating a perfectly square or circular selection orfor center-initiated selections is by pressing the Shift key, Controlkey, or both <EM>after</EM> clicking to initiate the selection.  Thesefeatures can be combined by applying the following steps:<DL COMPACT><DT>1.<DD>Begin by pressing the appropriate combination of Shift andControl to specify whether the selection is to be added to,subtracted from, or intersected with an already existing selection.<DT>2.<DD>While the keys are pressed, click and drag in theimage window to initiate the new selection.<DT>3.<DD>While the left mouse button is pressed, release the Shiftand/or Control keys.<DT>4.<DD>Apply the appropriate combination of Shift and Control keys tospecify a perfectly square, circular, and/or center-initiatedselection.<DT>5.<DD>While keeping the last combination of Shift and Control keyspressed, release the mouse button, thus completing the selection.</DL><P><H2><A NAME="SECTION001125000000000000000">&#160;</A><A NAME="3636">&#160;</A><A NAME="3637">&#160;</A><A NAME="3638">&#160;</A><BR>3.2.5 Moving a Selection Boundary</H2><P>Occasionally it is useful to be able to move a selection after it hasbeen made.  That is, it is useful moving the selection itself, not theselection contents.  This can be done by Alt-clicking and dragging theselection boundary.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1366" HREF="node38.html#SECTION001131000000000000000">3.3.1 The <TT>Invert</TT> Function</A><LI><A NAME="tex2html1367" HREF="node38.html#SECTION001132000000000000000">3.3.2 The <TT>All</TT> Function</A><LI><A NAME="tex2html1368" HREF="node38.html#SECTION001133000000000000000">3.3.3 The <TT>None</TT> Function</A><LI><A NAME="tex2html1369" HREF="node38.html#SECTION001134000000000000000">3.3.4 The <TT>Float</TT> Function</A><LI><A NAME="tex2html1370" HREF="node38.html#SECTION001135000000000000000">3.3.5 The <TT>Feather</TT> Function</A><LI><A NAME="tex2html1371" HREF="node38.html#SECTION001136000000000000000">3.3.6 The <TT>Sharpen</TT> Function</A><LI><A NAME="tex2html1372" HREF="node38.html#SECTION001137000000000000000">3.3.7 The <TT>Shrink</TT> Function</A><LI><A NAME="tex2html1373" HREF="node38.html#SECTION001138000000000000000">3.3.8 The <TT>Grow</TT> Function</A><LI><A NAME="tex2html1374" HREF="node38.html#SECTION001139000000000000000">3.3.9 The <TT>Border</TT> Function</A><LI><A NAME="tex2html1375" HREF="node38.html#SECTION0011310000000000000000">3.3.10 The <TT>Save to Channel</TT> Function</A><LI><A NAME="tex2html1376" HREF="node38.html#SECTION0011311000000000000000">3.3.11 The <TT>By Color</TT> Function</A><LI><A NAME="tex2html1377" HREF="node38.html#SECTION0011312000000000000000">3.3.12 The <TT>To Path</TT> Function</A><LI><A NAME="tex2html1378" HREF="node38.html#SECTION0011313000000000000000">3.3.13 The <TT>Toggle Selection</TT> Function</A><LI><A NAME="tex2html1379" HREF="node38.html#SECTION0011314000000000000000">3.3.14 <TT>Copy</TT>, <TT>Cut</TT>, and <TT>Paste</TT></A><LI><A NAME="tex2html1380" HREF="node38.html#SECTION0011315000000000000000">3.3.15 <TT>Stroke</TT></A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001130000000000000000">&#160;</A><A NAME="s3-4.selections-menu">&#160;</A><BR>3.3 The Select Menu and Friends</H1><P>Complementary to the selection tools are the 12 functions in the <TT>Image:Select</TT> menu.  In addition to these functions, there are fiveother important functions related to selections.  These are <TT>Toggle Selection</TT>, found in the <TT>Image:View</TT> menu, and <TT>Copy</TT>,<TT>Cut</TT>, <TT>Paste</TT>, and <TT>Stroke</TT>, found in the <TT>Image:Edit</TT> menu.  Each of these functions is described in thissection.<P><H2><A NAME="SECTION001131000000000000000">&#160;</A><A NAME="3650">&#160;</A><A NAME="3651">&#160;</A><A NAME="3652">&#160;</A><BR>3.3.1 The <TT>Invert</TT> Function</H2><P>A selection partitions an image into two sets--the selected pixelsand the unselected ones.  It is often useful to invert a selection,which is just the swapping of these two sets.  When inverting, theunselected pixels become selected pixels and vice versa.  The commandthat does this is <TT>Invert</TT> from the <TT>Image:Select</TT> menu.  The<TT>Invert</TT> function is used so often you'll want to remember thekeyboard shortcut for it, which is <TT>C-i</TT>.<P><H2><A NAME="SECTION001132000000000000000">&#160;</A><A NAME="3658">&#160;</A><A NAME="3659">&#160;</A><BR>3.3.2 The <TT>All</TT> Function</H2><P>The function <TT>All</TT> in the <TT>Image:Select</TT> menu selectseverything in an image.  If the active layer in the image is smallerthan the largest layer, the selection is clipped to the boundaries ofthe active layer.  I personally don't find this to be a very usefulcommand.<P><H2><A NAME="SECTION001133000000000000000">&#160;</A><A NAME="3663">&#160;</A><A NAME="3664">&#160;</A><A NAME="3665">&#160;</A><BR>3.3.3 The <TT>None</TT> Function</H2><P>The function <TT>None</TT> in the <TT>Image:Select</TT> menu deselectseverything in an image.  This is very useful, as will be seen in theensuing chapters.  The keyboard shortcut for this command is <TT>C-S-a</TT>.<P><H2><A NAME="SECTION001134000000000000000">&#160;</A><A NAME="3670">&#160;</A><A NAME="3671">&#160;</A><BR>3.3.4 The <TT>Float</TT> Function</H2><P>A selection can be made into a floating selection by choosing <TT>Float</TT> from the <TT>Image:Select</TT> menu.  Floating selections were discussed inSection&nbsp;<A HREF="node31.html#s2.floats">2.5</A>.  A useful application of <TT>Float</TT> isdescribed in Section&nbsp;<A HREF="node32.html#s2.layers.layer-resize">2.6.2</A>.<P><H2><A NAME="SECTION001135000000000000000">&#160;</A><A NAME="3678">&#160;</A><A NAME="3679">&#160;</A><BR>3.3.5 The <TT>Feather</TT> Function</H2><P>Feathering was explained in Section&nbsp;<A HREF="node36.html#s3.feathering">3.1.2</A>.  Normally afeather is applied by toggling on the Feather checkbox in theselection tool's <TT>Tool Options</TT> dialog before making theselection.  However, it is possible to apply a feather after theselection has been made by choosing <TT>Feather</TT> from the <TT>Image:Select</TT> menu.<P><H2><A NAME="SECTION001136000000000000000">&#160;</A><A NAME="3685">&#160;</A><A NAME="3686">&#160;</A><A NAME="3687">&#160;</A><A NAME="3688">&#160;</A><BR>3.3.6 The <TT>Sharpen</TT> Function</H2><P>The concept of a partially selected pixel was introduced inSection&nbsp;<A HREF="node36.html#s3.anti-aliasing">3.1.2</A>, in the discussion on antialiasing, andwas extended in Section&nbsp;<A HREF="node36.html#s3.feathering">3.1.2</A>, in the discussion onfeathering.  The function <TT>Sharpen</TT>, from the <TT>Image:Select</TT>menu, removes partially selected pixels in an image by transformingthose that are 50% or more selected into fully selected pixels and byfully deselecting all the remaining pixels.  Thus, this functionsharpens the active selection (not the image).<P><H2><A NAME="SECTION001137000000000000000">&#160;</A><A NAME="3694">&#160;</A><A NAME="3695">&#160;</A><A NAME="3696">&#160;</A><A NAME="3697">&#160;</A><BR>3.3.7 The <TT>Shrink</TT> Function</H2><P>It is sometimes useful to be able to shrink a selection a little.  Ifa selection has been made with a tool like the <TT>Magic Wand</TT> orwith the <TT>By Color</TT> selection function, it is possible thatthe resulting selection is a little too large.  The <TT>Shrink</TT> function, found in the<TT>Image:Select</TT> menu, shrinks the boundary of the current selectionby the amount specified in its dialog.  The default unit is 1 pixel,but other values can be chosen.<P><H2><A NAME="SECTION001138000000000000000">&#160;</A><A NAME="3703">&#160;</A><A NAME="3704">&#160;</A><A NAME="3705">&#160;</A><BR>3.3.8 The <TT>Grow</TT> Function</H2><P>In contrast to <TT>Shrink</TT>, the function <TT>Grow</TT>, from the <TT>Image:Select</TT>menu, grows the boundary of the current selection by the amountspecified in its dialog.  The default unit is 1 pixel.  <P><H2><A NAME="SECTION001139000000000000000">&#160;</A><A NAME="s3.border">&#160;</A><A NAME="3711">&#160;</A><A NAME="3712">&#160;</A><BR>3.3.9 The <TT>Border</TT> Function</H2><P>The <TT>Border</TT> command, found in the <TT>Image:Select</TT> menu,replaces a selection with just those pixels within a specified radiusof the selection edge.  Thus, this function creates a selection of theborder around the previous selection's edge.  This command is acombination of the two functions <TT>Shrink</TT> and <TT>Grow</TT>.  Inparticular, if <I>A</I> represents the set of selected pixels obtained byapplying <TT>Grow</TT> to a selection and <I>B</I> represents the set obtainedby applying <TT>Shrink</TT>, <TT>Border</TT> produces the set that couldotherwise be obtained by doing <I>A</I>-<I>B</I> (seeSection&nbsp;<A HREF="node37.html#s3-2.combining-selections">3.2</A> for more on combiningselections).  The width of the border is specified by the borderdialog.<P>Figure&nbsp;<A HREF="node38.html#f.selections.border">3.16</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.selections.border">&#160;</A><A NAME="4103">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.16:</STRONG>The Effect of <TT> Border</TT></CAPTION><TR><TD><IMG SRC="img86.gif"ALT="Figure 3.16"></TD></TR></TABLE></DIV><BR>illustrates an image with a selection, andFigure&nbsp;<A HREF="node38.html#f.selections.border">3.16</A>(c) shows the result of applying <TT>Border</TT>.  The value chosen for the border is shown in the associateddialog, illustrated in Figure&nbsp;<A HREF="node38.html#f.selections.border">3.16</A>(b).  Note thatthe dialog contains a menu that allows the border width to bespecified in a variety of different units.  The default unit is pixels.<P><TT>Border</TT> is particularly useful for refining selection edges.  Anexample of using <TT>Border</TT> is presented inSection&nbsp;<A HREF="node69.html#s7.compositing.proj4">7.4</A>.<P><H2><A NAME="SECTION0011310000000000000000">&#160;</A><A NAME="3734">&#160;</A><A NAME="3735">&#160;</A><A NAME="3736">&#160;</A><A NAME="3737">&#160;</A><A NAME="3738">&#160;</A><A NAME="3739">&#160;</A><BR>3.3.10 The <TT>Save to Channel</TT> Function</H2><P>Channels were introduced in Section&nbsp;<A HREF="node28.html#s2.channels-layers">2.2</A>.  As willbe discussed in greater detail in Section&nbsp;<A HREF="node43.html#s4.channel-masks">4.1</A>,channels can be used to store selections.  This is an extremely usefulfeature of the GIMP because it allows you to save your selections, toreuse them in the current image or in others, and to edit them withthe masking utilities (more on this in Chapter&nbsp;<A HREF="node42.html#c4.masks">4</A>).  Theoperation of saving a selection to a channel is performed with the<TT>Save to Channel</TT> function, found in the <TT>Image:Select</TT> menu.<P>Figure&nbsp;<A HREF="node38.html#f.selections.select2channel">3.17</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.selections.select2channel">&#160;</A><A NAME="3747">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.17:</STRONG>Saving a Selection to a Channel</CAPTION><TR><TD><IMG SRC="img87.gif"ALT="Figure 3.17"></TD></TR></TABLE></DIV><BR>illustrates an image with a selection, andFigure&nbsp;<A HREF="node38.html#f.selections.select2channel">3.17</A>(b) shows the Channels dialogafter applying the function <TT>Save to Channel</TT>.  The Channelsdialog for an image is displayed by typing <TT>C-l</TT> in the imagewindow to bring up the <TT>Layers &amp; Channels</TT> window and clicking onthe Channels tab.<P>It can be seen in Figure&nbsp;<A HREF="node38.html#f.selections.select2channel">3.17</A>(b) that,other than the usual Red, Green, and Blue channels usually found inthe Channels dialog, there is a channel named Selection Mask Copy.This channel shows a thumbnail of the mask representing the selection.Much more on the subject of masks and selections is discussed inChapter&nbsp;<A HREF="node42.html#c4.masks">4</A>.  This is a very powerful feature of the GIMP.Check it out!<P><H2><A NAME="SECTION0011311000000000000000">&#160;</A><A NAME="s3.by-color">&#160;</A><A NAME="3759">&#160;</A><A NAME="3760">&#160;</A><BR>3.3.11 The <TT>By Color</TT> Function</H2><P>The <TT>By Color</TT> selection tool, found in the <TT>Image:Select</TT> menu, is similar to the <TT>Magic Wand</TT> in that itautomatically selects pixels in the active layer that are close incolor to a seed pixel value.  The difference, however, is that theselected pixels are not obtained by growing a contiguous region aroundthe seed.  The <TT>By Color</TT> selection tool selects <EM>all</EM>the pixels in the layer that are within a specified threshold of theseed pixel's color.  This is a subtle but important difference.  Itmeans that if two regions of similar pixel colors are separated by oneof very different values, the <TT>By Color</TT> selection tool willget both regions, and the <TT>Magic Wand</TT> will not.<P>Choosing <TT>By Color</TT> brings up the dialog pictured inFigure&nbsp;<A HREF="node38.html#f.selections.by-color">3.18</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.selections.by-color">&#160;</A><A NAME="4108">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.18:</STRONG>The <TT> By Color</TT> Selection Tool</CAPTION><TR><TD><IMG SRC="img88.gif"ALT="Figure 3.18"></TD></TR></TABLE></DIV><BR>This dialog box allows a Fuzziness Threshold to be chosen.  The defaultis normally 15, but here it has been set to 30.  This number determineshow far a pixel can vary in color from the seed pixel's and still beselected.  The seed is chosen by clicking in theimage window.<P>Clicking in the image window produces a black and white mask in thethumbnail area of Figure&nbsp;<A HREF="node38.html#f.selections.by-color">3.18</A>(a).  This maskcorresponds to a selection in the image window, as can be seen inFigure&nbsp;<A HREF="node38.html#f.selections.by-color">3.18</A>(b).  The selection can be removedby clicking on the <TT>Reset</TT> button in the <TT>By Color Selection</TT>dialog.<P>When the dialog's Replace radio button is selected, clicking a secondtime in the image window replaces the selection that was there withone based on the new seed pixel's color.  The three other radiobuttons in the dialog can be used to add, subtract, or intersect theselection created with the <TT>By Color</TT> function with anexisting selection in the image window.  Adding, subtracting, andintersecting selections was explained inSection&nbsp;<A HREF="node37.html#s3-2.combining-selections">3.2</A>.<P><H2><A NAME="SECTION0011312000000000000000">&#160;</A><A NAME="s3.to-path">&#160;</A><A NAME="3783">&#160;</A><A NAME="3784">&#160;</A><A NAME="3785">&#160;</A><A NAME="3786">&#160;</A><BR>3.3.12 The <TT>To Path</TT> Function</H2><P>Selections can be converted to Bezier paths.  As was described inSection&nbsp;<A HREF="node36.html#s3.bezier-paths">3.1.1</A>, Bezier paths are extremely useful toolsbecause they allow selections to be interactively modified.  The <TT>To Path</TT> function, found in the <TT>Image:Select</TT> menu, converts aselection to a Bezier path by automatically finding the control pointsand the control handle settings to re-create the selection.<P>Figure&nbsp;<A HREF="node38.html#f.selections.to-path">3.19</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.selections.to-path">&#160;</A><A NAME="3792">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.19:</STRONG>Converting a Selection to a Bezier Path</CAPTION><TR><TD><IMG SRC="img89.gif"ALT="Figure 3.19"></TD></TR></TABLE></DIV><BR>illustrates a selection created with the <TT>Ellipse Select</TT> tool,and Figure&nbsp;<A HREF="node38.html#f.selections.to-path">3.19</A>(b) shows the result of applying<TT>To Path</TT> to it.  Applying this function removes the selectionfrom the image window and replaces it with a Bezier path.  The pathcan now be used to interactively modify the selection, as described inSection&nbsp;<A HREF="node36.html#s3.bezier-paths">3.1.1</A>.  To recover the selection click insidethe closed path.  <P>Note that clicking inside a path to convert it to a selection mightnot toggle off the path's visibility.  If this happens, the path canbe toggled off by clicking on any icon (other than the <TT>BezierPath</TT>'s) in the Toolbox.  Much more on Bezier paths is covered inSection&nbsp;<A HREF="node39.html#s3.paths-dialog">3.4</A>.<P><H2><A NAME="SECTION0011313000000000000000">&#160;</A><A NAME="3803">&#160;</A><A NAME="3804">&#160;</A><BR>3.3.13 The <TT>Toggle Selection</TT> Function</H2><P>Unlike the other selection functions discussed in this section, <TT>Toggle Selection</TT> is found in the <TT>Image:View</TT>menu.  This command is very useful when trying to carefully positionlayers or selections (for examples, see any project inChapter&nbsp;<A HREF="node65.html#c7.compositing">7</A>), or when trying to color-match a layeror selection edge (for an example, see Section&nbsp;<A HREF="node70.html#s7.panoramas">7.5</A>).<P>The <TT>Toggle Selection</TT> command toggles on and off the visibilityof a selection's Marching Ants.  However, this function <EM>does not</EM>eliminate the selection.  The selection is still there, it is just notvisible in the image window.  The <TT>ToggleSelection</TT><A NAME="3812">&#160;</A><A NAME="3813">&#160;</A>feature also toggles on and off the visibility of the black-and-yellowlayer boundaries in an image.  This feature is also used extensivelyin Chapter&nbsp;<A HREF="node65.html#c7.compositing">7</A>.<P>There is a pitfall when using <TT>Toggle Selection</TT>.  It is easy toforget that selection boundaries have been toggled off.  This can leadto confusion, especially when a subsequent selection is made.  Becauseselection visibility has been toggled off, the Marching Ants do notappear.  I've scratched my head many times, trying to figure out whyall of a sudden the GIMP no longer seemed to be working!  The GIMP, ofcourse, was working just fine.  The selection is there; it just can'tbe seen until its visibility is toggled back on.<P>The <TT>Toggle Selection</TT> function is so useful that you might wantto memorize its keyboard shortcut, which is <TT>C-t</TT>.<P><H2><A NAME="SECTION0011314000000000000000">&#160;</A><A NAME="s3.copy-cut-paste">&#160;</A><A NAME="3822">&#160;</A><A NAME="3823">&#160;</A><BR>3.3.14 <TT>Copy</TT>, <TT>Cut</TT>, and <TT>Paste</TT></H2><P><TT>Copy</TT>,<A NAME="3825">&#160;</A><A NAME="3826">&#160;</A> <TT>Cut</TT>,<A NAME="3828">&#160;</A> and <TT>Paste</TT><A NAME="3830">&#160;</A> areprobably the most frequent operations performed on selections.  Thesethree functions are found in the <TT>Image:Edit</TT> menu.  However, theyare used so frequently that it would be worth your while to memorizetheir keyboard shortcuts.  The keyboard shortcut for <TT>Copy</TT> is<TT>C-c</TT>, <TT>Cut</TT><A NAME="3835">&#160;</A> is <TT>C-x</TT>, and <TT>Paste</TT>is <TT>C-v</TT>.  More on these functions can be found inSection&nbsp;<A HREF="node30.html#s2.layers.cut-paste">2.4</A>.<P><H2><A NAME="SECTION0011315000000000000000">&#160;</A><A NAME="s3.stroke">&#160;</A><A NAME="3842">&#160;</A><A NAME="3843">&#160;</A><BR>3.3.15 <TT>Stroke</TT></H2><P>The <TT>Stroke</TT> function is found in the <TT>Image:Edit</TT> menu.  This command paints a selection edge's outline withthe active foreground color using the active brush.Figure&nbsp;<A HREF="node38.html#f.selections.stroke">3.20</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.selections.stroke">&#160;</A><A NAME="3848">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.20:</STRONG>The Effect of Stroke</CAPTION><TR><TD><IMG SRC="img90.gif"ALT="Figure 3.20"></TD></TR></TABLE></DIV><BR>illustrates an image with a selection, andFigure&nbsp;<A HREF="node38.html#f.selections.stroke">3.20</A>(c) shows the effect of applying <TT>Stroke</TT> to it using black as the foreground color.  As indicated inFigure&nbsp;<A HREF="node38.html#f.selections.stroke">3.20</A>(b), a soft round brush was used tostroke the selection.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1393" HREF="node39.html#SECTION001141000000000000000">3.4.1 The Paths Palette</A><LI><A NAME="tex2html1394" HREF="node39.html#SECTION001142000000000000000">3.4.2 The Control Point Mode Buttons</A><LI><A NAME="tex2html1395" HREF="node39.html#SECTION001143000000000000000">3.4.3 The Paths Menu</A><LI><A NAME="tex2html1396" HREF="node39.html#SECTION001144000000000000000">3.4.4 The Paths Button Bar</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001140000000000000000">&#160;</A><A NAME="s3.paths-dialog">&#160;</A><A NAME="3857">&#160;</A><A NAME="3858">&#160;</A><BR>3.4 The Paths Dialog</H1><P>Because Bezier paths are so useful, there is a special Paths dialogthat allows multiple Bezier paths to be edited, managed, and saved.The Paths dialog, shown in Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog1">3.21</A>,<BR><DIV ALIGN="CENTER"><A NAME="f.selections.paths-dialog1">&#160;</A><A NAME="3861">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.21:</STRONG>The Bezier Paths Dialog</CAPTION><TR><TD><IMG SRC="img91.gif"ALT="Figure 3.21"></TD></TR></TABLE></DIV><BR>is displayed by typing <TT>C-l</TT> in the image window to produce the<TT>Layers &amp; Channels</TT> window and, then, clicking on the Paths tab.The elements of the Paths dialog are described in this section.<P><H2><A NAME="SECTION001141000000000000000">&#160;</A><A NAME="s3.path-palette">&#160;</A><A NAME="3869">&#160;</A><A NAME="3870">&#160;</A><A NAME="3871">&#160;</A><BR>3.4.1 The Paths Palette</H2><P>The most important part of the Paths dialog is the Paths Palette.  Thepalette contains horizontal strips, where each strip represents asingle path for the image.  Each strip contains a Path Thumbnail, aPath Title, and a Path Transform Lock.<P>Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog1">3.21</A> illustrates a Paths Palettecontaining three strips.  The top strip is highlighted in blue,indicating that it represents the active path.  Only the active pathcan be seen and manipulated in the image window.  Clicking on a pathstrip in the Paths Palette makes that path active and also makes itvisible in the image window.Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog2">3.22</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.selections.paths-dialog2">&#160;</A><A NAME="3875">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.22:</STRONG>Making a Path Visible in the Image Window and Changing a PathTitle</CAPTION><TR><TD><IMG SRC="img92.gif"ALT="Figure 3.22"></TD></TR></TABLE></DIV><BR>illustrates an image window where the path visibility has been toggledon by clicking on its strip in the Paths Palette.Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog2">3.22</A>(b) shows the associated Pathsdialog.  To toggle off the path's visibility, it is necessary to clickon a tool icon (other than the one for the <TT>Bezier Path</TT>) in theToolbox window.<P>A path's title can be changed<A NAME="3881">&#160;</A><A NAME="3882">&#160;</A> by double-clicking inthe title area.  This brings up a dialog where the text of the newtitle can be entered.  Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog2">3.22</A>(c)illustrates the dialog for changing the Path Title.<P>Finally, the Path Transform Lock<A NAME="3884">&#160;</A> can betoggled on and off by clicking to the left of the Path Thumbnail.When the icon is toggled on, the path's shape is locked to the activelayer with respect to the <TT>Transform</TT> tool.  This means that anytransform applied to the active layer is also applied to the path.<P>Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog3">3.23</A><BR><DIV ALIGN="CENTER"><A NAME="f.selections.paths-dialog3">&#160;</A><A NAME="3888">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.23:</STRONG>Applying the Transform Lock to a Path</CAPTION><TR><TD><IMG SRC="img93.gif"ALT="Figure 3.23"></TD></TR></TABLE></DIV><BR>illustrates an example of using the Path Transform Lock.Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog3">3.23</A>(a) shows the Path TransformLock has been toggled on for the path in the top path strip.  Thispath corresponds to the outline of the blue shape in the image windowshown in Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog3">3.23</A>(b).  The image windowconsists of two layers: a white background and the blue shape, thelatter which is the active layer.  Because of the Path Transform Lock,applying the <TT>Transform</TT> tool will affect the blue shape and thepath defining the shape's boundary.<P>Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog3">3.23</A>(c) shows the dialog for the<TT>Transform</TT> tool.  The Perspective radio button has been selected,and the Show path checkbox has been toggled on.  This last buttonmakes the active path visible in the image window while it is beingtransformed.  Figure&nbsp;<A HREF="node39.html#f.selections.paths-dialog3">3.23</A>(d) shows theperspective transform of the grid and the active path.  When thetransform is actually performed by clicking on the Transform button inthe <TT>Perspective Transform</TT> dialog, the result is as shown inFigure&nbsp;<A HREF="node39.html#f.selections.paths-dialog3">3.23</A>(e).  The active layercontaining the shape is transformed and the path associated with thisshape is transformed along with it.<P>The ability to see a path superimposed on the transform grid whileperforming a transformation of a layer is a particularly usefulcapability.  There is no more precise way of warping one image toanother than with this feature.  A concrete example of using the PathTransform Lock is illustrated in Section&nbsp;<A HREF="node67.html#s7.compositing.proj2">7.2</A>.<P><H2><A NAME="SECTION001142000000000000000">&#160;</A><A NAME="3902">&#160;</A><A NAME="3903">&#160;</A><BR>3.4.2 The Control Point Mode Buttons</H2><P>The Control Point Mode Buttons are shown inFigure&nbsp;<A HREF="node39.html#f.selections.paths-dialog1">3.21</A>.  These consist of the NewPoint,<A NAME="3905">&#160;</A> Add Point<A NAME="3906">&#160;</A>, Delete Point<A NAME="3907">&#160;</A>, and Edit Point<A NAME="3908">&#160;</A> buttons.  These control the behavior, or mode,of mouse clicks in the image window when you're using the <TT>BezierPath</TT> tool.<P>When using the <TT>Bezier Path</TT> tool with the New Point mode buttonselected in the Paths dialog, there are two behaviors for a mouse clickin the image window.  The first behavior is associated to working onan open path.  In this case, clicking in the image window creates anew control point that is immediately connected to the last controlpoint on the path by a path segment.  The last new control point on anopen path is displayed as a circle outline.  All the other points onthe path are displayed as solid circles.  <P>The second behavior of the New Point mode button is when there is noopen path.  Then, a mouse click in the image window initializes a newpath.  <P>When the Bezier path is in New Point mode, the mouse cursor appears inthe image window as an arrow with a filled circle below it.  Thisindicates that the next mouse click will create a new control point.<P>The Add Point mode button is for adding a point to a path segmentbetween two existing control points.  This is useful when a path hasbeen created but doesn't have a sufficient number of points toproperly follow the desired shape.  When the Add Point mode button isactive, the mouse cursor changes to an arrow with a plus symbol belowit whenever the cursor is close enough to a path segment to add apoint.  If the mouse button is not released when the point is added,the point can immediately be edited.  In other words, if the mousebutton remains pressed the control handles will appear when you dragthe mouse, and the Shift and Control keys can be used to manipulatethe control point and the control handles.  This is a handy featurebecause a control point can be added to a path and then immediatelyedited without having to return to the Paths menu.<P>The Delete Point mode button removes control points from a Bezierpath.  This can be used to delete extraneous control points or thosethat were added accidentally.  When you use the Delete Point modebutton, the mouse cursor changes to an arrow with a minus symbol belowit whenever the cursor is close enough to a control point to delete it.If the Shift key is pressed while using the Delete Point mode button,the mouse click deletes the entire path.<P>Finally, the Edit Point mode button allows the control handles to bemanipulated and the control points to be moved, as described inSection&nbsp;<A HREF="node36.html#s3.bezier-paths">3.1.1</A>.  That is, clicking and dragging on acontrol point moves the point's control handles in unison.Shift-clicking and dragging a control handle moves that handleindependently of the other one.  Control-clicking and dragging themouse on a control point makes the control point move, following themouse.  Finally, Alt-clicking and dragging the mouse on a controlpoint causes the entire path to follow the mouse.  When you're usingthe Edit Point mode button, the mouse cursor changes to an arrow withthe outline of a square below it whenever the mouse cursor is closeenough to a control point to edit it.<P><H2><A NAME="SECTION001143000000000000000">&#160;</A><A NAME="3913">&#160;</A><A NAME="3914">&#160;</A><BR>3.4.3 The Paths Menu</H2><P>Like the Layers dialog and the Channels dialog, the Paths dialog alsohas a menu that can be displayed by right-clicking anywhere in thePaths Palette area.  Figure&nbsp;<A HREF="node39.html#f.selections.paths-menu">3.24</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.selections.paths-menu">&#160;</A><A NAME="3917">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.24:</STRONG>The Paths Menu</CAPTION><TR><TD><IMG SRC="img94.gif"ALT="Figure 3.24"></TD></TR></TABLE></DIV><BR>shows the Paths dialog and Figure&nbsp;<A HREF="node39.html#f.selections.paths-menu">3.24</A>(b) thePaths menu.  As shown in the figure, many of the functions availablein the Paths menu can be accessed from the button bar<A NAME="3922">&#160;</A>.  However, the functions Copy Path<A NAME="3923">&#160;</A>, Paste Path,<A NAME="3924">&#160;</A> Import Path, andExport Path are unique to the Paths menu.<P>The Copy Path function copies the path in the active path strip to abuffer.  This path can then be pasted into another path strip, eitherin the same image or in another, using the Paste Path function.  TheExport Path<A NAME="3925">&#160;</A> function brings up a dialogallowing the active path to be saved to disk.  This saved path canlater be recovered using the Import Path function<A NAME="3926">&#160;</A>.<P>Because the remaining functions are available in the button bar, they aredescribed in the next section.<P><H2><A NAME="SECTION001144000000000000000">3.4.4 The Paths Button Bar</A></H2><P>The Paths dialog button bar provides access to six functions: NewPath, Duplicate Path, Path to Selection, Selection to Path, StrokePath, and Delete Path.<P>New Path and Duplicate Path are self-evident.  The New Path buttoncreates a new path, and the Duplicate Path button duplicates thecurrent active path.<P>The Path to Selection button converts the active path to a selection.The path can also be converted to a selection by simply clickinginside the path in the image window.  In either case, this causes theselection's Marching Ants to appear in the image window but does notnecessarily cause the visibility of the path to toggle off.  To toggleoff the path's visibility, click on a tool icon, other than the onefor <TT>Bezier Path</TT>, in the Toolbox.<P>The Selection to Path button is the same as the <TT>To Path</TT> functiondescribed in Section&nbsp;<A HREF="node38.html#s3.to-path">3.3.12</A>.  Using this button converts aselection visible in the image window to a new path in the Pathsdialog.  This becomes the active path and can be seen in the imagewindow.<P>The Stroke Path button is the same as the <TT>Stroke</TT> functiondescribed in Section&nbsp;<A HREF="node38.html#s3.stroke">3.3.15</A>.  It is applied to the activepath using the active brush and the active foreground color.  Inaddition, the <TT>Stroke</TT> function in the Paths dialog will strokethe path using any painting tool selected from the Toolbox.  Tospecify the painting tool, you select its icon in the Toolbox justprior to clicking the Stroke Path button in the Paths dialog.  Usingthis technique the <TT>Airbrush</TT><A NAME="3935">&#160;</A> tool can beused, for example, to stroke the path.<P>Finally, the Delete Path button removes the active path from the PathsPalette.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1409" HREF="node40.html#SECTION001151000000000000000">3.5.1 General Selection Tool Guidelines</A><LI><A NAME="tex2html1410" HREF="node40.html#SECTION001152000000000000000">3.5.2 Tool Conjugation</A><LI><A NAME="tex2html1411" HREF="node40.html#SECTION001153000000000000000">3.5.3 Using <TT>Zoom</TT></A><LI><A NAME="tex2html1412" HREF="node40.html#SECTION001154000000000000000">3.5.4 Selections and Guides</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001150000000000000000">&#160;</A><A NAME="s3.effective">&#160;</A><BR>3.5 Using Selections Effectively</H1><P>This section begins the discussion of how to effectively use theselection tools presented in this chapter.  The full story, however,won't be completed until we cover masks in Chapter&nbsp;<A HREF="node42.html#c4.masks">4</A>.<P><H2><A NAME="SECTION001151000000000000000">&#160;</A><A NAME="s3.guidelines">&#160;</A><A NAME="3941">&#160;</A><BR>3.5.1 General Selection Tool Guidelines</H2><P>This chapter has presented the six selection tools from the Toolbox aswell as the <TT>By Color</TT> selection tool.  This leaves you withquite a few choices.  So, the question naturally arises, ``Which isthe best tool to use?''  This section summarizes the tools discussedso far and describes their strengths and weaknesses.<P>The order of the summary is from the most useful selection tool to theleast:<UL><LI><TT>Bezier Path</TT><A NAME="3945">&#160;</A>: Of the seven choices, thisis the most useful selection tool because it is the most flexible andthe most versatile.  Combined with the associated tools available inthe Paths dialog, this is the selection tool that will usually get thejob done in the least amount of time.<P>The <TT>Bezier Path</TT> selection tool is not, however, a panacea.  Whenthe selection subject's boundary is not smooth, it is impractical touse the <TT>Bezier Path</TT> tool.  Examples of difficult selections withthis tool would be the image of a leafy tree or one of a woman's hairblowing in the breeze.  For these types of selections, otherapproaches are necessary (see Chapter&nbsp;<A HREF="node42.html#c4.masks">4</A>).<P><LI><TT>Lasso</TT><A NAME="3950">&#160;</A><A NAME="3951">&#160;</A>:Although this tool is not useful for precision selection work, it isprobably still the next most useful selection tool.  The <TT>Lasso</TT>is the best selection tool when only a rough selection is needed.Good examples of using the <TT>Lasso</TT> to separate image elements isillustrated in Sections&nbsp;<A HREF="node47.html#s4.threshold">4.5.3</A> and<A HREF="node69.html#s7.compositing.proj4">7.4</A>.<P><LI><TT>Rectangle Select</TT><A NAME="3957">&#160;</A>: This selectiontool is about as useful as the <TT>Lasso</TT>.  However, it is used forvery different reasons.  This tool is valuable for framing (seeSection&nbsp;<A HREF="node32.html#s2.layers.layer-resize">2.6.2</A>) and for the selectiveapplication of filters and gradients to layer edges (see, for example,Section&nbsp;<A HREF="node70.html#s7.blending">7.5.3</A>).<P><LI><TT>By Color</TT><A NAME="3962">&#160;</A>: This selection tool ismost useful for making selections in images that have several regionsthat consist of an almost uniform color.  Examples of this would betrying to select a large-font, solid-color text on a photographicimage background or a complicated bitmapped image.  SeeSection&nbsp;<A HREF="node77.html#s8.carved">8.6</A> for a practical example.<P><LI><TT>Ellipse Select</TT><A NAME="3965">&#160;</A>: This tool, like <TT>Rectangle Select</TT>, is also used for framing.  An example of using <TT>Ellipse Select</TT> in this way is shown in Section&nbsp;<A HREF="node36.html#s3.feathering">3.1.2</A>.It is also occasionally useful for selecting shapes that are known tobe elliptical or circular, such as the clock illustrated inSection&nbsp;<A HREF="node40.html#s3.guides">3.5.4</A>.  This tool, however, is used less often than<TT>Rectangle Select</TT>.<P><LI><TT>Magic Wand</TT><A NAME="3972">&#160;</A><A NAME="3973">&#160;</A>: Thistool is based on a great concept but is difficult to use in practice.Fortunately, there is another technique based on almost the same ideabut producing results with much greater control and flexibility.  Thistechnique is based on the <TT>Threshold</TT> tool, which is described inmore detail in Section&nbsp;<A HREF="node47.html#s4.threshold">4.5.3</A>.<P><LI><TT>Intelligent Scissors</TT><A NAME="3977">&#160;</A>: In principlethis tool should be good at selecting shapes that do not have smoothoutlines, the shapes that are difficult for the <TT>Bezier Path</TT>tool.  Unfortunately, the performance of this tool is poor and I,personally, never use it.  I rank this tool as the least useful formaking selections.<P></UL><P><H2><A NAME="SECTION001152000000000000000">&#160;</A><A NAME="3981">&#160;</A><A NAME="3982">&#160;</A><BR>3.5.2 Tool Conjugation</H2><P>Often a selection is most efficiently made using a combination oftools.  For example, beginning a selection with the <TT>MagicWand</TT><A NAME="3984">&#160;</A><A NAME="3985">&#160;</A> or with <TT>ByColor</TT> can produce a result that is almost right but may be missing acomponent or may have included an unwanted element.  When thishappens, the <TT>Lasso</TT> can often be used to correct the problem.<P>Figure&nbsp;<A HREF="node40.html#f.selections.conjugate">3.25</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.selections.conjugate">&#160;</A><A NAME="3990">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.25:</STRONG>Selection Tool Teamwork</CAPTION><TR><TD><IMG SRC="img95.gif"ALT="Figure 3.25"></TD></TR></TABLE></DIV><BR>shows the selection of a flower made with the <TT>Magic Wand</TT>.  Ascan be seen, the flower has been almost completely selected.  However,it was impossible to include the central region of the flower byinteractively adjusting the threshold without also including more ofthe background.  The value of the threshold used inFigure&nbsp;<A HREF="node40.html#f.selections.conjugate">3.25</A>(a) is seen in the <TT>ToolOptions</TT> dialog for the <TT>Magic Wand</TT>, shown inFigure&nbsp;<A HREF="node40.html#f.selections.conjugate">3.25</A>(b).  The value of 59.9 seen in thedialog is just at the point where parts of the background started tobe included in the selection.<P>Although the <TT>Magic Wand</TT> could not select all the desired partsof the flower, the remainder can be added to the selection using the<TT>Lasso</TT>.  Figure&nbsp;<A HREF="node40.html#f.selections.conjugate">3.25</A>(c) shows the processof making a selection with the <TT>Lasso</TT>.  Pressing the Shift keybefore clicking and dragging in the image window causes the newselection to be added to the one created by the <TT>Magic Wand</TT>.  TheShift key needs to be released before the selection is finished.Adding selections was described inSection&nbsp;<A HREF="node37.html#s3-2.combining-selections">3.2</A>.  Notice that under thesecircumstances the selection made with the <TT>Lasso</TT> need not beprecise, which corresponds to the guidelines given for the <TT>Lasso</TT>in Section&nbsp;<A HREF="node40.html#s3.guidelines">3.5.1</A>.<P>The example of conjugating tools presented here is a little contrivedbecause it is not often that the <TT>Magic Wand</TT> can be usedpractically in this way.  But it is illustrative of how the tools canbe used together.  We will see much more of this inChapters&nbsp;<A HREF="node42.html#c4.masks">4</A> and <A HREF="node65.html#c7.compositing">7</A> where the <TT>Threshold</TT> tool takes the place of the <TT>Magic Wand</TT>.<P><H2><A NAME="SECTION001153000000000000000">&#160;</A><A NAME="4014">&#160;</A><A NAME="4015">&#160;</A><BR>3.5.3 Using <TT>Zoom</TT></H2><P>One of the most useful tools that can be used in conjunction with the<TT>Bezier Path</TT> selection tool is the <TT>Zoom</TT> tool, found in theToolbox and in the <TT>Image:View</TT> menu.  This tool was covered insome detail in Section&nbsp;<A HREF="node23.html#s1.zoom">1.8.1</A>; however, its value for aidingselections is emphasized here.<P>When attempting to perform a precise selection of a subject, it isessential to get in close to the pixels.Figure&nbsp;<A HREF="node40.html#f.selections.zoom1">3.26</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.selections.zoom1">&#160;</A><A NAME="4022">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.26:</STRONG>Using Zoom to Aid with Selections</CAPTION><TR><TD><IMG SRC="img96.gif"ALT="Figure 3.26"></TD></TR></TABLE></DIV><BR>shows a Bezier path of an airplane that is to be converted to aselection.  However, prior to the conversion it is desirable toexamine the path to verify its accuracy.<P>Figure&nbsp;<A HREF="node40.html#f.selections.zoom1">3.26</A>(b) is a 400% zoom ofFigure&nbsp;<A HREF="node40.html#f.selections.zoom1">3.26</A>(a).  As can be seen the control pointof the Bezier path located at the junction of the right wing and thefuselage is not quite correctly positioned.  It is only through theuse of <TT>Zoom</TT> that such a careful examination of the selection canbe made.  It is quite easy to improve the positioning of the controlpoint using the Edit Point mode button in the Paths dialog.<P>Although the <TT>Zoom</TT> tool was used inFigure&nbsp;<A HREF="node40.html#f.selections.zoom1">3.26</A>(b) to verify a Bezier path, it isoften a good strategy to draw the path from the start in a zoomedwindow.  A useful tool for helping with this is the <TT>NavigationWindow</TT>,<A NAME="4032">&#160;</A> found in the <TT>Image:View</TT> menu.Figure&nbsp;<A HREF="node40.html#f.selections.zoom1">3.26</A>(c) illustrates this tool, whichconsists of a thumbnail of the image with a panning rectanglesuperimposed on it.  This panning rectangle shows the part of theimage that can be viewed in the zoomed image window.  The panningrectangle can be dragged with the left mouse button, and this makesthe image in the zoomed window move in tandem with it.  In addition tothe panning function of the <TT>Navigation Window</TT> it also contains +and - buttons, which can control the amount of zoom applied to theimage window.<P><H2><A NAME="SECTION001154000000000000000">&#160;</A><A NAME="s3.guides">&#160;</A><A NAME="4038">&#160;</A><A NAME="4039">&#160;</A><A NAME="4040">&#160;</A><BR>3.5.4 Selections and Guides</H2><P>The image window guides (see Section&nbsp;<A HREF="node32.html#s2.guides">2.6.1</A>) can be used toaccurately positioning a selection made with the <TT>Ellipse Select</TT>or <TT>Rectangle Select</TT> tools.  An example of the former isillustrated in Figure&nbsp;<A HREF="node40.html#f.selections.guides">3.27</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.selections.guides">&#160;</A><A NAME="4046">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 3.27:</STRONG>Positioning an Elliptical Selection Using the Guides</CAPTION><TR><TD><IMG SRC="img97.gif"ALT="Figure 3.27"></TD></TR></TABLE></DIV><BR>The figure shows a clock and also shows horizontal and verticalguides that have beenpositioned tangent to the perimeter of the clock's upper and leftedges.<P>Choosing the <TT>Ellipse Select</TT> tool from the Toolbox, the selectionis begun by clicking and dragging from the intersection of the twoguides.  If the <TT>Snap to Guides</TT> checkbox in the <TT>Image:View</TT>menu is toggled on, the initial point for the selection snaps to theguides' intersection.  Because the guides are tangent to the clock'sperimeter, dragging the mouse until the selection touches the twotangent points perfectly completes the selection.<P><HR><H1><A NAME="SECTION001160000000000000000">&#160;</A><A NAME="s3.problems">&#160;</A><A NAME="4055">&#160;</A><A NAME="4056">&#160;</A><BR>3.6 Common Problems and <BR>Frequently Asked Questions</H1><P>There are some problems with selection tools that everyone is trippedup by sooner or later.  Here is a common list:<UL><LI><B>I choose a selection tool from the Toolbox and try to make aselection, but the Marching Ants don't appear, and the selectiondoesn't seem to have been made.  What's wrong?</B><A NAME="4059">&#160;</A><P>This is such a common problem!  It is due to the Marching Ants havingbeen toggled off in some prior operation.  Toggle the Marching Antsback on by typing <TT>C-t</TT> in the image window or by clicking on the<TT>Toggle Selection</TT> checkbox in the <TT>Image:View</TT> menu.<P><LI><B>I try to cut, paste, or filter a selection, but nothing happens.Why not?</B><P>Your image contains multiple layers, and the active layer<A NAME="4064">&#160;</A> is not visible.  Operations in the GIMP are applied to the <EM>active</EM> layer (for more information, see Chapter&nbsp;<A HREF="node26.html#c2.layers">2</A>).Thus, the selection in your image may be visible, but the active layermay not be.  Open the Layers dialog and verify that the layer you areworking on is active and is visible in the image window.<P><LI><A NAME="4067">&#160;</A><B>I've selected the <TT>Bezier Path</TT> tool from the Toolbox, butclicking in the image window with the mouse button doesn't produce anycontrol points.  What's going on?</B><P>Open the Paths dialog and verify that there is an active path in thePaths Palette.  If there isn't, create a new one by clicking on the<TT>New Path</TT> button.  Also, verify that the New Point mode button istoggled on.<P></UL><P><HR><H1><A NAME="SECTION001200000000000000000">&#160;</A><A NAME="c4.masks">&#160;</A><A NAME="5171">&#160;</A><BR>4. Masks</H1><P>Masks are powerful GIMP tools, and it would be quite difficult to domany things without them.  What are masks?  They are selections!Actually, they are grayscale images that <EM>represent</EM> selections.In masks, the white regions represent selected pixels, the blackregions unselected pixels, and the gray regions partially selectedpixels.<P>You may be asking, ``Why do we need another way of representing aselection?  Weren't the selection tools presented inChapter&nbsp;<A HREF="node35.html#c3.selections">3</A> good enough?''  The selection tools aregood, but masks provide a whole new set of options for creating andediting selections.  This chapter demonstrates how the GIMP's paintingtools, gradients, and filters can be used with masks to get selectionresults that would be impossible with the selection tools alone.Masks are complementary to the selection tools, and this chapter showshow the two can be used together to produce the most effectiveresults.<P>In addition to the new capabilities for editing and creatingselections that masks provide, they also have another very usefulfeature.  A mask can be stored and used more than once.  Selectionscreated with the selection tools are more ephemeral.  When created,they exist only until another selection is made or until they arecanceled.  Moreover, while a selection is present in the image window,it only allows operations to be applied to the pixels in the selectedregion.  This means that active selections can impede the work flowbecause pixels outside the selected region cannot be processed.  Thus,there is a need for selections that can be stored and reused.  Masksprovide this capability, and, as will be seen shortly, it is easy toconvert selections to masks and vice versa.<P>There are two types of masks in the GIMP: channel masks and layermasks.  A channel mask is an independent entity and can be applied toany image layer.  Alternatively, a layer mask is associated with asingle layer, on which it is totally dependent.  Every layer in animage can have a layer mask, but each layer mask is specific to itsown layer.  In addition, the layer mask is directly linked to itslayer's alpha channel.  As was discussed inSection&nbsp;<A HREF="node28.html#s2.channels-layers">2.2</A>, the alpha channel controls theopacity of the layer.  As will be developed more in this chapter, thealpha channel is just a special mask and, as a mask, it is just aspecial type of selection.<P>Selections, channel masks, layer masks, and alpha channels.  They arethe same, they are different, and it is all explained in this chapter.Read on!<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html1435" HREF="node43.html">4.1 Channel Masks</A><UL><LI><A NAME="tex2html1436" HREF="node43.html#SECTION001211000000000000000">4.1.1 The Channels Dialog</A><LI><A NAME="tex2html1437" HREF="node43.html#SECTION001212000000000000000">4.1.2 Saving Selections to Channel Masks</A><LI><A NAME="tex2html1438" HREF="node43.html#SECTION001213000000000000000">4.1.3 Making Channel Masks Visible</A><LI><A NAME="tex2html1439" HREF="node43.html#SECTION001214000000000000000">4.1.4 Setting a Channel Mask's Color, Transparency, and Title</A><LI><A NAME="tex2html1440" HREF="node43.html#SECTION001215000000000000000">4.1.5 The Channels Menu</A><LI><A NAME="tex2html1441" HREF="node43.html#SECTION001216000000000000000">4.1.6 Combining Channels</A><LI><A NAME="tex2html1442" HREF="node43.html#SECTION001217000000000000000">4.1.7 Partially Selected Pixels</A></UL><LI><A NAME="tex2html1443" HREF="node44.html">4.2 Layer Masks</A><UL><LI><A NAME="tex2html1444" HREF="node44.html#SECTION001221000000000000000">4.2.1 Creating a Layer Mask</A><LI><A NAME="tex2html1445" HREF="node44.html#SECTION001222000000000000000">4.2.2 Manipulating the Layer Mask</A></UL><LI><A NAME="tex2html1446" HREF="node45.html">4.3 Basic Tools for Working with Channel and Layer Masks</A><UL><LI><A NAME="tex2html1447" HREF="node45.html#SECTION001231000000000000000">4.3.1 Painting Tools</A><LI><A NAME="tex2html1448" HREF="node45.html#SECTION001232000000000000000">4.3.2 Selection Tools</A><LI><A NAME="tex2html1449" HREF="node45.html#SECTION001233000000000000000">4.3.3 Gradients</A><LI><A NAME="tex2html1450" HREF="node45.html#SECTION001234000000000000000">4.3.4 Transparency as a Tool for Editing Masks</A><LI><A NAME="tex2html1451" HREF="node45.html#SECTION001235000000000000000">4.3.5 Blurring of Masks and Other Effects</A></UL><LI><A NAME="tex2html1452" HREF="node46.html">4.4 Conversions of Selections, Channel Masks, <BR>Layer Masks, and Alpha Channels</A><LI><A NAME="tex2html1453" HREF="node47.html">4.5 Masks and Selections</A><UL><LI><A NAME="tex2html1454" HREF="node47.html#SECTION001251000000000000000">4.5.1 Using Masks to Refine Selections</A><LI><A NAME="tex2html1455" HREF="node47.html#SECTION001252000000000000000">4.5.2 The Quick Mask</A><LI><A NAME="tex2html1456" HREF="node47.html#SECTION001253000000000000000">4.5.3 Finding the Natural Mask</A><UL><LI><A NAME="tex2html1457" HREF="node47.html#SECTION001253100000000000000">4.5.3.1 Working with the <TT>Threshold</TT> Tool</A><LI><A NAME="tex2html1458" HREF="node47.html#SECTION001253200000000000000">4.5.3.2 The <TT>Threshold</TT> Tool Versus the <TT>Magic Wand</TT></A><LI><A NAME="tex2html1459" HREF="node47.html#SECTION001253300000000000000">4.5.3.3 Threshold and Decompose</A></UL></UL><LI><A NAME="tex2html1460" HREF="node48.html">4.6 Common Problems and <BR>Frequently Asked Questions</A></UL><!--End of Table of Child-Links--><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1473" HREF="node43.html#SECTION001211000000000000000">4.1.1 The Channels Dialog</A><LI><A NAME="tex2html1474" HREF="node43.html#SECTION001212000000000000000">4.1.2 Saving Selections to Channel Masks</A><LI><A NAME="tex2html1475" HREF="node43.html#SECTION001213000000000000000">4.1.3 Making Channel Masks Visible</A><LI><A NAME="tex2html1476" HREF="node43.html#SECTION001214000000000000000">4.1.4 Setting a Channel Mask's Color, Transparency, and Title</A><LI><A NAME="tex2html1477" HREF="node43.html#SECTION001215000000000000000">4.1.5 The Channels Menu</A><LI><A NAME="tex2html1478" HREF="node43.html#SECTION001216000000000000000">4.1.6 Combining Channels</A><LI><A NAME="tex2html1479" HREF="node43.html#SECTION001217000000000000000">4.1.7 Partially Selected Pixels</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001210000000000000000">&#160;</A><A NAME="s4.channel-masks">&#160;</A><A NAME="5177">&#160;</A><A NAME="5178">&#160;</A><BR>4.1 Channel Masks</H1><P>A channel mask is a special grayscale layer only 8 bits deep and isused to store and edit selections.  This section describes theChannels dialog, how to save selections to channel masks, how toconvert channel masks to selections, and the other GIMP functions usedfor organizing masks and operating on them.<P><H2><A NAME="SECTION001211000000000000000">&#160;</A><A NAME="s4.channels-dialog">&#160;</A><A NAME="5181">&#160;</A><A NAME="5182">&#160;</A><BR>4.1.1 The Channels Dialog</H2><P>As an image can have any number of layers, it can also have any numberof channel masks.  Thus, analogous to the Layers dialog, the Channelsdialog is the the tool for organizing and working with channels.  TheChannels dialog is obtained by typing <TT>C-l</TT> in the image windowand clicking on the Channels tab in the resulting <TT>Layers &amp;Channels</TT> window.  Figure&nbsp;<A HREF="node43.html#f.masks.channels-dialogX">4.1</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.channels-dialogX">&#160;</A><A NAME="5187">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.1:</STRONG>The Channels Dialog</CAPTION><TR><TD><IMG SRC="img98.gif"ALT="Figure 4.1"></TD></TR></TABLE></DIV><BR>illustrates the various elements of the Channels dialog.<P>The most important feature of the Channels dialog is the ChannelsPalette.<A NAME="5191">&#160;</A><A NAME="5192">&#160;</A>This region of the dialog consists of horizontal strips where the topthree entries are always the Red, Green, and Blue channels of theimage, already described in Section&nbsp;<A HREF="node28.html#s2.layers.channel-dialog">2.2.1</A>.The rest of the strips are channel masks.Figure&nbsp;<A HREF="node43.html#f.masks.channels-dialogX">4.1</A> shows a single channel mask.The channel mask strip displays a thumbnail image of the mask'scontents, and the area to the left of the thumbnail contains an Eyeicon.  Analogous to layer strips in the Layers dialog, thevisibility<A NAME="5195">&#160;</A><A NAME="5196">&#160;</A> of the Eye icon for channel strips can be toggled on and off,making the channel mask either visible or invisible in the imagewindow.<P>To the right of the thumbnail is the Channel TitleArea.  InFigure&nbsp;<A HREF="node43.html#f.masks.channels-dialogX">4.1</A> the channel is named A ChannelMask.  The title can be changed by double-clicking in the ChannelTitle Area.  This brings up a dialog where the new title can beentered.<P>The channel strip in Figure&nbsp;<A HREF="node43.html#f.masks.channels-dialogX">4.1</A> ishighlighted in blue, indicating that it is the activechannel.<A NAME="5199">&#160;</A>  A channel mask is made active byclicking on its thumbnail or Title Area.  Only a single channel maskcan be active at a time, and, when a channel mask is active, none ofthe image layers can be active.  Because GIMP tools applied to theimage window are applied to the active layer<A NAME="5200">&#160;</A> orthe active channel,<A NAME="5201">&#160;</A> this can sometimes be asource of confusion.  After working on a channel mask, to work on alayer it is necessary to explicitly switch to the Layers dialog and tomake the layer active.<P>The remaining elements of the Channels dialog are the Channels menuand the button bar.  These are described in more detail shortly.<P><H2><A NAME="SECTION001212000000000000000">4.1.2 Saving Selections to Channel Masks</A></H2><P>One of the primary uses you will make of channel masks is to saveselections.  Why should you save a selection to a channel?  There aremany reasons.  The first is that saving the selection protects yourwork, which is particularly important if you are making an involvedand difficult selection.  Second, it allows you to make yourselections in parts.  This helps divide and simplify the work.  Third,it allows you to reuse a selection for several purposes.  This isuseful for all sorts of rendering operations, such as making dropshadows, highlights, and special textures (for example, seeSection&nbsp;<A HREF="node76.html#s8.proj1">8.5</A>).  Fourth, it allows you to refine yourselections in ways that would otherwise be impossible.  Finally, manyspecial effects can be had using filter plug-ins on masks.  As you cansee, saving a selection to a channel mask really has a very broadrange of benefits.<P>After making a selection with any of the tools described inChapter&nbsp;<A HREF="node35.html#c3.selections">3</A>, we can save the selection to a channelmask using the <TT>Save To Channel</TT><A NAME="5206">&#160;</A> function, found in the <TT>Image:Select</TT> menu.Figure&nbsp;<A HREF="node43.html#f.masks.select2channel">4.2</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.select2channel">&#160;</A><A NAME="5210">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.2:</STRONG>Saving a Selection to a Channel Mask</CAPTION><TR><TD><IMG SRC="img99.gif"ALT="Figure 4.2"></TD></TR></TABLE></DIV><BR>illustrates an image of a selected falcon, andFigure&nbsp;<A HREF="node43.html#f.masks.select2channel">4.2</A>(b) shows the Channels dialog afterhaving used the <TT>Save to Channel</TT><A NAME="5216">&#160;</A>function.  The thumbnail appears as a grayscale image, where whitecorresponds to fully selected, gray to partially<A NAME="5217">&#160;</A> selected, and black to unselectedpixels.  As seen in Figure&nbsp;<A HREF="node43.html#f.masks.select2channel">4.2</A>(b), thedefault channel mask title is Selection Mask copy.<P>After using <TT>Save to Channel</TT>, the active focus changes from theLayers dialog to the newly created channel in the Channels dialog.Nevertheless, the selection in the image window remains active.  Thishas several important consequences.  First, since the new channel isactive, all ensuing filtering or painting operations are applied onlyto this channel.  Furthermore, since the original selection is stillactive, the only parts of the new channel that can be affected arethose inside the selection area.  For example, trying to paint outsidethe selection will have absolutely no effect.<P>Thus, if the objective is to work on the newly created channel, theselection must be canceled by typing <TT>C-S-a</TT> in the image window,and the channel must be made visible by toggling on its Eye icon inthe Channels dialog.  If the objective is to save the selection as achannel and to move onto other image operations, the selectionmust be canceled, and the appropriate layer in the Layers dialog mustbe made active.<P><H2><A NAME="SECTION001213000000000000000">4.1.3 Making Channel Masks Visible</A></H2><P>A channel mask's visibility can be toggled on or off by clicking onits Eye icon.  Looking again atFigure&nbsp;<A HREF="node43.html#f.masks.select2channel">4.2</A>(b), the Eye icon is not visible.Toggling it on, as shown in Figure&nbsp;<A HREF="node43.html#f.masks.channel-mask">4.3</A>(b), andtoggling off the image layer's visibility produces the result shown inFigure&nbsp;<A HREF="node43.html#f.masks.channel-mask">4.3</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.channel-mask">&#160;</A><A NAME="5226">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.3:</STRONG>Viewing a Raw Channel Mask in the Image Window</CAPTION><TR><TD><IMG SRC="img100.gif"ALT="Figure 4.3"></TD></TR></TABLE></DIV><BR>This figure shows that the channel mask is now visible in the imagewindow.  <P>If the Eye icon of the image layer is toggled back on, as shown inFigure&nbsp;<A HREF="node43.html#f.masks.channel-mask-x0">4.4</A>(b), the resulting view in theimage window is Figure&nbsp;<A HREF="node43.html#f.masks.channel-mask-x0">4.4</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.channel-mask-x0">&#160;</A><A NAME="5233">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.4:</STRONG>Viewing an Image Layer Through the Channel Mask</CAPTION><TR><TD><IMG SRC="img101.gif"ALT="Figure 4.4"></TD></TR></TABLE></DIV><BR>The image layer can now be seen through the channel mask.  The partsof the image corresponding to the white region of the mask appearclearly, but the parts in the black region appear covered by a dark,semi-transparent film.  This demonstrates why these channels arecalled masks; they allow the selected parts of the image to be clearlyseen while ``masking out'' the unselected parts.<P>Being able to see the image through the filmy parts of the channelmask, as illustrated in Figure&nbsp;<A HREF="node43.html#f.masks.channel-mask-x0">4.4</A>(a), makesit possible to edit the mask according to the features of the imagebehind it.  In this way, the channel mask is like a piece of digitaltracing paper placed over the image.  <P><H2><A NAME="SECTION001214000000000000000">&#160;</A><A NAME="s4.channel-name-color-trans">&#160;</A><A NAME="5240">&#160;</A><A NAME="5241">&#160;</A><A NAME="5242">&#160;</A><BR>4.1.4 Setting a Channel Mask's Color, Transparency, and Title</H2><P>Double-clicking in the channel mask title area brings up the <TT>Channel Options</TT><A NAME="5244">&#160;</A><A NAME="5245">&#160;</A> dialog, shown inFigure&nbsp;<A HREF="node43.html#f.masks.channel-mask-y">4.5</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.channel-mask-y">&#160;</A><A NAME="5248">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.5:</STRONG>Changing a Channel Mask's Color, Opacity, and Title</CAPTION><TR><TD><IMG SRC="img102.gif"ALT="Figure 4.5"></TD></TR></TABLE></DIV><BR>This dialog allows three mask attributes to be set: the Channel name,the Fill Opacity, and the mask color.  Setting the name isself-explanatory, but the other two attributes merit some discussion.<P>The <TT>Fill Opacity</TT> slider sets the degree to which the image layeris visible through the filmy parts of the mask.  The slider's unitsare in percent so if the opacity is set to 100, the only parts of theimage that are visible are those that correspond to the white part ofthe mask, and the parts of the image corresponding to the black partsof the mask cannot be seen.  Alternatively, if the opacity is set to0, the image layer is completely visible, and the mask cannot be seen.An intermediate opacity setting allows the masked-out regions of theimage to be seen through the black part of the mask.  Adjusting theFill Opacity slider allows an optimum working level to be set for themask.<P>If some of the image pixels seen behind the semi-opacity of the maskare dark, it will be difficult to see the details of these pixels.This may impede your ability to make useful edits to the mask,regardless of the Fill Opacity slider's setting.  This is why thecolor of the mask can be changed.  Changing the mask's color is doneby clicking in the color patch of the <TT>Channel Options</TT> dialog.This brings up the <TT>Color Selection</TT> dialog, from which any colorcan be chosen.  A good choice, of course, is one that contrasts wellwith the image layer pixels.  Closing the <TT>Color Selection</TT> dialogchanges the color in the <TT>Channel Options</TT> color rectangle.Closing the <TT>Channel Options</TT> dialog makes this color appear atthe chosen opacity level in the image window.  This is shown inFigure&nbsp;<A HREF="node43.html#f.masks.channel-mask-y">4.5</A>(a), where a 50%-transparent redhas been chosen for the mask color.<P><H2><A NAME="SECTION001215000000000000000">&#160;</A><A NAME="s4.channels-menu">&#160;</A><A NAME="5261">&#160;</A><A NAME="5262">&#160;</A><BR>4.1.5 The Channels Menu</H2><P>The Channels dialog, like the Layers dialog, has a hidden menu thatcan be displayed by right-clicking in the title areaof the Channels Palette.  This menu is shown inFigure&nbsp;<A HREF="node43.html#f.masks.channel-menu">4.6</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.channel-menu">&#160;</A><A NAME="5265">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.6:</STRONG>The Channels Menu</CAPTION><TR><TD><IMG SRC="img103.gif"ALT="Figure 4.6"></TD></TR></TABLE></DIV><BR>As shown by the red arrows, many of the operations available in theChannels menu are directly accessible from the button bar.  Most ofthe functions in the menu are organizational: <TT>New Channel</TT>, <TT>Raise Channel</TT>, <TT>Lower Channel</TT>, <TT>Duplicate Channel</TT>, and <TT>Delete Channel</TT> are all self-explanatory.  Of particular importance isthe <TT>Channel to Selection</TT> function, which is the inverse of the<TT>Save to Channel</TT><A NAME="5276">&#160;</A>function.  <TT>Channel to Selection</TT><A NAME="5278">&#160;</A><A NAME="5279">&#160;</A> creates aselection in the image window corresponding to the active mask in theChannels dialog.<P>The remaining functions in the Channels menu, <TT>Add toSelection</TT>,<A NAME="5281">&#160;</A> <TT>Subtract FromSelection</TT>,<A NAME="5283">&#160;</A> and <TT>IntersectWith Selection</TT><A NAME="5285">&#160;</A> are describedin the following section.<P><H2><A NAME="SECTION001216000000000000000">&#160;</A><A NAME="s4.combine_channels">&#160;</A><A NAME="5288">&#160;</A><A NAME="5289">&#160;</A><BR>4.1.6 Combining Channels</H2><P>Section&nbsp;<A HREF="node37.html#s3-2.combining-selections">3.2</A> describes how selections canbe combined; selections can be added, subtracted, and intersected.These operations are useful because they allow the results fromdifferent selection tools to be combined and because they also allowthe work to be performed incrementally.  This can be particularlyimportant when selecting from a large image or when making acomplicated selection.<P>Channel masks can also be combined.  This is done by converting themasks to selections and then saving the combined result back to amask.  Figure&nbsp;<A HREF="node43.html#f.masks.combine1">4.7</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.combine1">&#160;</A><A NAME="5293">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.7:</STRONG>Two Channel Masks</CAPTION><TR><TD><IMG SRC="img104.gif"ALT="Figure 4.7"></TD></TR></TABLE></DIV><BR>illustrates the procedure.  Figure&nbsp;<A HREF="node43.html#f.masks.combine1">4.7</A>(a) shows anunderwater scene for which two selections have been previously madeand saved to channel masks.  The channels strips for the two masks,labeled Fish and Rock, can be seen in the Channels dialog, shown inFigure&nbsp;<A HREF="node43.html#f.masks.combine1">4.7</A>(b).<P>After making the channel labeled Rock the active channel, it isconverted to a selection by clicking on the <TT>Channel to Selection</TT>button (represented by the dashed circle icon) in the button bar.  Theactive channel can be seen in Figure&nbsp;<A HREF="node43.html#f.masks.combine2">4.8</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.combine2">&#160;</A><A NAME="5302">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.8:</STRONG>Converting the First Mask to a Selection</CAPTION><TR><TD><IMG SRC="img105.gif"ALT="Figure 4.8"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node43.html#f.masks.combine2">4.8</A>(a) shows the resulting selection inthe image window.  Note that it was not necessary nor useful to toggleon the visibility of the channel mask to do this.<P>A similar operation is performed with the channel mask labeled Fish.The mask is made active and then converted to a selection.  Normallythe conversion of a mask to a selection replaces any selection alreadyactive in the image window.  However, the selection represented by themask can also be added to the active selection.  This is accomplishedby choosing the <TT>Add to Selection</TT><A NAME="5308">&#160;</A> function from the Channels menu, shown inFigure&nbsp;<A HREF="node43.html#f.masks.channel-menu">4.6</A>(b).  The <TT>Add to Selection</TT>function can also be invoked by Shift-clicking the <TT>Channel toSelection</TT> button in the button bar.  The result of adding theselection is shown in Figure&nbsp;<A HREF="node43.html#f.masks.combine3">4.9</A>(a),<BR><DIV ALIGN="CENTER"><A NAME="f.masks.combine3">&#160;</A><A NAME="5314">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.9:</STRONG>Converting the Second Mask to a Selection and Adding it to the First</CAPTION><TR><TD><IMG SRC="img106.gif"ALT="Figure 4.9"></TD></TR></TABLE></DIV><BR>which shows the combined selection in the image window.<P>Two other combining modes are also available in the Channels menu.These are the <TT>Subtract From Selection</TT> and the <TT>IntersectWith Selection</TT> functions.  These can both be used from the <TT>Channel to Selection</TT> button in the button bar.  Control-clicking thebutton produces a subtraction and Control-Shift-clicking produces anintersection.<P>The final step to obtain a channel mask of the combined selection isperformed by using <TT>Save to Channel</TT> from the <TT>Image:Select</TT>menu.  The procedure is illustrated in Figure&nbsp;<A HREF="node43.html#f.masks.combine4">4.10</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.masks.combine4">&#160;</A><A NAME="5325">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.10:</STRONG>Creating the Combined Channel Mask</CAPTION><TR><TD><IMG SRC="img107.gif"ALT="Figure 4.10"></TD></TR></TABLE></DIV><BR>The resulting channel mask, which has been labeled Rock+Fish, is shownin Figure&nbsp;<A HREF="node43.html#f.masks.combine4">4.10</A>(b).<P><H2><A NAME="SECTION001217000000000000000">&#160;</A><A NAME="s4.partially-selected">&#160;</A><A NAME="5332">&#160;</A><BR>4.1.7 Partially Selected Pixels</H2><P>Partially selected pixels are especially important at selection edgesbecause they allow the selection to blend more smoothly with otherimage layers.  The subject of partially selected pixels has alreadybeen discussed to some extent in Section&nbsp;<A HREF="node36.html#s3-5.tool-options">3.1.2</A>,which presented the concepts antialiasing and feathering.<P>A powerful feature of masks is that they provide an easy way to createand to work with partially selected pixels.  As has already beendiscussed, a white pixel in a channel mask represents a fully selectedpixel in the image window, a black pixel fully unselected, and a graypixel partially selected.  Thus, channel masks allow for partiallyselected pixels, and, moreover, provide a framework on which any ofthe GIMP's filters and functions can be applied.  This makes channelmasks a particularly flexible and versatile medium for working withpartial selections.  Some examples of using GIMP filters on masks areillustrated in Section&nbsp;<A HREF="node45.html#s4.masks.anti-alias_and_feathering">4.3.5</A>.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1492" HREF="node44.html#SECTION001221000000000000000">4.2.1 Creating a Layer Mask</A><LI><A NAME="tex2html1493" HREF="node44.html#SECTION001222000000000000000">4.2.2 Manipulating the Layer Mask</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001220000000000000000">&#160;</A><A NAME="s4.layer-masks">&#160;</A><A NAME="5337">&#160;</A><A NAME="5338">&#160;</A><BR>4.2 Layer Masks</H1><P>Layer masks are special layers that are only 8 bits deep and thatrepresent the alpha channel<A NAME="5339">&#160;</A>of an image layer.  The main difference between channel and layermasks is that the layer mask represents the alpha channel of the layerit is linked to, whereas channel masks represent selections and existindependently of any particular layer.  Nevertheless, as will be seenlater in this chapter, there is an intimate relationship between alphachannels and selections and, by extension, between layer masks andchannel masks.<P>The interpretation of white, black, and gray pixels in a layer mask isslightly different than that for a channel mask.  A layer maskrepresents an alpha channel, which, in turn, controls the transparencyof a layer.  In this context, for the layer mask, white represents100% opacity, black 100% transparency, and gray an intermediatelevel of opacity/transparency. This section describes the basicoperations that can be performed on layer masks.<P><H2><A NAME="SECTION001221000000000000000">&#160;</A><A NAME="s4.create-layer-mask">&#160;</A><A NAME="5342">&#160;</A><BR>4.2.1 Creating a Layer Mask</H2><P>To create a layer mask, make the desired layer active in the Layersdialog and choose <TT>Add Layer Mask</TT><A NAME="5344">&#160;</A>from the Layers menu.  This creates the layer mask, but only if theactive layer already has an alpha channel.  If it does not have analpha channel<A NAME="5345">&#160;</A> create one using <TT>AddAlpha Channel</TT><A NAME="5347">&#160;</A> from the Layers menu.<P>Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask0">4.11</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.layer-mask0">&#160;</A><A NAME="5350">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.11:</STRONG>The Layers Menu</CAPTION><TR><TD><IMG SRC="img108.gif"ALT="Figure 4.11"></TD></TR></TABLE></DIV><BR>illustrates the Layers dialog for an image consisting of an alpha-lessbackground layer, and Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask0">4.11</A>(b) shows theassociated Layers menu.  As can be seen, all the functions in the twolowest groups of the Layers menu, including <TT>Add Layer Mask</TT>, aregrayed out except for the function <TT>Add Alpha Channel</TT>.  Selectingthis function, adds the required alpha channel, and bringing up theLayers menu a second time now produces the Layers menu shown inFigure&nbsp;<A HREF="node44.html#f.masks.layer-mask0">4.11</A>(c).  As can be seen, the function<TT>Add Layer Mask</TT> is now available.<P>Selecting the <TT>Add Layer Mask</TT> function from the Layers menubrings up the <TT>Add Mask Options</TT><A NAME="5361">&#160;</A>dialog.  This dialog allows a choice of three initial states for thenew mask.  The default is White (Full Opacity), which is what you willchoose most often.  This choice produces a layer mask that leaves theimage layer fully opaque.  It can sometimes be useful to choose thesecond option, Black (Full Transparency), which creates a layer maskthat makes the image layer fully transparent.  The final option isLayer's Alpha Channel,<A NAME="5362">&#160;</A>which loads the active layer's alpha channel into the layer mask.<P>Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask1">4.12</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.layer-mask1">&#160;</A><A NAME="5365">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.12:</STRONG>The Creation of a Layer Mask</CAPTION><TR><TD><IMG SRC="img109.gif"ALT="Figure 4.12"></TD></TR></TABLE></DIV><BR>illustrates a layer mask created using the White (Full Opacity)option.  Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask1">4.12</A>(a) shows the image window,and Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask1">4.12</A>(b) shows its associated Layersdialog.  The layer strip for the image shows the thumbnail of theimage and, next to it, the thumbnail of the newly created white layermask.  That a layer mask is associated with a single image layer isunderscored by the fact that the mask's thumbnail appears in the samelayer strip as the image layer's thumbnail.<P><H2><A NAME="SECTION001222000000000000000">&#160;</A><A NAME="s4.mask-manips">&#160;</A><A NAME="5373">&#160;</A><A NAME="5374">&#160;</A><BR>4.2.2 Manipulating the Layer Mask</H2><P>As was first described in Section&nbsp;<A HREF="node27.html#s2.layers-dialog">2.1.1</A>, the activelayer in the Layers dialog is highlighted in blue.  When the activelayer consists of an image layer and a layer mask, only one of thesetwo components can be active at a time.  Operations performed in theimage window affect the active component of the layer, either theimage or the layer mask.  The layer mask<A NAME="5376">&#160;</A><A NAME="5377">&#160;</A> is made active by clicking on thelayer mask thumbnail.  The active focus is returned to the image byclicking on the image thumbnail.<P>You can determine whether the image or the layer mask is active by awhite border drawn around the appropriate thumbnail in the layerstrip.  However, if the layer mask is white, it may be difficult totell that there is an additional white border around it.  Carefullyexamine Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask1">4.12</A>(b).  Here it can be seen thatthe image thumbnail does not have a white border and that the layermask thumbnail looks a little taller than the image thumbnail.  Thisis a clue that the layer mask is active.  Changing the active focusfrom the layer mask to the image by clicking on the image thumbnail isshown in Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask2">4.13</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.masks.layer-mask2">&#160;</A><A NAME="5381">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.13:</STRONG>Toggling from an Active Layer Mask to an Active Layer Image</CAPTION><TR><TD><IMG SRC="img110.gif"ALT="Figure 4.13"></TD></TR></TABLE></DIV><BR>It can be seen that the image thumbnail now has the white border.<P>A layer mask is a direct way of editing an image layer's alphachannel.<A NAME="5385">&#160;</A>  Thus, performingedits on the layer mask changes the opacity of the corresponding imagelayer.  This is illustrated in Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask3">4.14</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.masks.layer-mask3">&#160;</A><A NAME="6008">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.14:</STRONG>Editing a Layer Mask Edits the Image Layer's Alpha Channel<A NAME="5388">&#160;</A></CAPTION><TR><TD><IMG SRC="img111.gif"ALT="Figure 4.14"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask3">4.14</A>(b) shows that the image consists of asingle layer with a layer mask.  The layer mask has been constructedso that the white part of the mask corresponds to the bird shown inFigure&nbsp;<A HREF="node44.html#f.masks.layer-mask1">4.12</A>(a) and the black part corresponds tothe rest of the image.<P>Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask3">4.14</A>(a) shows the effect of the layermask; it makes the region around the bird's body completelytransparent.  It is important to note that the background part of theimage has not been destroyed;  it just can't be seen due to themodified values in the alpha channel.  Section&nbsp;<A HREF="node45.html#s4.mask-tools">4.3</A>describes in detail how a layer mask can be edited to produce a resultlike the one shown in Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask3">4.14</A>.  However,before doing that, several additional features of layer masks must bedescribed.<P>It is often useful to be able to examine the layer mask without thevisual interference of the image layer.  This can be accomplished byAlt-clicking<A NAME="5397">&#160;</A> on thethumbnail of the layer mask.  Doing this toggles off the visibility ofthe image layer in the image window, leaving just the layer mask.  Inaddition, the outline of the layer mask thumbnail in the Layers dialogbecomes green.  This is illustrated inFigure&nbsp;<A HREF="node44.html#f.masks.layer-mask4">4.15</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.masks.layer-mask4">&#160;</A><A NAME="5400">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.15:</STRONG>Viewing Only the Mask in the Image Window</CAPTION><TR><TD><IMG SRC="img112.gif"ALT="Figure 4.15"></TD></TR></TABLE></DIV><BR>The mask seen in the image window is shown inFigure&nbsp;<A HREF="node44.html#f.masks.layer-mask4">4.15</A>(a), and the green border around thelayer mask thumbnail is shown in Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask4">4.15</A>(b).The effect can be toggled off by Alt-clicking on the thumbnail asecond time.<P>Similarly, it can be useful to toggle off the visual effect the layermask<A NAME="5406">&#160;</A><A NAME="5407">&#160;</A> hason the image.  This is done by Control-clicking on the layer maskthumbnail.  When this is done, the effect of the layer mask on theimage is toggled off, and the border of the layer mask thumbnailbecomes red.  Figure&nbsp;<A HREF="node44.html#f.masks.layer-mask5">4.16</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.layer-mask5">&#160;</A><A NAME="5410">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.16:</STRONG>Suppressing the Effect of the Layer Mask in the Image Window</CAPTION><TR><TD><IMG SRC="img113.gif"ALT="Figure 4.16"></TD></TR></TABLE></DIV><BR>illustrates this.  The full image can now be seen inFigure&nbsp;<A HREF="node44.html#f.masks.layer-mask5">4.16</A>(a) and a red border can be seenaround the layer mask thumbnail inFigure&nbsp;<A HREF="node44.html#f.masks.layer-mask5">4.16</A>(b).<P>A layer mask can be converted to the image layer's alpha channel bychoosing the <TT>Apply Layer Mask</TT><A NAME="5417">&#160;</A><A NAME="5418">&#160;</A> functionfrom the Layers menu.  This is not normally necessary, though, becausethe action of the mask is the same whether it remains a mask or isconverted to the alpha channel.  However, the <TT>Apply Layer Mask</TT>dialog also permits the layer mask to be discarded.  This is the onlyway to remove a layer mask.  Applying a layer mask by converting it toan alpha channel destroys the mask and removes it from the Layersdialog.  It can be recovered, though, by choosing <TT>Add Layer Mask</TT>from the Layers menu and choosing Layer's Alpha Channel<A NAME="5421">&#160;</A> as the mask option.<P>Finally, a layer mask can be converted directly to a selection.  Thisis done by choosing <TT>Mask To Selection</TT><A NAME="5423">&#160;</A><A NAME="5424">&#160;</A> from the Layersmenu.  This operation creates a selection by mapping the white pixelsin the layer mask to selected pixels in the image window, black pixelsin the layer mask to unselected pixels, and gray pixels in the layermask to partially selected pixels.  Note that applying the mask as aselection does not destroy the mask.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1506" HREF="node45.html#SECTION001231000000000000000">4.3.1 Painting Tools</A><LI><A NAME="tex2html1507" HREF="node45.html#SECTION001232000000000000000">4.3.2 Selection Tools</A><LI><A NAME="tex2html1508" HREF="node45.html#SECTION001233000000000000000">4.3.3 Gradients</A><LI><A NAME="tex2html1509" HREF="node45.html#SECTION001234000000000000000">4.3.4 Transparency as a Tool for Editing Masks</A><LI><A NAME="tex2html1510" HREF="node45.html#SECTION001235000000000000000">4.3.5 Blurring of Masks and Other Effects</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001230000000000000000">&#160;</A><A NAME="s4.mask-tools">&#160;</A><A NAME="5427">&#160;</A><A NAME="5428">&#160;</A><A NAME="5429">&#160;</A><BR>4.3 Basic Tools for Working with Channel and Layer Masks</H1><P>This section discusses techniques for editing channel and layer masks.Although, layer masks are used to edit a layer's alpha channel, andchannel masks are used to store and edit selections, these two masktypes behave similarly.  Thus, the techniques for editing andfiltering them can be treated in a somewhat unified manner.<P><H2><A NAME="SECTION001231000000000000000">&#160;</A><A NAME="s4.paint-tools">&#160;</A><A NAME="5432">&#160;</A><A NAME="5433">&#160;</A><BR>4.3.1 Painting Tools</H2><P>One of the most direct ways to modify masks is with the GIMP'spainting tools.  The <TT>Paintbrush</TT>,<A NAME="5435">&#160;</A> <TT>Pencil</TT>,<A NAME="5437">&#160;</A> <TT>Airbrush</TT>,<A NAME="5439">&#160;</A> <TT>Eraser</TT>,<A NAME="5441">&#160;</A> <TT>Ink Pen</TT>,<A NAME="5443">&#160;</A> <TT>Dodge and Burn</TT>,<A NAME="5445">&#160;</A> <TT>Smudge</TT>,<A NAME="5447">&#160;</A> and <TT>Bucket Fill</TT><A NAME="5449">&#160;</A> tools can all beused.  The versatility of these tools allows masks to be created thatcould not be duplicated using the selection tools alone.  This is oneof the reasons why masks are complementary to the selection tools.<P>Figure&nbsp;<A HREF="node45.html#f.masks.paint1">4.17</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.paint1">&#160;</A><A NAME="5452">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.17:</STRONG>Using Painting Tools on a Channel Mask</CAPTION><TR><TD><IMG SRC="img114.gif"ALT="Figure 4.17"></TD></TR></TABLE></DIV><BR>illustrates the use of the <TT>Paintbrush</TT> tool to edit a channelmask.  As can be seen from Figure&nbsp;<A HREF="node45.html#f.masks.paint1">4.17</A>(a), the <TT>Paintbrush</TT> tool has been selected from the Toolbox, and white is the<TT>Active Foreground Color</TT>.  Furthermore, as shown inFigure&nbsp;<A HREF="node45.html#f.masks.paint1">4.17</A>(b), a medium hard brush has been selectedfrom the <TT>Brush Selection</TT><A NAME="5462">&#160;</A> dialog.Figure&nbsp;<A HREF="node45.html#f.masks.paint1">4.17</A>(c) illustrates the Channels dialog, whichshows that an active channel mask labeled Butterfly has been created.The mask's color is set to yellow, its opacity is 50%, and its Eyeicon is toggled on, which means the the channel mask can be seen inthe image window.  The effect of the mask in the image window is shownin Figure&nbsp;<A HREF="node45.html#f.masks.paint1">4.17</A>(d).<P>The partial transparency of the mask makes it easy to paint in theimage window while following the butterfly's outline.  As alreadynoted, the mask acts like digital tracing paper.  Some white strokescan be seen in the channel mask thumbnail shown inFigure&nbsp;<A HREF="node45.html#f.masks.paint1">4.17</A>(c).  These were created by painting withthe <TT>Paintbrush</TT> tool in the image window.  Because the channelmask is active, the <TT>Paintbrush</TT> modifies the mask, not the imagelayer.  However, the effect in the image window is to reveal parts ofthe image layer, as can be seen in Figure&nbsp;<A HREF="node45.html#f.masks.paint1">4.17</A>(d).Regions that have been painted white can be repainted black, whichrestores the mask.  Note that although the mask appears yellow in theimage window, it actually remains a grayscale image.  For this reasonwhite, black, and grays are the only colors that should be used whenpainting in channel masks.<P><H2><A NAME="SECTION001232000000000000000">&#160;</A><A NAME="s4.masks-selections">&#160;</A><A NAME="5471">&#160;</A><A NAME="5472">&#160;</A><BR>4.3.2 Selection Tools</H2><P>Selection tools can also be used to modify masks.  Cutting a selectionwhile a mask is active fills the selected region of the mask with thecurrent <TT>Active Background Color</TT>.  Like the painting tools, selectionscan be used to add or subtract parts of the mask.<P>Figure&nbsp;<A HREF="node45.html#f.masks.select2">4.18</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.select2">&#160;</A><A NAME="5476">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.18:</STRONG>Using Selection Tools on a Channel Mask: Addition</CAPTION><TR><TD><IMG SRC="img115.gif"ALT="Figure 4.18"></TD></TR></TABLE></DIV><BR>shows how a selection in the image window can be used to add whitepixels to the mask and,consequently, add to the set of selected pixels represented by themask.  Figure&nbsp;<A HREF="node45.html#f.masks.select2">4.18</A>(a) shows that a selection has beenmade in the image window, and Figure&nbsp;<A HREF="node45.html#f.masks.select2">4.18</A>(b)indicates that it was made using the <TT>Bezier Path</TT> tool.Figure&nbsp;<A HREF="node45.html#f.masks.select2">4.18</A>(b) also shows that the <TT>ActiveBackground Color</TT> is white.  Cutting the selection while the channelmask is active produces the result shown inFigure&nbsp;<A HREF="node45.html#f.masks.select2">4.18</A>(c).  The selected part of the mask hasbeen removed from the image window.  Furthermore, the correspondingpart of the mask has been changed to white, as can be seen from themask thumbnail shown in Figure&nbsp;<A HREF="node45.html#f.masks.select2">4.18</A>(d).<P>Alternatively, Figure&nbsp;<A HREF="node45.html#f.masks.select1">4.19</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.select1">&#160;</A><A NAME="5489">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.19:</STRONG>Using Selection Tools on a Channel Mask: Subtraction</CAPTION><TR><TD><IMG SRC="img116.gif"ALT="Figure 4.19"></TD></TR></TABLE></DIV><BR>shows how a selection can be used to add black pixels to the mask, thus subtracting from theset of selected pixels represented by the mask.Figure&nbsp;<A HREF="node45.html#f.masks.select1">4.19</A>(a) shows the selection in the imagewindow and, as indicated by Figure&nbsp;<A HREF="node45.html#f.masks.select1">4.19</A>(b), theselection was made using the <TT>Rectangle Select</TT> tool.Figure&nbsp;<A HREF="node45.html#f.masks.select1">4.19</A>(b) also shows that the <TT>ActiveBackground Color</TT> is set to black.  The result of cutting theselection using <TT>C-x</TT> is shown in Figure&nbsp;<A HREF="node45.html#f.masks.select1">4.19</A>(c).All the pixels in the interior of the rectangle selection have beenfilled with black, which results in the removal of these pixels fromthe set of selected pixels represented by the mask.<P><H2><A NAME="SECTION001233000000000000000">&#160;</A><A NAME="s4.masks.gradients">&#160;</A><A NAME="5502">&#160;</A><A NAME="5503">&#160;</A><BR>4.3.3 Gradients</H2><P>When used in layer and channel masks, gradients are very usefulblending tools.  Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft1">4.20</A> <BR><DIV ALIGN="CENTER"><A NAME="f.masks.spacecraft1">&#160;</A><A NAME="5506">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.20:</STRONG>Two Images</CAPTION><TR><TD><IMG SRC="img117.gif"ALT="Figure 4.20"></TD></TR></TABLE></DIV><BR>is used to illustrate how two images can be blended together using agradient in a layer mask.  To begin, a new transparent layer iscreated in the lunar module image(Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft1">4.20</A>(a)), and the space shuttle image(Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft1">4.20</A>(b)) is copied and pasted into it.The paste actually creates a floating selection that is subsequentlypositioned and anchored to the transparent layer.  The result of thepaste is illustrated in Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft0">4.21</A>(a),<BR><DIV ALIGN="CENTER"><A NAME="f.masks.spacecraft0">&#160;</A><A NAME="5514">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.21:</STRONG>Pasting and Positioning the Shuttle Over the Lunar Module</CAPTION><TR><TD><IMG SRC="img118.gif"ALT="Figure 4.21"></TD></TR></TABLE></DIV><BR>and the image's Layers dialog is shown inFigure&nbsp;<A HREF="node45.html#f.masks.spacecraft0">4.21</A>(b).  It can be seen from the Layersdialog that the space shuttle is in the upper layer and that, inpreparation for the next step, a layer mask has been created for it.<P>The blending of the two layers is performed by constructing agradient<A NAME="5519">&#160;</A> in the layer mask.  Thefollowing steps are used to accomplish this:<DL COMPACT><DT>1.<DD>The layer mask is made active by clicking on its thumbnail inthe Layers dialog.<DT>2.<DD>The <TT>Gradient</TT> tool is chosen from the Toolbox, and the <TT>Active Foreground Color</TT> and the <TT>Active Background Color</TT> are setto black and white, respectively.<DT>3.<DD>The <TT>Tool Options</TT> dialog<A NAME="5525">&#160;</A> is opened bydouble-clicking on the <TT>Gradient</TT> icon in the Toolbox, and theBlend option is set to FG to BG (RGB).<DT>4.<DD>The gradient is applied by clicking and dragging in the image windowstarting at the leftmost edge of the space shuttle layer, andreleasing slightly to the left of the left shuttle rocket.</DL>The resulting gradient can be seen in the layer mask's thumbnail, shownin Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft2">4.22</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.spacecraft2">&#160;</A><A NAME="5530">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.22:</STRONG>Two Images Blended Using a Gradient in a Layer Mask</CAPTION><TR><TD><IMG SRC="img119.gif"ALT="Figure 4.22"></TD></TR></TABLE></DIV><BR><P>Several points are worth noting here.  First, the gradient is createdin the layer mask by clicking and dragging in the <EM>image</EM> window.The gradient is applied to the <EM>layer mask</EM> because it was madeactive in the first step of the preceding procedure.  Second, as seenin Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft2">4.22</A>(a), the gradient in the layer maskblends the upper layer with the lower one by creating a gradualtransition from black to white in the mask.  The black pixels of themask make the upper layer completely transparent.  The trend from thedark gray to light gray pixels in the mask gradually blends the upperlayer into the lower until the mask is totally white, at which pointthe upper layer is totally opaque.  The width of the blend iscontrolled by the width of the gradient.<P>The blend made in Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft2">4.22</A> produces astraight, horizontally varying gradient, but what if a morecomplicated blending interface is desired?  This can be solved usingthe Mode<A NAME="5538">&#160;</A> menu found in the <TT>BrushSelection</TT><A NAME="5540">&#160;</A> dialog.Figure&nbsp;<A HREF="node45.html#f.masks.gradient-options">4.23</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.gradient-options">&#160;</A><A NAME="6018">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.23:</STRONG>The <TT> Brush Selection</TT> Dialog and the Mode Menu</CAPTION><TR><TD><IMG SRC="img120.gif"ALT="Figure 4.23"></TD></TR></TABLE></DIV><BR>shows the <TT>Brush Selection</TT> dialog, andFigure&nbsp;<A HREF="node45.html#f.masks.gradient-options">4.23</A>(b) shows the mode menu'schoices.<P>The Mode menu controls how the paint of the gradient combines withwhat is already active in the image window (whether that be an imagelayer, a channel mask, or a layer mask).  The <TT>Normal</TT> mode is thedefault, and this mode just replaces anything that was in the layerwith the paint from the gradient.  The other modes combine the paintfrom the gradient in various ways, which are described in depth inChapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A>.  For the moment, however, let's turn ourattention to the <TT>Multiply</TT> and <TT>Screen</TT> modes.  These modeswill permit us to create gradients with tailor-made interfaces.  Toillustrate this, Figure&nbsp;<A HREF="node45.html#f.masks.gradient-options2">4.24</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.gradient-options2">&#160;</A><A NAME="5555">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.24:</STRONG>Using Blending Modes to Combine Gradients</CAPTION><TR><TD><IMG SRC="img121.gif"ALT="Figure 4.24"></TD></TR></TABLE></DIV><BR>shows a horizontally varying gradient created by clicking and draggingwith the mouse in the image window, beginning at the tail of the redarrow and releasing at its tip.  (Note that the red arrow is just forillustrative purposes and is not part of the image or the gradient.)<P>Choosing the <TT>Multiply</TT><A NAME="5560">&#160;</A> modefrom the <TT>Brush Selection</TT> dialog's Mode menu and applying asecond gradient to the first is shown inFigure&nbsp;<A HREF="node45.html#f.masks.gradient-options2">4.24</A>(b).  The direction of theapplied gradient is indicated by the red arrow.  If the normalcombining mode had been used, the second gradient would have replacedthe first.  However, setting the blending mode to <TT>Multiply</TT> hasproduced a completely different effect.  The two gradients have beenmultiplied together.  What does it mean to multiply two gradients?Assigning a value of 0 to black, a value of 1 to white, andproportional values for grays provides us with a definition.  Thisnumerical correspondence is used to create a gradient that is theproduct of the first two.  More precise definitions for the blendingmodes are given in Chapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A>.<P>Figure&nbsp;<A HREF="node45.html#f.masks.gradient-options2">4.24</A>(c) shows the result of usingthe <TT>Screen</TT><A NAME="5567">&#160;</A> mode, applied as shown bythe red arrow in the figure.  This mode works in a manner similar to<TT>Multiply</TT> mode.  It performs a multiplication, except that it iswhite that is assigned the value of 0 and black the value of 1.  Ascan be seen in Figure&nbsp;<A HREF="node45.html#f.masks.gradient-options2">4.24</A>, the <TT>Multiply</TT> and <TT>Screen</TT> blending modes can be used to create customgradient interfaces.  The <TT>Multiply</TT> mode can be used to make ablack pivot around the point of application, and the <TT>Screen</TT> modeto make a white pivot.<P>Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft2">4.22</A> shows an example of using a gradientin a layer mask to blend two layers.  In the upper part of thisfigure, the blend seems too abrupt, because the black space of thelunar module image contrasts strongly with the gray-blue sky of thespace shuttle launch.  This can be softened by making the gradientinterface curve around the space shuttle image, letting more of thelunar module's black show through from below.  Using the <TT>Multiply</TT> and <TT>Screen</TT> blending modes to do this produces theeffect shown in Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft-final">4.25</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.spacecraft-final">&#160;</A><A NAME="6021">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.25:</STRONG>Custom Blending in the Upper Portion of the Image byCombining Additional Gradients Using the <TT> Multiply</TT> and <TT>Screen</TT> Modes</CAPTION><TR><TD><IMG SRC="img122.gif"ALT="Figure 4.25"></TD></TR></TABLE></DIV><BR>The corresponding curved gradient interface can be seen in the layermask thumbnail shown in Figure&nbsp;<A HREF="node45.html#f.masks.spacecraft-final">4.25</A>(b).<P>Effects similar to what were achieved with <TT>Multiply</TT> and <TT>Screen</TT> can be had using two other blending modes: <TT>Darken Only</TT>and <TT>Lighten Only</TT>.<A NAME="5589">&#160;</A>  The resultsare a little different from those obtained with <TT>Multiply</TT> and<TT>Screen</TT> because these two modes provide more angular, predictableresults at the corners of intersection.  The result is more like amitred picture frame than a fluid, smooth transition.Figures&nbsp;<A HREF="node45.html#f.masks.gradient-options4">4.26</A>(a), (b), and (c)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.gradient-options4">&#160;</A><A NAME="6023">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.26:</STRONG>Compare <TT> Darken Only</TT> and <TT> Lighten Only</TT> with <TT>Multiply</TT> and <TT> Screen</TT> in Figure&nbsp;<A HREF="node45.html#f.masks.gradient-options2">4.24</A></CAPTION><TR><TD><IMG SRC="img123.gif"ALT="Figure 4.26"></TD></TR></TABLE></DIV><BR>illustrates the application of the <TT>Darken Only</TT> and <TT>LightenOnly</TT> modes.  Compare them with the application of the <TT>Multiply</TT>and <TT>Screen</TT> modes, shown inFigure&nbsp;<A HREF="node45.html#f.masks.gradient-options2">4.24</A>.<P>Blending modes are discussed in more detail inSection&nbsp;<A HREF="node55.html#s5.blending-modes">5.6</A>. A sophisticated use of gradientsand blending modes in layer masks is illustrated inSection&nbsp;<A HREF="node68.html#s7.compositing.proj3">7.3</A>.<P><H2><A NAME="SECTION001234000000000000000">&#160;</A><A NAME="5610">&#160;</A><A NAME="5611">&#160;</A><BR>4.3.4 Transparency as a Tool for Editing Masks</H2><P>To effectively edit masks, the image layer must be partially visiblebehind the mask so that it can be used as a guide for editing.  Thesemi-transparency of channel masks was discussed inSection&nbsp;<A HREF="node45.html#s4.paint-tools">4.3.1</A>, but how is it done for layermasks?<A NAME="5613">&#160;</A> It is done by using theOpacity slider in the Layers dialog.  The following exampledemonstrates its use.<P>Figure&nbsp;<A HREF="node45.html#f.masks.trans1">4.27</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.trans1">&#160;</A><A NAME="5616">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.27:</STRONG>Image with Two Layers and a Layer Mask</CAPTION><TR><TD><IMG SRC="img124.gif"ALT="Figure 4.27"></TD></TR></TABLE></DIV><BR>illustrates an image consisting of two layers.  The Layers dialogshown in Figure&nbsp;<A HREF="node45.html#f.masks.trans1">4.27</A>(b) shows that the lower layer isa photo of a woods and the upper layer an image of a fish, on anotherwise transparent layer.  The upper layer also has a layer mask,which is to be used to edit the fish image.  <P>The goal is to make parts of the fish transparent to create theillusion that the fish is partially behind some of the trees in thewoods.  This can be done with the layer mask by painting with black onthe desired areas of the mask (see Section&nbsp;<A HREF="node45.html#s4.paint-tools">4.3.1</A>) or bycutting away parts of the mask with a selection (seeSection&nbsp;<A HREF="node45.html#s4.masks-selections">4.3.2</A>).  However, to effectively edit thelayer mask using either approach, you must be able to see the outlineof the trees through the fish.  This is achieved by making the Fishlayer active and, then, lowering the value of the Opacity slider.<P>Figure&nbsp;<A HREF="node45.html#f.masks.trans2">4.28</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.trans2">&#160;</A><A NAME="6026">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.28:</STRONG>Decreasing the Opacity of the Top Layer and the SelectionObtained Using the <TT> Bezier Path</TT> Tool</CAPTION><TR><TD><IMG SRC="img125.gif"ALT="Figure 4.28"></TD></TR></TABLE></DIV><BR>illustrates the effect of lowering the Fish layer's opacity.  Becausethe trees can be perceived through the fish, it is easy now to editthe layer mask to achieve the desired effect.  The result of using the<TT>Bezier Path</TT> tool to make a selection is shown inFigure&nbsp;<A HREF="node45.html#f.masks.trans2">4.28</A>(b) (note that the opacity of the Fishlayer has been reset to 100%).<P>Making sure that the <TT>Active Background Color</TT> in the Toolbox is set toblack and that the layer mask is active in the Layers dialog, theselection is cut by typing <TT>C-x</TT> in the image window.  The resulton the image is shown in Figure&nbsp;<A HREF="node45.html#f.masks.trans3">4.29</A>(a),<BR><DIV ALIGN="CENTER"><A NAME="f.masks.trans3">&#160;</A><A NAME="5635">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.29:</STRONG>The Result of Editing the Layer Mask</CAPTION><TR><TD><IMG SRC="img126.gif"ALT="Figure 4.29"></TD></TR></TABLE></DIV><BR>and the thumbnail of the resulting mask can be seen inFigure&nbsp;<A HREF="node45.html#f.masks.trans3">4.29</A>(b).<P><H2><A NAME="SECTION001235000000000000000">&#160;</A><A NAME="s4.masks.anti-alias_and_feathering">&#160;</A><A NAME="5642">&#160;</A><A NAME="5643">&#160;</A><BR>4.3.5 Blurring of Masks and Other Effects</H2><P>Section&nbsp;<A HREF="node36.html#s3.anti-aliasing">3.1.2</A> discussed an edge-softening techniquecalled antialiasing<A NAME="5645">&#160;</A> and an edge-blending techniquecalled feathering.  Effects similar to antialiasing and feathering canbe had by applying blur filters to masks.<P>White pixels in a mask correspond to selected pixels in an imagelayer, and black pixels in the mask correspond to unselected imagepixels.  If there are no gray pixels between the black and whitezones, this gives the selection edges represented by the mask theharsh edge already seen in the discussion on antialiasing.  Blurring amask softens the sharp edges in the mask by creating a graded zone ofgray between the regions of black and white pixels.  The width of thegray zone is controlled by the blur radius.  The gray zones correspondto partially selected pixels in the image layer, and this is whatcreates the antialiasing/feathering effect for masks.<P>Figure&nbsp;<A HREF="node45.html#f.masks.blur1">4.30</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.blur1">&#160;</A><A NAME="5648">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.30:</STRONG>An Image and a Mask</CAPTION><TR><TD><IMG SRC="img127.gif"ALT="Figure 4.30"></TD></TR></TABLE></DIV><BR>is used to illustrate the use of blur filters on masks.Figure&nbsp;<A HREF="node45.html#f.masks.blur1">4.30</A>(a) shows an image of a wood duck, andFigure&nbsp;<A HREF="node45.html#f.masks.blur1">4.30</A>(b) shows a channel mask representing aselection of it.  Figure&nbsp;<A HREF="node45.html#f.masks.blur1">4.30</A>(c) shows the associatedChannels dialog.<P>A closer examination of the wood duck mask is shown inFigure&nbsp;<A HREF="node45.html#f.masks.blur2">4.31</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.blur2">&#160;</A><A NAME="5657">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.31:</STRONG>Aliased Mask Edge Softened Using Blur Filter</CAPTION><TR><TD><IMG SRC="img128.gif"ALT="Figure 4.31"></TD></TR></TABLE></DIV><BR>As can be seen, the mask has an unpleasant, hard, and aliased edge.This can be softened by blurring the mask.Figure&nbsp;<A HREF="node45.html#f.masks.blur2">4.31</A>(c) shows the result of applying the <TT>Gaussian Blur (IIR)</TT><A NAME="5663">&#160;</A> filter to themask.  The filter dialog is displayed inFigure&nbsp;<A HREF="node45.html#f.masks.blur2">4.31</A>(b), which shows the choice of blur radius.In general, a small radius produces an antialiasing effect, and alarge blur radius creates a feathering effect.  A blur radius of 1 wasused for this example.<P>Other interesting and artistic edge effects can be obtained byprocessing masks with one or more of the GIMP's large collection offilters, found in the <TT>Image:Filters</TT> menu.Figures&nbsp;<A HREF="node45.html#f.masks.filter1">4.32</A>, <A HREF="node45.html#f.masks.filter2">4.33</A>, and<A HREF="node45.html#f.masks.filter3">4.34</A> illustrate some examples.  <P>Figures&nbsp;<A HREF="node45.html#f.masks.filter1">4.32</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.filter1">&#160;</A><A NAME="6031">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.32:</STRONG>Applying the <TT> Waves</TT> Filter to the Wood Duck Mask</CAPTION><TR><TD><IMG SRC="img129.gif"ALT="Figure 4.32"></TD></TR></TABLE></DIV><BR>illustrates the <TT>Waves</TT><A NAME="5676">&#160;</A><A NAME="5677">&#160;</A>filter dialog, found in the <TT>Image:Filters/Distorts</TT> menu.  Theresulting effect on the wood duck mask is shown inFigures&nbsp;<A HREF="node45.html#f.masks.filter1">4.32</A>(b), and the result of applying this maskas a selection to cut away the image's background is shown inFigures&nbsp;<A HREF="node45.html#f.masks.filter1">4.32</A>(c).  Figure&nbsp;<A HREF="node45.html#f.masks.filter2">4.33</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.filter2">&#160;</A><A NAME="6033">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.33:</STRONG>Applying the <TT> Glass Tile</TT> Filter to the Wood Duck Mask</CAPTION><TR><TD><IMG SRC="img130.gif"ALT="Figure 4.33"></TD></TR></TABLE></DIV><BR>shows the <TT>Glass Tile</TT><A NAME="5688">&#160;</A><A NAME="5689">&#160;</A> filter dialog, found in the <TT>Image:Filters/Glass Effects</TT> menu.  Figures&nbsp;<A HREF="node45.html#f.masks.filter2">4.33</A>(b)and (c) show the effect of this filter on the mask and the image.Figure&nbsp;<A HREF="node45.html#f.masks.filter3">4.34</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.filter3">&#160;</A><A NAME="6035">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.34:</STRONG>Applying the <TT> Spread</TT> Filter to the Wood Duck Mask</CAPTION><TR><TD><IMG SRC="img131.gif"ALT="Figure 4.34"></TD></TR></TABLE></DIV><BR>shows the <TT>Spread</TT><A NAME="5699">&#160;</A><A NAME="5700">&#160;</A>filter dialog, found in the <TT>Image:Filters/Noise</TT> menu.Figures&nbsp;<A HREF="node45.html#f.masks.filter3">4.34</A>(b) and (c) show the effect of thisfilter on the mask and the image.<P>Many other interesting filter possibilities can be found.  Have fun!Experiment!<P><HR><H1><A NAME="SECTION001240000000000000000">&#160;</A><A NAME="s4.masks.conversions">&#160;</A><A NAME="5705">&#160;</A><A NAME="5706">&#160;</A><A NAME="5707">&#160;</A><A NAME="5708">&#160;</A><A NAME="5709">&#160;</A><A NAME="5710">&#160;</A><A NAME="5711">&#160;</A><BR>4.4 Conversions of Selections, Channel Masks, <BR>Layer Masks, and Alpha Channels</H1><P>As has been discussed many times already, selections, channel masks,layer masks, and alpha channels are all different implementations ofthe same thing.  They partition a layer into selected pixels,partially selected pixels, and unselected pixels.  Although they alldo the same thing, they do it in slightly different ways...waysthat are remarkably complementary.<P>Being able to convert a selection to a layer mask or an alpha channelto a channel mask is often useful, however, it may not always beobvious how to go about it.  As an aid to the reader, the table shownin Figure&nbsp;<A HREF="node46.html#f.masks.mask-matrix">4.35</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.mask-matrix">&#160;</A><A NAME="5714">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.35:</STRONG>Selections, Channel Masks, Alpha Channels, and Layer Masks: Table of Conversions</CAPTION><TR><TD><IMG SRC="img132.gif"ALT="Figure 4.35"></TD></TR></TABLE></DIV><BR>describes the steps required to convert from any one of the four typesto any other.  You may want to bookmark this page.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1535" HREF="node47.html#SECTION001251000000000000000">4.5.1 Using Masks to Refine Selections</A><LI><A NAME="tex2html1536" HREF="node47.html#SECTION001252000000000000000">4.5.2 The Quick Mask</A><LI><A NAME="tex2html1537" HREF="node47.html#SECTION001253000000000000000">4.5.3 Finding the Natural Mask</A><UL><LI><A NAME="tex2html1538" HREF="node47.html#SECTION001253100000000000000">4.5.3.1 Working with the <TT>Threshold</TT> Tool</A><LI><A NAME="tex2html1539" HREF="node47.html#SECTION001253200000000000000">4.5.3.2 The <TT>Threshold</TT> Tool Versus the <TT>Magic Wand</TT></A><LI><A NAME="tex2html1540" HREF="node47.html#SECTION001253300000000000000">4.5.3.3 Threshold and Decompose</A></UL></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001250000000000000000">4.5 Masks and Selections</A></H1><P>Chapter&nbsp;<A HREF="node35.html#c3.selections">3</A> described in detail the use of the GIMP'sselection tools; however, that discussion is incomplete.  A fullunderstanding of how to effectively work with selections requires adiscussion on how to integrate masks.  This section shows how masksare complementary to the selection tools and illustrates why thecombination of selections and masks is so powerful.<P><H2><A NAME="SECTION001251000000000000000">&#160;</A><A NAME="s4.refining">&#160;</A><A NAME="5722">&#160;</A><A NAME="5723">&#160;</A><A NAME="5724">&#160;</A><A NAME="5725">&#160;</A><BR>4.5.1 Using Masks to Refine Selections</H2><P>Masks are terrific tools for refining selections.  A carefulexamination of a mask can often reveal several problems.Figure&nbsp;<A HREF="node47.html#f.masks.refine1">4.36</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.refine1">&#160;</A><A NAME="5728">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.36:</STRONG>Image Illustrating a Selection</CAPTION><TR><TD><IMG SRC="img133.gif"ALT="Figure 4.36"></TD></TR></TABLE></DIV><BR>illustrates a selection made with the <TT>Bezier Path</TT> tool.  As willbe seen in a moment, this selection exhibits the three basic types ofselection problems.  To better examine these problems, the selectionis converted to a channel mask, and the selection itself is canceled.<P>The resulting channel mask is shown in Figure&nbsp;<A HREF="node47.html#f.masks.refine2">4.37</A>(a),<BR><DIV ALIGN="CENTER"><A NAME="f.masks.refine2">&#160;</A><A NAME="5735">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.37:</STRONG>A Mask Converted from the Selection</CAPTION><TR><TD><IMG SRC="img134.gif"ALT="Figure 4.37"></TD></TR></TABLE></DIV><BR>and Figure&nbsp;<A HREF="node47.html#f.masks.refine2">4.37</A>(b) shows the associated Channelsdialog.  Because it is difficult to make out the light blue waterbackground through a 50% transparent, black channel mask, the colorof the mask has been changed to yellow, as shown inFigure&nbsp;<A HREF="node47.html#f.masks.refine2">4.37</A>(c).<P>To see the problems associated with the selection, the <TT>Zoom</TT><A NAME="5742">&#160;</A> tool is used to magnify the image window.  Thisproduces the result shown in Figure&nbsp;<A HREF="node47.html#f.masks.refine3">4.38</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.masks.refine3">&#160;</A><A NAME="5745">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.38:</STRONG>Illustrating the Three Basic Selection Problems</CAPTION><TR><TD><IMG SRC="img135.gif"ALT="Figure 4.38"></TD></TR></TABLE></DIV><BR>This figure shows that in several regions the light blue color of thebackground is showing through from around the edges of the yellowmask.  This means that these pixels have been erroneously included aspart of the selection.<P>Figure&nbsp;<A HREF="node47.html#f.masks.refine3">4.38</A>(b) shows the same image as inFigure&nbsp;<A HREF="node47.html#f.masks.refine3">4.38</A>(a), but with the colors of the maskinverted.  The color inversion is done by making the channel maskactive and then using the <TT>Invert</TT><A NAME="5752">&#160;</A><A NAME="5753">&#160;</A><A NAME="5754">&#160;</A> function found in the <TT>Image:Image/Colors</TT> menu.Inverting the colors inverts the regions of the mask that correspondto selected and unselected pixels in the image.  Now it can be seenthat in some places, the dark pixels from the subject are showingthrough around the mask edges.  This means that they are mistakenlynot included in the set of selected pixels.<P>Finally, in both Figures&nbsp;<A HREF="node47.html#f.masks.refine3">4.38</A>(a) and (b) arough-edge, aliasing effect can be seen.<P>Each of these three problems can be solved by refining the mask.  Thiscan be accomplished using several different methods, but for this typeof fine work near a mask edge, the best choice is the <TT>Airbrush</TT><A NAME="5758">&#160;</A> tool from the Toolbox.  The <TT>Airbrush</TT>can apply a very light coat of paint, so it is a great touch-up tool.Working near the edge requires some blending of the background withthe subject to avoid aliasing.  When used with a light pressure the<TT>Airbrush</TT> is perfect for this.  <P>Figure&nbsp;<A HREF="node47.html#f.masks.airbrush">4.39</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.airbrush">&#160;</A><A NAME="6041">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.39:</STRONG>Introducing the <TT> Airbrush</TT> Tool</CAPTION><TR><TD><IMG SRC="img136.gif"ALT="Figure 4.39"></TD></TR></TABLE></DIV><BR>shows the <TT>Tool Options</TT> dialog<A NAME="5768">&#160;</A> for the<TT>Airbrush</TT>.  It is the Pressure option that interests us here.The Pressure slider is in units of percent, and the default value of10% is shown in Figure&nbsp;<A HREF="node47.html#f.masks.airbrush">4.39</A>(a).  The effect ofusing 10% pressure in conjunction with the soft brush chosen inFigure&nbsp;<A HREF="node47.html#f.masks.airbrush">4.39</A>(b) produces the top line painted inFigure&nbsp;<A HREF="node47.html#f.masks.airbrush">4.39</A>(c).  Each of the other lines is paintedwith the Pressure value labeled to the right of the line.  This figureshows that, for low pressures, the <TT>Airbrush</TT> tool produces a verylight layer of paint, great for touching up imperfect and aliasededges like the ones seen in Figure&nbsp;<A HREF="node47.html#f.masks.refine3">4.38</A>.<P>Using the <TT>Airbrush</TT> tool on the problem pixels shown inFigure&nbsp;<A HREF="node47.html#f.masks.refine3">4.38</A> produces the results shown inFigure&nbsp;<A HREF="node47.html#f.masks.refine4">4.40</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.masks.refine4">&#160;</A><A NAME="6043">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.40:</STRONG>Solving the Three Basic Selection Problems with the <TT> Airbrush</TT> Tool</CAPTION><TR><TD><IMG SRC="img137.gif"ALT="Figure 4.40"></TD></TR></TABLE></DIV><BR>The technique used in applying the <TT>Airbrush</TT> tool is as follows:<DL COMPACT><DT>1.<DD>Make the channel mask active.<DT>2.<DD>Use the <TT>Zoom</TT> tool to magnify the image to a sufficientresolution so that the paint can be applied to the problem edge areaswith precision.<DT>3.<DD>Set the <TT>Active Foreground Color</TT> to black by typing <TT>d</TT> inthe image window.<A NAME="5788">&#160;</A><DT>4.<DD>Lightly apply black paint to the problem areas with the <TT>Airbrush</TT>tool.  The black paint is useful for removing pixels which should notbe part of the selection.<DT>5.<DD>Invert the mask colors using <TT>Invert</TT> from the <TT>Image:Image/Colors</TT> menu, and work the new problem areas.  Because ofthe inversion of color, now the black paint is useful for includingpixels that should be part of the selection.<DT>6.<DD>Evaluate the precision of the applied paint, and correct for mistakesby making liberal use of the <TT>Undo</TT> (<TT>C-z</TT>) and <TT>Redo</TT>(<TT>C-r</TT>) functions.</DL><P><H2><A NAME="SECTION001252000000000000000">&#160;</A><A NAME="s4.quick-mask">&#160;</A><A NAME="5799">&#160;</A><BR>4.5.2 The Quick Mask</H2><P>The previous section showed you how a channel mask could be usedto refine a selection.  This is so useful that the GIMP has a specialpair of function buttons on the image window allowing a selection tobe quickly converted to a channel mask and vice versa.  These arecalled the <TT>Quick Mask</TT> buttons.  <P>Figure&nbsp;<A HREF="node47.html#f.masks.quick-mask1">4.41</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.quick-mask1">&#160;</A><A NAME="5803">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.41:</STRONG>Using the Quick Mask</CAPTION><TR><TD><IMG SRC="img138.gif"ALT="Figure 4.41"></TD></TR></TABLE></DIV><BR>illustrates an image with a selection.  It also shows a button circledat the lower-left side of the image window containing a red squareicon.  This is the <TT>Quick Mask</TT> button.  Clicking on it converts the selection to a mask, as shown inFigure&nbsp;<A HREF="node47.html#f.masks.quick-mask1">4.41</A>(b).  The button shown circled inFigure&nbsp;<A HREF="node47.html#f.masks.quick-mask1">4.41</A>(b) contains an icon showing a squaredrawn in a dashed line and resembling the Marching Ants.  Clicking onthis button reverts the quick mask to a selection.  Thus, the <TT>Quick Mask</TT> buttons can be used to quickly convert a selection to amask that can then be edited, as described inSection&nbsp;<A HREF="node47.html#s4.refining">4.5.1</A>, before being converted back to a selection.<P>Figure&nbsp;<A HREF="node47.html#f.masks.quick-mask2">4.42</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.quick-mask2">&#160;</A><A NAME="5814">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.42:</STRONG>Quick Mask Options</CAPTION><TR><TD><IMG SRC="img139.gif"ALT="Figure 4.42"></TD></TR></TABLE></DIV><BR>shows two features of the <TT>Quick Mask</TT> buttons.  Double-clickingeither of the buttons brings up the <TT>Edit QmaskAttributes</TT><A NAME="5820">&#160;</A> dialog.  This dialog,shown in Figure&nbsp;<A HREF="node47.html#f.masks.quick-mask2">4.42</A>(a), permits the defaultopacity and color of the mask to be modified.  The second feature ofthe quick mask is shown in Figure&nbsp;<A HREF="node47.html#f.masks.quick-mask2">4.42</A>(b).  Whenthe quick mask is created, it also appears in the Channels dialog withthe label Qmask in the Channel Title area.  This channel exists onlyas long as the quick mask and disappears as soon as the mask isreverted to a selection.<P><H2><A NAME="SECTION001253000000000000000">&#160;</A><A NAME="5824">&#160;</A><A NAME="5825">&#160;</A><A NAME="5826">&#160;</A><A NAME="5827">&#160;</A><BR>4.5.3 Finding the Natural Mask</H2><P>Performing a selection requires separating the subject, the part ofthe image that interests us, from the background.  Often the subjecthas colorspace features that differentiate it from the background, andthe goal of this section is to explain how to exploit this fact.Since the techniques described in this section depend on using animage's natural color features to make the selection, I call this <EM>finding the natural mask</EM>.  The methods are based on using two primarytools: <TT>Threshold</TT>, found in the <TT>Image:Image/Colors</TT> menu,and <TT>Decompose</TT>, found in <TT>Image:Image/Mode</TT>.  The naturalmask approach often allows the subject to be extracted in a single,bold operation.<P><H3><A NAME="SECTION001253100000000000000">&#160;</A><A NAME="s4.threshold">&#160;</A><BR>4.5.3.1 Working with the <TT>Threshold</TT> Tool</H3><P>The <TT>Threshold</TT> tool allows you to specify a range of values in animage.  All the pixels that are in the range of the selected valuesare mapped to white, and the rest are mapped to black.  <TT>Threshold</TT> is a powerful tool for automatically creating masks.  Thisis illustrated in the following example.<P>Figure&nbsp;<A HREF="node47.html#f.masks.threshold0">4.43</A><BR><DIV ALIGN="CENTER"><A NAME="f.masks.threshold0">&#160;</A><A NAME="5839">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.43:</STRONG>Pasting the Image into Its Own Channel Mask</CAPTION><TR><TD><IMG SRC="img140.gif"ALT="Figure 4.43"></TD></TR></TABLE></DIV><BR>illustrates the first step of using <TT>Threshold</TT> to create anatural mask.  In the example, we want to make a selection of thepartially blooming flower in Figure&nbsp;<A HREF="node47.html#f.masks.threshold0">4.43</A>(a).  Webegin by copying the image in Figure&nbsp;<A HREF="node47.html#f.masks.threshold0">4.43</A>(a) intoa channel mask.  This is done by creating a new channel mask in theChannels dialog, and then copying and pasting the image layer to themask using <TT>C-c</TT> and <TT>C-v</TT> (seeSection&nbsp;<A HREF="node30.html#s2.layers.cut-paste">2.4</A>).Figure&nbsp;<A HREF="node47.html#f.masks.threshold0">4.43</A>(b) shows the resulting Channelsdialog, and Figure&nbsp;<A HREF="node47.html#f.masks.threshold0">4.43</A>(c) shows that yellow ischosen as the mask color.  This color was chosen to contrast againstthe dark background of Figure&nbsp;<A HREF="node47.html#f.masks.threshold0">4.43</A>(a).  Since achannel mask is only 8 bits deep, pasting the color image into thechannel mask immediately converts it to a grayscale.  This can be seenin Figure&nbsp;<A HREF="node47.html#f.masks.threshold0">4.43</A>(d), which was obtained by togglingon the channel mask's Eye icon and toggling off the image layer's Eyeicon.<P>The <TT>Threshold</TT> dialog works by clicking and dragging out a partof the range of values in the histogram.  The range of values in thehistogram is in [0,255], and, as can be seen inFigure&nbsp;<A HREF="node47.html#f.masks.threshold00">4.44</A>(b),<BR><DIV ALIGN="CENTER"><A NAME="f.masks.threshold00">&#160;</A><A NAME="6049">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.44:</STRONG>Applying <TT> Threshold</TT> to the Channel Mask</CAPTION><TR><TD><IMG SRC="img141.gif"ALT="Figure 4.44"></TD></TR></TABLE></DIV><BR>the range that has been selected is from 72 to 253.  Sweeping outvalues in the <TT>Threshold</TT> dialog's histogram immediately maps towhite the pixels in the active layer (here the channel mask) havingthese values.  The pixels having values outside the swept range aremapped to black.  Thus, the channel mask that was a continuouslyvarying grayscale image is converted to a binary black-and-white one.Figure&nbsp;<A HREF="node47.html#f.masks.threshold00">4.44</A>(a) shows the channel mask before theapplication of <TT>Threshold</TT>, andFigure&nbsp;<A HREF="node47.html#f.masks.threshold00">4.44</A>(c) shows the channel mask after theapplication of <TT>Threshold</TT>.<P>Toggling the image layer's Eye icon back on allows the channel mask tobe seen over the image, as illustrated inFigure&nbsp;<A HREF="node47.html#f.masks.threshold1">4.45</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.masks.threshold1">&#160;</A><A NAME="5867">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.45:</STRONG>The Resulting Mask Defects as Seen in the Image Window</CAPTION><TR><TD><IMG SRC="img142.gif"ALT="Figure 4.45"></TD></TR></TABLE></DIV><BR>The parts of the image layer corresponding to the white parts of thechannel mask can be seen clearly in the image window.  The parts ofthe image corresponding to black parts of the channel mask are maskedby a partially transparent yellow film.  <P>As shown in Figure&nbsp;<A HREF="node47.html#f.masks.threshold1">4.45</A>, the result of using <TT>Threshold</TT> produces an almost perfect mask for the flower.  However,several defect regions remain.  There are certain parts of the imagethat should be masked but aren't, and there are parts that are maskedbut that shouldn't be.  These regions are easily removed using the<TT>Lasso</TT> and the <TT>Paintbrush</TT> tool.<P>Figure&nbsp;<A HREF="node47.html#f.masks.threshold2">4.46</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.threshold2">&#160;</A><A NAME="6052">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.46:</STRONG>Using the <TT> Lasso</TT> Tool to Remove Defect Regions</CAPTION><TR><TD><IMG SRC="img143.gif"ALT="Figure 4.46"></TD></TR></TABLE></DIV><BR>shows how the <TT>Lasso</TT><A NAME="5882">&#160;</A><A NAME="5883">&#160;</A> has been used to select parts of the image that should bemasked but aren't.  Because there are several offending regions, theirselections have been combined using the methods described inSection&nbsp;<A HREF="node37.html#s3-2.combining-selections">3.2</A>.  The parts of the channelmask that are in the selected regions are repaired (that is, convertedto black) in three steps.  The channel mask is made active by clickingon its thumbnail in the Channels dialog, the <TT>Active BackgroundColor</TT> is set to black, as shown inFigure&nbsp;<A HREF="node47.html#f.masks.threshold2">4.46</A>(b), and the selections are cut bytyping <TT>C-x</TT> in the image window.  The result is shown inFigure&nbsp;<A HREF="node47.html#f.masks.threshold2">4.46</A>(c).<P>Figure&nbsp;<A HREF="node47.html#f.masks.threshold3">4.47</A> shows how the stalk of the flower,which was not included in the mask, is restored using the <TT>Paintbrush</TT><A NAME="5891">&#160;</A> tool.Figure&nbsp;<A HREF="node47.html#f.masks.threshold3">4.47</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.threshold3">&#160;</A><A NAME="6054">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.47:</STRONG>Using the <TT> Paintbrush</TT> Tool to Fill in Missing Regions</CAPTION><TR><TD><IMG SRC="img144.gif"ALT="Figure 4.47"></TD></TR></TABLE></DIV><BR>shows the stalk of the flower zoomed by 300%, andFigure&nbsp;<A HREF="node47.html#f.masks.threshold3">4.47</A>(b) and (c) show that white is chosenas the <TT>Active Foreground Color</TT> and that a small hard brush has beenchosen from the <TT>Brush Selection</TT> dialog.  The <TT>Paintbrush</TT>cursor can be seen applying white paint to the mask over the region ofthe flower stalk in Figure&nbsp;<A HREF="node47.html#f.masks.threshold3">4.47</A>(a).  Thesemi-transparency of the mask facilitates the painting process.Figure&nbsp;<A HREF="node47.html#f.masks.threshold3">4.47</A>(d) shows the result of having fullyrestored the flower stalk.<P>For the final step in this example, Figure&nbsp;<A HREF="node47.html#f.masks.threshold4">4.48</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.threshold4">&#160;</A><A NAME="5906">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.48:</STRONG>Converting the Mask to a Selection</CAPTION><TR><TD><IMG SRC="img145.gif"ALT="Figure 4.48"></TD></TR></TABLE></DIV><BR>shows how the <TT>Channel to Selection</TT> function is applied byclicking on its icon in the Channel dialog's button bar.  Turning offthe visibility of the channel mask, the resulting selection is seen inFigure&nbsp;<A HREF="node47.html#f.masks.threshold4">4.48</A>(b).<P>This example shows how using <TT>Threshold</TT> can produce a selectionmuch more quickly than would have been possible with the <TT>BezierPath</TT> tool.  Making a Bezier path would have required placing andrefining a large number of control points.  In contrast, the procedureemployed with the <TT>Threshold</TT> tool required some experimentationwith values in the tool's dialog, followed by some rough selectionswith the <TT>Lasso</TT> and some painting with the <TT>Paintbrush</TT>.<P>A key element to making the <TT>Threshold</TT> tool work efficiently isfinding a reasonable range of values in the tool dialog's histogram.The example used in this section shows that it is not necessary tofind a perfect mask.  Rather, the goal is to find a mask thatseparates the subject from the background enough so that tools such asthe <TT>Lasso</TT> and the <TT>Paintbrush</TT> can be used to easily cleanup the defects.<P>The range of values used to create the mask in this example is shownin Figure&nbsp;<A HREF="node47.html#f.masks.threshold00">4.44</A>(b).  It is important to understandthat this result was obtained by using a trial-and-error, experimentalapproach.  Several contiguous regions of the histogram were swept outby the mouse, and, each time, the parts of the image that mapped towhite and black were observed.  A tip for finding useful regions is toexamine the ranges of values supporting the main bumps in thehistogram.  These are usually associated with major image features,and it is often the case that one of these bumps is the solution toour search.  When a reasonable range has been discovered, the dataentry boxes can be used to refine the end points of the range.<P>Although the <TT>Threshold</TT> tool is not a panacea and isn'tguaranteed to work, it is often successful.  It is worth trying toapply the <TT>Threshold</TT> tool before launching into a long selectionprocess with the <TT>Bezier Path</TT> tool.  Some good examples of using<TT>Threshold</TT> to make selection masks are illustrated inSections&nbsp;<A HREF="node68.html#s7.compositing.proj3">7.3</A> and<A HREF="node69.html#s7.compositing.proj4">7.4</A>.<P><H3><A NAME="SECTION001253200000000000000">&#160;</A><A NAME="5929">&#160;</A><A NAME="5930">&#160;</A><A NAME="5931">&#160;</A><BR>4.5.3.2 The <TT>Threshold</TT> Tool Versus the <TT>Magic Wand</TT></H3><P>The <TT>Magic Wand</TT>, presented in Section&nbsp;<A HREF="node36.html#s3.magic-wand">3.1.1</A>, isvery similar in principle to <TT>Threshold</TT> but not nearly aseffective.  As already described, the <TT>Magic Wand</TT> works bychoosing a seed pixel in the image and interactively setting athreshold that controls how many pixels around the seed are includedin the selection.  Thus, if the value of the pixel at the seed is <I>S</I>,and the value of the threshold is <I>T</I>, then the range of pixel valuesthat are included in the selection is [<I>S</I>-<I>T</I>,<I>S</I>+<I>T</I>].<P>Now suppose that the range of pixel values that separates the subjectfrom the background is [<I>R</I><SUB>1</SUB>,<I>R</I><SUB>2</SUB>].  To make the <TT>Magic Wand</TT> workon this image, the threshold must have the value <!-- MATH: $T=(R_2-R_1)/2$ --><I>T</I>=(<I>R</I><SUB>2</SUB>-<I>R</I><SUB>1</SUB>)/2 andthe seed must have the value <!-- MATH: $S=(R_1+R_2)/2$ --><I>S</I>=(<I>R</I><SUB>1</SUB>+<I>R</I><SUB>2</SUB>)/2.  The problem, then, isfinding a pixel in the subject having the correct seed value that,when experimenting with threshold values, will produce an acceptableresult.  This is impractical for several reasons, the main difficultybeing that there is no way to use the visual feedback from severaltries of the <TT>Magic Wand</TT> to discover a more refined solution.<P>On the other hand, <TT>Threshold</TT> requires only that the end pointsof the range be specified, so it's much better adapted toexperimentation.  It is easy to try several contiguous value-regions,and the visual feedback from this is very useful for improving thesearch.  In addition, the histogram in the <TT>Threshold</TT> dialogprovides important clues as to which regions may be most useful.<P>Finally, the algorithm used by the <TT>Magic Wand</TT> is slow, becausefor each change in the threshold value, it must recursively grow theselected region around the seed.  In comparison, the algorithm for<TT>Threshold</TT> is very fast, because it must only compare each pixel inthe image with a threshold.<P><H3><A NAME="SECTION001253300000000000000">&#160;</A><A NAME="s4.decompose_threshold">&#160;</A><A NAME="5944">&#160;</A><BR>4.5.3.3 Threshold and Decompose</H3><P>In the previous sections, <TT>Threshold</TT> was applied directly to theimage.  However, this tool can often be more effective when applied toan image color component.  The function <TT>Decompose</TT>, found in the<TT>Image:Image/Mode</TT> menu, can be used to separate an image intoits RGB and HSV components.  When the decomposition is RGB, <TT>Decompose</TT> creates three grayscale images containing the red, green,and blue channels of the image.  For HSV, three grayscales are alsocreated, but now they represent the hue, saturation, and valuecomponents of the image.  (See Chapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A> for anin-depth discussion of the relationship between an image and its RGBand HSV color components.)<P>Figure&nbsp;<A HREF="node47.html#f.masks.decompose1">4.49</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.masks.decompose1">&#160;</A><A NAME="6058">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.49:</STRONG>A Flower Image and the <TT> Decompose</TT> dialog</CAPTION><TR><TD><IMG SRC="img146.gif"ALT="Figure 4.49"></TD></TR></TABLE></DIV><BR>illustrates an image of a flower, andFigure&nbsp;<A HREF="node47.html#f.masks.decompose1">4.49</A>(b) shows the <TT>Decompose</TT> dialog.Either an RGB or HSV decomposition of the image can be performed byclicking on the appropriate radio button.  The CMY<A NAME="5958">&#160;</A> decomposition is not useful, because it produces resultsthat are identical to RGB when used with the <TT>Threshold</TT> tool.CMYK<A NAME="5960">&#160;</A> may produce interesting results, but onlyRGB and HSV are discussed here.<P>Figure&nbsp;<A HREF="node47.html#f.masks.decompose2">4.50</A>(a), (b), and (c) <BR><DIV ALIGN="CENTER"><A NAME="f.masks.decompose2">&#160;</A><A NAME="5963">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 4.50:</STRONG>The RGB and HSV Decompositions of the Flower</CAPTION><TR><TD><IMG SRC="img147.gif"ALT="Figure 4.50"></TD></TR></TABLE></DIV><BR>show the red, green, and blue components of the flower shown inFigure&nbsp;<A HREF="node47.html#f.masks.decompose1">4.49</A>(a).Figure&nbsp;<A HREF="node47.html#f.masks.decompose2">4.50</A>(d), (e), and (f) show the hue,saturation, and value components.  Note that for each of thecomponents, the relationship between the flower and its background isdifferent.  For example, the flower in both the red component and thesaturation component seems to be better separated from the backgroundthan for the other components.  Because the flower is a brightlysaturated orange-red, this should not be a surprise.  However, thepoint of using the <TT>Decompose</TT> tool is that it gives the <TT>Threshold</TT> tool an advantage that can be exploited when trying toextract a natural mask.  Examples of using this technique can be foundin Sections&nbsp;<A HREF="node68.html#s7.compositing.proj3">7.3</A> and <A HREF="node69.html#s7.compositing.proj4">7.4</A>.<P><HR><H1><A NAME="SECTION001260000000000000000">&#160;</A><A NAME="s4.problems">&#160;</A><A NAME="5975">&#160;</A><A NAME="5976">&#160;</A><BR>4.6 Common Problems and <BR>Frequently Asked Questions</H1><P>Masks can be tricky and, as with layers, it is sometimes possible torun into seemingly incomprehensible difficulties.  The reason isalmost always because the active layer is not what you think it is.The following lists some common problems you might run into withmasks.<P><UL><LI><B>I just saved a selection to a channel mask, and I can't modifycertain parts of the mask.  Why not?</B><P>The problem is that the selection is still active.  This means thatmodifications to the mask are allowed only in the selected region.Cancel the selection using <TT>Image:Select/None</TT> or by typing <TT>C-S-a</TT> in the image window.<P><LI><B>I just saved a selection to a channel mask, and I can no longerpaint or filter my image.  What's wrong?</B><P>Saving a selection to a channel automatically makes the new channelmask the active layer; however, if you check the Channels dialog,you'll see that the active channel is not visible.  Thus, the paintand filtering operations you are trying to use have been applied tothe channel mask, which can't be seen.  Either toggle on the channelmask visibility by clicking on its Eye icon in the Channels dialog, ormake the desired image layer active in the Layers dialog.<P><LI><B>I try cutting a selection in a mask or channel, and nothinghappens.  What's going on?</B><P>Cutting a selection in a mask has the effect of making the selectedmask pixels the background color (as shown by the <TT>ActiveBackground Color</TT> patch in the Toolbox).  If the selection is made ina black part of the mask, make the background color white.  If it ismade in a white part of the mask, change the background to black.Typing <TT>d</TT><A NAME="5985">&#160;</A> in the image window sets thedefault colors, which are black for the <TT>Active Foreground Color</TT>and white for the <TT>Active Background Color</TT>.  Typing <TT>x</TT>switches the foreground and background colors.<P><LI><B>I try painting in a layer mask, but the associated image doesn'tbecome transparent/opaque where I painted. I only get paint marks onthe image.  Why?</B><A NAME="5990">&#160;</A><P>The layer mask is not active.  Make sure you select it by clicking onits thumbnail in the Layers dialog.<P><LI><B>I am trying to use the paint tools, but the results are strange.Sometimes I don't get the color indicated by the <TT>ActiveForeground Color</TT> patch, and other times I don't get anything at all.Is my GIMP broken?</B><P>No, the GIMP is not broken.  Check the Mode menu in the <TT>BrushSelection</TT> dialog.  If the blend mode is not set to <TT>Normal</TT>, thisexplains your problem.<P></UL><P><HR><H1><A NAME="SECTION001300000000000000000">&#160;</A><A NAME="c5.colorspaces">&#160;</A><A NAME="6990">&#160;</A><BR>5. Colorspaces and Blending Modes</H1><P>It is amazing that almost every color we see can be decomposed into amixture of just three primarycolors.<A NAME="6991">&#160;</A><A NAME="6992">&#160;</A>  Most childrenlearn this at school and know that the primary colors are blue,yellow, and red.  Using finger paints, kids can experiment making theso-called secondary colors green, orange, and purple.  If hearingworked this way, every musical note could be decomposed into a sum ofjust three tones.  Three tones might make a nice guitar chord, butit's not enough to rock-and-roll.<P>This interesting fact, that three colors suffice, is due to the wayhuman vision functions.  There are three different types of cones inthe eye (red, green, and blue); this is what accounts for only threecolors being needed.  The fact that all the colors can be reproducedby mixing only three is extremely useful.  It's like an alphabet.With a small collection of letters, any word can be made and anymeaning can be conveyed.  The lesson is the same for color.  With onlythree color phosphors a computer monitor can, in principle, expressany color; with only three color inks, in principle, a printer canprint any color.<P>There are some practical limitations to the concept of reproducing allcolors with only three primaries.  However, without going into moredetail, it suffices to know that the set of colors that can be made byadding different amounts of three primaries is called a colorspace.The shape of the space defined in this way is a cube.<A NAME="6993">&#160;</A><P>In principle, the three primaries used to produce a colorspace are notunique.  In theory, any triple of independent colors can be used todecompose a colorspace.  However, in practice, colorspaces created bytwo different sets of primaries are not identical.  Typically, thereis a part of the color range of one space that cannot be reproduced bythe other.<P>The best choice of primaries usually depends on the type of physicaldevice used to create the color.  Monitors use red, green, and bluephosphors to create a colorspace called RGB.  Printers use cyan,magenta, and yellow inks and work in a colorspace called CMY.  It isthe physical way colors are combined that explains the two spaces.Monitors <EM>emit</EM> light, whereas inks only <EM>reflect</EM> light.When we shine a white light on ink, what we see is the color componentof the white light that is reflected and not absorbed by the ink.<P>Knowing about colorspaces is important in the GIMP for severalreasons.  To effectively correct color in an image requires somenotions about how colors interact.  Furthermore, looking at differentcolor components of an image can often be quite useful for makingselections and masks.<P>This chapter is composed of two main parts.  The first part beginswith a tutorial on three colorspaces: RGB, HSV, and CMYK.  The RGBspace is discussed in detail, and this is followed by a description ofthe relationship between the RGB and HSV spaces.  HSV is a moreperceptually useful space than RGB and finds many uses in the GIMP.Although the GIMP is not CMYK-capable, this important pre-presscolorspace is also discussed.  Its benefits and drawbacks aredescribed and its importance to pre-press is explained.<P>The second part of the chapter presents transparency and the GIMP's 16blending modes from a colorspace perspective.  Blending modes arepowerful tools for combining colors between layers.  You can also usethem to control how the painting tools apply color.  The colorspacepresentation in the first part of this chapter will be very useful inunderstanding how these modes work.  The final section of this chapterpresents some practical uses of the blending modes.<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html1563" HREF="node50.html">5.1 The RGB Colorspace</A><LI><A NAME="tex2html1564" HREF="node51.html">5.2 The HSV Colorspace</A><LI><A NAME="tex2html1565" HREF="node52.html">5.3 Relating HSV to RGB</A><LI><A NAME="tex2html1566" HREF="node53.html">5.4 The Subtractive Color Systems CMY <BR>and CMYK</A><LI><A NAME="tex2html1567" HREF="node54.html">5.5 Conversion to Grayscale</A><LI><A NAME="tex2html1568" HREF="node55.html">5.6 The Blending Modes</A><UL><LI><A NAME="tex2html1569" HREF="node55.html#SECTION001361000000000000000">5.6.1 The <TT>Normal</TT>, <TT>Dissolve</TT>, and <TT>Behind</TT>Blending Modes</A><LI><A NAME="tex2html1570" HREF="node55.html#SECTION001362000000000000000">5.6.2 The <TT>Addition</TT>, <TT>Subtract</TT>, and <TT>Difference</TT>Blending Modes</A><LI><A NAME="tex2html1571" HREF="node55.html#SECTION001363000000000000000">5.6.3 The <TT>Multiply (Burn)</TT>, <TT>Divide (Dodge)</TT>, <TT>Screen</TT>,and <TT>Overlay</TT> Blending Modes</A><LI><A NAME="tex2html1572" HREF="node55.html#SECTION001364000000000000000">5.6.4 The <TT>Darken Only</TT> and <TT>Lighten Only</TT> Blending Modes</A><LI><A NAME="tex2html1573" HREF="node55.html#SECTION001365000000000000000">5.6.5 The <TT>Hue</TT>, <TT>Saturation</TT>, <TT>Value</TT>, and <TT>Color</TT> Blending Modes</A></UL><LI><A NAME="tex2html1574" HREF="node56.html">5.7 Opacity and Transparency</A><LI><A NAME="tex2html1575" HREF="node57.html">5.8 Practical Uses of Blending Modes</A><UL><LI><A NAME="tex2html1576" HREF="node57.html#SECTION001381000000000000000">5.8.1 Colorization</A><LI><A NAME="tex2html1577" HREF="node57.html#SECTION001382000000000000000">5.8.2 Realistic Shadows and Highlights</A></UL><LI><A NAME="tex2html1578" HREF="node58.html">5.9 Common Problems and <BR>Frequently Asked Questions</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001310000000000000000">&#160;</A><A NAME="s5.rgb-colorspace">&#160;</A><A NAME="6998">&#160;</A><A NAME="6999">&#160;</A><BR>5.1 The RGB Colorspace</H1><P>The RGB colorspace is important to us because it is what we see whenwe look at a color monitor.  The monitor mixes together differentamounts of red, green, and blue primaries.  Because of this, thecolors that can be seen on a computer monitor can be represented astriples of numbers or as vectors in a three-dimensionalcube.<A NAME="7000">&#160;</A>  The amount of each primary contained ina color can be represented by a number in a fixed range.  Because theGIMP uses 8 bits per primary color channel, the range per primary is 0to 255 (2<SUP>8</SUP>=256).  Here, 0 means no primary is used and 255 meansthat there is as much primary as the monitor can produce.  Althoughthere are issues with white balance, calibration, and human visualperception, it is presumed that the three primaries combined at fullstrength produce white and the three combined at zero strength produceblack.  Of course, the black produced is no deeper than that of themonitor when turned off.<P>When it is useful to talk about colors in numeric terms, as it is inChapter&nbsp;<A HREF="node59.html#c6.touchup">6</A>, which discusses color correction, we willuse a special notation to designate colors.  For example, the purplecomposed of a red at 172, a green at 83, and a blue at 232 will bedenoted <!-- MATH: $172^R 83^G 232^B$ -->172<SUP><I>R</I></SUP> 83<SUP><I>G</I></SUP> 232<SUP><I>B</I></SUP>.  This color isillustrated in Figure&nbsp;<A HREF="node50.html#f.colorspaces.color_selection">5.1</A>,<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.color_selection">&#160;</A><A NAME="7004">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.1:</STRONG>Representing a Color with an RGB Triple: Purple=<!-- MATH: $172^R 83^G232^B$ -->172<SUP><I>R</I></SUP> 83<SUP><I>G</I></SUP>232<SUP><I>B</I></SUP></CAPTION><TR><TD><IMG SRC="img148.gif"ALT="Figure 5.1"></TD></TR></TABLE></DIV><BR>which shows how the color is composed using the <TT>Color Selection</TT>tool.  This tool is opened by clicking on the<TT>Active Foreground Color</TT> or <TT>Active Background Color</TT> patchesin the toolbox.  The tool dialog can be used to display RGB colors.These are dialed in using the sliders or can be entered numerically.The selected color appears in a patch at the upper right of thedialog.  What we have here is digital finger paint!<P>As you will see later in this chapter, it is useful to think of thetriples formed by the primaries as a color cube where each of theprimaries forms one of the principle axes.  The RGB color cube isillustrated in Figure&nbsp;<A HREF="node50.html#f.colorspaces.rgb_cube">5.2</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.rgb_cube">&#160;</A><A NAME="7013">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.2:</STRONG>The RGB Color Cube</CAPTION><TR><TD><IMG SRC="img149.gif"ALT="Figure 5.2"></TD></TR></TABLE></DIV><BR>Each axis of the cube represents values of red, green, or blue in therange [0,255].  The red axis, labeled R, shows the associated colorscale beneath it.  The green and blue axes are illustrated similarly.As mentioned earlier, 0 means that the monitor does not emit theprimary color and 255 means that it emits the maximum.  Values between0 and 255 yield gradations in the color's intensity.<P>As the word colorspace implies, colors act like vectors.  They can becombined by addition and subtraction to obtain other colors in thecube.  Thus, the origin of the cube, or <!-- MATH: $0^R 0^G 0^B$ -->0<SUP><I>R</I></SUP> 0<SUP><I>G</I></SUP> 0<SUP><I>B</I></SUP>, represents thetotal absence of color, which is black.  The far corner from theorigin is the sum of the highest intensities of red, green, and blue,or <!-- MATH: $255^R 255^G 255^B$ -->255<SUP><I>R</I></SUP> 255<SUP><I>G</I></SUP> 255<SUP><I>B</I></SUP>.  This produces the color white, which is whythis corner of the cube is labeled W inFigure&nbsp;<A HREF="node50.html#f.colorspaces.rgb_cube">5.2</A>.  The other corners of the cuberepresent the various primary and secondary colors.  We've alreadyencountered red, green, and blue.  The remaining three are cyan,magenta, and yellow.  From the labels inFigure&nbsp;<A HREF="node50.html#f.colorspaces.rgb_cube">5.2</A>, it can be seen that adding 255red to 255 green makes <!-- MATH: $255^R 255^G 0^B$ -->255<SUP><I>R</I></SUP> 255<SUP><I>G</I></SUP> 0<SUP><I>B</I></SUP> or yellow, adding 255 red to255 blue makes <!-- MATH: $255^R 0^G 255^B$ -->255<SUP><I>R</I></SUP> 0<SUP><I>G</I></SUP> 255<SUP><I>B</I></SUP> or magenta, and adding 255 green to255 blue makes <!-- MATH: $0^R 255^G 255^B$ -->0<SUP><I>R</I></SUP> 255<SUP><I>G</I></SUP> 255<SUP><I>B</I></SUP> or cyan.<P>Note that the main diagonal of the RGB cube is illustrated inFigure&nbsp;<A HREF="node50.html#f.colorspaces.rgb_cube">5.2</A> as a line drawn between the blackorigin at 0 and white at W.  This line represents the colors in theRGB cube that consist of equal amounts of red, green, and blue.  Allthe points on this line are gray.  The closer to the origin, thedarker the gray; the closer to <I>W</I>, the lighter.  It is for thisreason that the main diagonal of the RGB cube is referred to as the<EM>neutral axis</EM><A NAME="7021">&#160;</A><A NAME="7022">&#160;</A>.  Grays are neutral because they prefer no hue; they containequal quantities of red, green, and blue.<P><HR><H1><A NAME="SECTION001320000000000000000">&#160;</A><A NAME="s5.hsv">&#160;</A><A NAME="7025">&#160;</A><A NAME="7026">&#160;</A><BR>5.2 The HSV Colorspace</H1><P>The perception of color and our way of talking about it in everydaylife is not well served by the RGB colorspace.  If we're thinking ofrepainting the walls of the living room, for example, we usually thinkabout what shade of color it should be, how bright we want it, andwhether it should be pastel or vivid.<P>Typically, the first thing we usually notice about a color is itshue.<A NAME="7027">&#160;</A><A NAME="7028">&#160;</A>  Hue describes the shade of color and wherethat color it is found in the color spectrum.  Red, yellow, and purpleare words that describe hue.  Figure&nbsp;<A HREF="node51.html#f.colorspaces.hsv_cube">5.3</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.hsv_cube">&#160;</A><A NAME="7031">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.3:</STRONG>Hue, Saturation, and Value</CAPTION><TR><TD><IMG SRC="img150.gif"ALT="Figure 5.3"></TD></TR></TABLE></DIV><BR>illustrates the range of hues, H, as a circle represented by valuesfrom 0 to 360.  The reasons for this will become clear shortly.<P>The next most significant aspect of color is typically thesaturation,<A NAME="7035">&#160;</A><A NAME="7036">&#160;</A> S.  Thesaturation describes how pure the hue is with respect to a whitereference.  For example, a color that is all red and no white is fullysaturated.  If we add some white to the red, the result becomes morepastel, and the color shifts from red to pink.  The hue is still redbut it has become less saturated.  This is illustrated in the verticalbar of Figure&nbsp;<A HREF="node51.html#f.colorspaces.hsv_cube">5.3</A>.  Saturation is apercentage that ranges from 0 to 100.  A pure red that has no white is100% saturated.<P>Finally, a color also has abrightness.<A NAME="7038">&#160;</A><A NAME="7039">&#160;</A>  This is arelative description of how much light is coming from the color.  Ifthe color reflects a lot of light, we would say that it is bright.Imagine seeing a red sportscar during the day.  Its color looksbright.  Compare this with the perception of the car as night isfalling.  We can see that the car is red but it looks duller becauseambient<A NAME="7040">&#160;</A><A NAME="7041">&#160;</A> illuminationis reflecting less light into the eye.  Less light means the colorlooks darker.  In the GIMP, the most important measure of brightnessis measured by a quantity called value.  However, there are also othermeasures of brightness that will be introduced shortly.  For themoment, though, the horizontal bar inFigure&nbsp;<A HREF="node51.html#f.colorspaces.hsv_cube">5.3</A> illustrates a range of red values.Value, like saturation, is a percentage that goes from 0 to 100.  Thisrange can be thought of as the amount of light illuminating a color.For example, when the hue is red and the value is high the color looksbright.  When the value is low it looks dark.<P>Thus, hue, saturation, and value are like an alternative colorspace.Any color can be decomposed into these three components and, like forRGB, it is possible to represent this space as a cube.<A NAME="7043">&#160;</A>  Figure&nbsp;<A HREF="node51.html#f.colorspaces.hsv-ex">5.4</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.hsv-ex">&#160;</A><A NAME="7046">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.4:</STRONG>Decomposing a Color Image into its HSV Components</CAPTION><TR><TD><IMG SRC="img151.gif"ALT="Figure 5.4"></TD></TR></TABLE></DIV><BR>illustrates the result of using <TT>Image:Image/Mode/Decompose</TT><A NAME="7051">&#160;</A> on the colorimage in Figure&nbsp;<A HREF="node51.html#f.colorspaces.hsv-ex">5.4</A>(a).  Choosing the HSVoption in the <TT>Decompose</TT> dialog produces thehue,<A NAME="7054">&#160;</A><A NAME="7055">&#160;</A>saturation,<A NAME="7056">&#160;</A><A NAME="7057">&#160;</A> andvalue<A NAME="7058">&#160;</A> decomposition shown inFigures&nbsp;<A HREF="node51.html#f.colorspaces.hsv-ex">5.4</A>(b), (c), and (d).  It isinteresting to note that hue really doesn't change much.  It is almostconstant over broad regions of the image.  For, example, althoughthere is significant detail in the saturation and value components ofthe sky, the hue is quite uniform there.  Of the three, it is thevalue component that is the most detailed.<P>Because colors are created on the monitor using mixes of red, green,and blue, it is useful and instructive to see how the HSV colorspacelives inside of the RGB cube.<A NAME="7060">&#160;</A><P><HR><H1><A NAME="SECTION001330000000000000000">&#160;</A><A NAME="s.colorspaces.hsv2rgb">&#160;</A><A NAME="7063">&#160;</A><BR>5.3 Relating HSV to RGB</H1><P>To better understand the HSV and RGB colorspaces, it helps tounderstand their relationship.  A very useful exercise is to identifythe parts of the RGB cube that correspond to surfaces of constant hue,saturation, and value.<P>We begin by better definingbrightness.<A NAME="7064">&#160;</A><A NAME="7065">&#160;</A>  This term wasintroduced in the previous section, and it is a measure of the visualperception of how much light an area is emitting.  A lamp with avariable control switch allows the level of brightness to be changed.Turning the lamp up increases our perception of brightness.  Note thatthe notion of brightness does not depend on the color of the light.It makes as much sense to talk about the brightness of a red lamp asit does a white one.<P>A color monitor is just a collection of thousands of lamps (that is,pixels) that emit red, green, and blue light.  Because each of thelamps can be independently controlled, the total brightness of an areaon the monitor is the sum of brightness from each color.  Colors ofequal brightness in the RGB cube, then, are those whose three colorcomponents sum to the same value.  For a particular level ofbrightness, this represents a plane perpendicular to the neutral axis(that is, <!-- MATH: $R+G+B=\mbox{constant}$ --><IMG WIDTH="199" HEIGHT="37" ALIGN="MIDDLE" BORDER="0" SRC="img152.gif" ALT="$R+G+B=\mbox{constant}$">).  Figure&nbsp;<A HREF="node52.html#f.colorspaces.val">5.5</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.val">&#160;</A><A NAME="7069">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.5:</STRONG>Planes of Constant Brightness in the RGB Cube</CAPTION><TR><TD><IMG SRC="img153.gif"ALT="Figure 5.5"></TD></TR></TABLE></DIV><BR>shows three examples of planes perpendicular to the neutral axis inthe RGB cube.  The cube in Figure&nbsp;<A HREF="node52.html#f.colorspaces.val">5.5</A>(a) shows thedarkest plane, the cube in Figure&nbsp;<A HREF="node52.html#f.colorspaces.val">5.5</A>(c) thelightest, and the cube in Figure&nbsp;<A HREF="node52.html#f.colorspaces.val">5.5</A>(b) a plane ofintermediate brightness.  Note how the colors in each plane seem aboutequally bright.  The three cubes in the figure show color planes at25, 50, and 75% brightness.  Pure white and pure black have abrightness of be 0% and 100%, respectively, and consist of singlepoints in the cube.<P>There are many concepts closely related to brightness and that havevarious useful properties.  Brightness is formally defined to be(<I>R</I>+<I>G</I>+<I>B</I>)/3; it is a physical property of color and does notcorrespond well to human color perception.  For this reason,brightness is not actually used in the GIMP.  However, the GIMP doesuse<UL><LI>lightness,<!-- MATH: $L=[\max(R,G,B)+\min(R,G,B)]/2$ --><IMG WIDTH="326" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img154.gif" ALT="$L=[\max(R,G,B)+\min(R,G,B)]/2$">,<LI>value, <!-- MATH: $V=\max(R,G,B)$ --><IMG WIDTH="163" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img155.gif" ALT="$V=\max(R,G,B)$">,and<LI>luminance, <!-- MATH: $Y=0.30 R + 0.59 G + 0.11B$ --><I>Y</I>=0.30 <I>R</I> + 0.59 <I>G</I> + 0.11<I>B</I>.</UL>Luminance<A NAME="7078">&#160;</A><A NAME="7079">&#160;</A><A NAME="7080">&#160;</A><A NAME="7081">&#160;</A><A NAME="7082">&#160;</A><A NAME="7083">&#160;</A>is the representation of brightness that corresponds best to humanperception because the weightings 0.30, 0.59, and 0.11 most closelymatch the sensitivity of the eye to red, green, and blue.<P>Figure&nbsp;<A HREF="node52.html#f.colorspaces.proj2neutral">5.6</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.proj2neutral">&#160;</A><A NAME="7086">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.6:</STRONG>Different Projections Onto the Neutral Axis</CAPTION><TR><TD><IMG SRC="img156.gif"ALT="Figure 5.6"></TD></TR></TABLE></DIV><BR>shows how the different definitions for brightness project onto theneutral axis.  The figure shows the position in the RGB cube of arepresentative color, <!-- MATH: $220^R 60^G 120^B$ -->220<SUP><I>R</I></SUP> 60<SUP><I>G</I></SUP> 120<SUP><I>B</I></SUP>, and the locations on theneutral axis corresponding to the value, <I>V</I>, the lightness, <I>L</I>, andthe luminance, <I>Y</I>.  As can be seen fromFigure&nbsp;<A HREF="node52.html#f.colorspaces.proj2neutral">5.6</A>, value is the brightest.  Theluminance and the lightness are variable and either one can be thedarkest depending on the choice of the RGB triple.<P>Next, we define saturation.<A NAME="7091">&#160;</A><A NAME="7092">&#160;</A>The definition of saturation is related to that of brightness.Saturation is the relative colorfulness of an area with respect to itsbrightness.  What is colorfulness?  An answer can be given in thecontext of the RGB cube and the neutral axis.  As already noted, theneutral axis is the diagonal in the cube going from <!-- MATH: $0^R 0^G 0^B$ -->0<SUP><I>R</I></SUP> 0<SUP><I>G</I></SUP> 0<SUP><I>B</I></SUP> to<!-- MATH: $255^R 255^G 255^B$ -->255<SUP><I>R</I></SUP> 255<SUP><I>G</I></SUP> 255<SUP><I>B</I></SUP>, and which consists of black, white, and thegrayscale between them.  Thus, in the usual sense, this axis has nocolor (that is, hue).  The colorfulness of any point in the RGB cube,then, is proportional to its perpendicular distance to the neutralaxis.  Points closer to the axis are less colorful (that is, closer togray) and those that are further away are more colorful.  Thesaturation, then, of a point in the RGB cube is the ratio of itscolorfulness to its brightness.<P>This means that surfaces of constant saturation in the RGB cube arecones centered around the neutral axis.Figure&nbsp;<A HREF="node52.html#f.colorspaces.sat">5.7</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.sat">&#160;</A><A NAME="7095">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.7:</STRONG>Cones of Constant Saturation in the RGB Cube</CAPTION><TR><TD><IMG SRC="img157.gif"ALT="Figure 5.7"></TD></TR></TABLE></DIV><BR>shows two instances of the RGB cube.  The cube inFigure&nbsp;<A HREF="node52.html#f.colorspaces.sat">5.7</A>(a) shows the cone corresponding to 20%saturation and that in Figure&nbsp;<A HREF="node52.html#f.colorspaces.sat">5.7</A>(b) to 70%saturation.  Note that the colors on the rightmost cone seem morevivid because they are more saturated.  The colors of the leftmostcone are much paler because their colors are more relatively neutral.When a color is more neutral we call itpastel.<P>Finally, the definition of hue<A NAME="7101">&#160;</A><A NAME="7102">&#160;</A> is relatedto what we colloquially think of as color.  The hue of a point in theRGB cube is defined to be its angular position around the neutralaxis.  Looking at the corners of the RGB cube shown inFigure&nbsp;<A HREF="node50.html#f.colorspaces.rgb_cube">5.2</A>, you can see that red, yellow,green, cyan, blue, and magenta are distributed equally in angle aroundthe neutral axis.  Thus, the wedge defined by the neutral axis and anypoint on the surface of the cube is a plane of constant hue.<P>Figure&nbsp;<A HREF="node52.html#f.colorspaces.hue">5.8</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.hue">&#160;</A><A NAME="7106">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.8:</STRONG>Wedges of Constant Hue in the RGB Cube</CAPTION><TR><TD><IMG SRC="img158.gif"ALT="Figure 5.8"></TD></TR></TABLE></DIV><BR>illustrates three instances of the RGB cube with different wedges ofconstant hue.  Because hue is a function of angle, its range is from 0to 360 degrees.  The red corner of the cube is defined to be the hueat 0, which, forcibly, is also the hue at 360.  This hue is shown inFigure&nbsp;<A HREF="node52.html#f.colorspaces.hue">5.8</A>(b).  The cube inFigure&nbsp;<A HREF="node52.html#f.colorspaces.hue">5.8</A>(a) shows a hue of 330, which is purple,and that in Figure&nbsp;<A HREF="node52.html#f.colorspaces.hue">5.8</A>(c) a hue of 30, which isorange.  Note that although the hue of each wedge is constant, thebrightness and saturation vary over the range of possible values.<P>Figure&nbsp;<A HREF="node52.html#f.colorspaces.hsv_cube1">5.9</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.hsv_cube1">&#160;</A><A NAME="7115">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.9:</STRONG>The HSV Coordinates in the RGB Color Cube</CAPTION><TR><TD><IMG SRC="img159.gif"ALT="Figure 5.9"></TD></TR></TABLE></DIV><BR>summarizes the relationship between RGB and HSV.  Although, theneutral axis represents brightness and not value, I will often abusethis notion and refer to it as the value axis.  The model shown inFigure&nbsp;<A HREF="node52.html#f.colorspaces.hsv_cube1">5.9</A> will be useful for understandingthe explanations of the color blending modes described later in thischapter.<P>With the HSV coordinate system in mind several observations can bemade about regions of color in the RGB cube.  The first is that thecyan, magenta, and yellow vertices of the cube represent brightercolors than red, green, and blue because these latter project lowerdown onto the neutral axis.  Similarly, all colors in the pyramiddefined by the C, Y, M, and W vertices correspond to lighter colors,and the pyramid defined by the origin and the R, G, and B verticescorrespond to darker colors.  Colors near the neutral axis in the cubewill have a more pastel or washed out look because they are lesssaturated, and colors further away from this axis will appear morevivid.<P><HR><H1><A NAME="SECTION001340000000000000000">&#160;</A><A NAME="s.colorspaces.cmyk">&#160;</A><A NAME="7122">&#160;</A><A NAME="7123">&#160;</A><A NAME="7124">&#160;</A><A NAME="7125">&#160;</A><BR>5.4 The Subtractive Color Systems CMY <BR>and CMYK</H1><P>A color monitor emits light and consequently relies on the RGBcolorspace, which is an additive color system.  Ink on paper, however,is a totally different story.  Ink absorbs light and the color we seefrom it is the light that was reflected and not absorbed.  If we shinea white light on an area and the color seen is cyan, it is because thered component of the white light was absorbed leaving only cyan to bereflected.  Similarly, magenta absorbs green, and yellow absorbs blue.Thus, the cyan, magenta, and yellow colors make a subtractive colorspace, which is the anti-space of RGB.  This colorspace is calledCMY for cyan, magenta, and yellow.For a pixel that has R, G, and B components in the RGB colorspace, thecorresponding C, M, and Y components are just (255-R), (255-G), and(255-B).<P>Due to the physical nature of colored inks, the CMY colorspace isperfect for working with printed images.  Or almost.  In principle,the addition of equal amounts of cyan, magenta, and yellow is likesubtracting equal amounts of red, green, and blue.  We know that equalamounts of R, G, and B make a neutral color, so equal amounts of C, M,and Y do too.  Thus, adding large and equal amounts of cyan, magenta,and yellow makes black, and adding very small amounts makes a colorthat is close to white.  At least this is true when CMY is used toprint on white paper.<P>In practice, due to imperfections in inks, adding equal amounts ofcyan, magenta, and yellow does not make a deep dark black.  Rather, itproduces a muddy brown.  To remedy this problem, printers subtract outsome of the cyan, magenta, and yellow from an image and replace itwith black.  This new colorspace is calledCMYK, and it significantly improvesthe depth and tonal range of printed images.  Here, the K in CMYKstands for black.  <P>How much cyan, magenta, and yellow can be subtracted out and replacedby black?  Because neutral colors require equal amounts of cyan,magenta, and yellow, the most that can be subtracted out for a pixelis the minimum of its C, M, and Y components.  Thus, <!-- MATH: $K=\min(C,M,Y)$ --><IMG WIDTH="165" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img160.gif" ALT="$K=\min(C,M,Y)$">is the maximum black that can be extracted, and the resulting newvalues of C, M, and Y are just the old values less this value of K.Although choosing K to be the minimum of C, M, and Y is reasonable, itis not necessary; it can also be chosen to be less than this value.<P>In addition to CMYK's natural relationship to printing because itssubtractive qualities mirrors that of inks, it also has anotherimportant, more pragmatic advantage.  Replacing equal amounts of threecolored inks with a single black one can significantly reduce theamount of ink printed on the paper.  This means that the ink will dryfaster and the printing presses can produce more copy in the sameamount of time.<P>There are also significant advantages to CMYK when doing colorcorrection on an image that will end up in a printed format (see, forexample, [<A HREF="node87.html#margulis">6</A>]).  The most significant is that the range ofcolors, known as the color gamut, that can be produced with inks issignificantly smaller than what can be created on a color monitor.Thus, it isn't sensible to invest a lot of time working on an RGBimage only to convert it to CMYK for printing at the end.  This willmore than likely produce many out of gamut colors.  When the finalresult is a <EM>printed</EM> image it is more sensible to convert to CMYKbefore performing any color transformations.<P>Unfortunately, the GIMP provides very little support for working inCMYK.  There is the <TT>Decompose</TT><A NAME="7129">&#160;</A>function, found in the <TT>Image:Image/Mode</TT> menu, which offers aCMYK option in its dialog.  This is not terribly useful, though.  Tomake the GIMP truly pre-press capable, the following is needed:<UL><LI>The ability to set K in the range 0 to <!-- MATH: $\min(C,M,Y)$ --><IMG WIDTH="121" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img161.gif" ALT="$\min(C,M,Y)$">.<LI>The ability to convert RGB to CMYK while applying color gamutlimitations.<LI>The ability to work in CMYK space just like in RGB space.  This meansa Channels dialog with C, M, Y, and K components and color editingfunctions and tools like <TT>Curves</TT>, <TT>Levels</TT>, <TT>ColorPicker</TT>, and so on, which work in CMYK.</UL><P>There is also the perception that spot colors are needed to make aneffective pre-press image manipulation tool.  Although there is muchpageantry about the colorimetry, device calibration, and Pantone inksystems available for Adobe's Photoshop, these are somewhat of a redherring.  Making these systems work is difficult and unreliable.Physical printing devices like presses tend to produce differentresults from day to day and even from run to run.  In the printingprocess, there are many problems that can change the color balance socarefully calibrated on the monitor.  The amounts of ink the printeruses, the capability of the press to apply the specified percentagesof ink uniformly across the printing surface, and many otherenvironmental and press health factors make for significantvariability in the final result. No amount of calibration andproprietary ink systems can fix that.<P>Thus, the main hurdle to cross before the GIMP can become a viablepre-press tool is the functionality given in the preceding bulleted list.<P><HR><H1><A NAME="SECTION001350000000000000000">&#160;</A><A NAME="7137">&#160;</A><A NAME="7138">&#160;</A><A NAME="7139">&#160;</A><BR>5.5 Conversion to Grayscale</H1><P>From the previous discussions, it is clear that every color image hasa grayscale component that can be separated out from the hue andsaturation components.  There are actually three different functionsin the GIMP for converting an image to grayscale.  These are the <TT>Grayscale</TT> function, the <TT>Desaturate</TT> function, and the valuecomponent of the HSV option of the <TT>Decompose</TT> function.  Toillustrate these functions, each one is applied to the color imageshown in Figure&nbsp;<A HREF="node54.html#f.colorspaces.conv2gray">5.10</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.conv2gray">&#160;</A><A NAME="7145">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.10:</STRONG>The Three Methods for Converting to Grayscale</CAPTION><TR><TD><IMG SRC="img162.gif"ALT="Figure 5.10"></TD></TR></TABLE></DIV><BR><P>To begin, the most obvious choice for converting a color image tograyscale is to use the <TT>Grayscale</TT><A NAME="7150">&#160;</A>function found in the <TT>Image:Image/Mode</TT> menu.  This functiontransforms a 24-bit, three-channel, color image to an 8-bit,single-channel grayscale image by forming a weighted sum of the red,green, and blue components.  The formula used in the GIMP is <!-- MATH: $Y = 0.3R+ 0.59G + 0.11B$ --><I>Y</I> = 0.3<I>R</I>+ 0.59<I>G</I> + 0.11<I>B</I>; this result is known as luminance (see[<A HREF="node87.html#poynton">4</A>] or[<A HREF="node87.html#pratt">5</A>]).  The weights used to compute luminance are related tothe monitor's phosphors.  The explanation for these weights is due tothe fact that for equal amounts of color the eye is most sensitive togreen, then red, and then blue.  This means that for equal amounts ofgreen and blue light the green will, nevertheless, seem much brighter.Thus, the image obtained by the normal averaging of an image's threecolor components produces a grayscale brightness that is notperceptually equivalent to the brightness of the original color image.The weighted sum that defines <I>Y</I>, however, does.<P>The result of converting the color image ofFigure&nbsp;<A HREF="node54.html#f.colorspaces.conv2gray">5.10</A>(a) using the <TT>Grayscale</TT>function is shown in Figure&nbsp;<A HREF="node54.html#f.colorspaces.conv2gray">5.10</A>(b).  Whenyou compare it to the two other grayscale images, the <TT>Grayscale</TT>function does seem the most representative of the color image'sbrightness.<P>From previous discussion, the removal of the saturation from an imageshould also produces a grayscale.  One way to desaturate an image isto replace the RGB value for each pixel with that of the closest pointon the neutral axis.  This point on the neutral axis is illustrated inFigure&nbsp;<A HREF="node52.html#f.colorspaces.proj2neutral">5.6</A>.  In the GIMP, the <TT>Desaturate</TT><A NAME="7160">&#160;</A> function, found in the <TT>Image:Image/Colors</TT> menu, does something like this.  Actually, it usesan approximation to this idea; it chooses the point on the neutralaxis determined by computing <!-- MATH: $L=\{\max(R, G, B) +\min(R, G, B)\} / 2$ --><IMG WIDTH="335" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img163.gif" ALT="$L=\{\max(R, G, B) +\min(R, G, B)\} / 2$">,which corresponds to the definition of lightness.  Afterapplying <TT>Desaturate</TT>, the image remains in RGB space andcontinues to have three color channels, but now the channels haveidentical values, which is why the image appears as a grayscale.<P>The result of applying <TT>Desaturate</TT> to the color image inFigure&nbsp;<A HREF="node54.html#f.colorspaces.conv2gray">5.10</A>(a) is shown inFigure&nbsp;<A HREF="node54.html#f.colorspaces.conv2gray">5.10</A>(c).  Of the three methods forconverting an image to grayscale, this one produces the flattest (thatis, with the least contrast) and the darkest conversion.<P>Finally, it is possible to get a slightly different grayscaleconversion by using the HSV option of the <TT>Decompose</TT><A NAME="7167">&#160;</A> function.  This decomposes theoriginal image into three new images, each an 8-bit grayscale imagerepresenting the hue, saturation, and value components of the image.The value component is a conversion to grayscale that is based onmoving to the neutral axis by selecting the maximum RGB component.Thus, <!-- MATH: $V = \max(R, G, B)$ --><IMG WIDTH="163" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img155.gif" ALT="$V=\max(R,G,B)$">.<P>Figure&nbsp;<A HREF="node54.html#f.colorspaces.conv2gray">5.10</A>(d) shows the value component ofthe HSV decomposition for Figure&nbsp;<A HREF="node54.html#f.colorspaces.conv2gray">5.10</A>(a).This grayscale is clearly the brightest of the three, which makessense because the value is defined as the maximum of the R, G, and Bcomponents (see Figure&nbsp;<A HREF="node52.html#f.colorspaces.proj2neutral">5.6</A>).<P>So, which conversion to grayscale is best?  I'm tempted to say that<TT>Grayscale</TT> is best because it produces the result whosebrightness is the most perceptually similar to the brightness of theoriginal color image.  However, the answer must depend on what <EM>you</EM> want to do with the image.  Furthermore, the two other methodsfor converting to grayscale are useful, and, in particular, the valuecomponent of the <TT>Decompose</TT> HSV function is used for manyoperations in the GIMP (for examples, see Sections&nbsp;<A HREF="node61.html#s6.detail">6.2.6</A> and<A HREF="node63.html#s6.unsharp-mask-pitfalls">6.4.4</A>).<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1651" HREF="node55.html#SECTION001361000000000000000">5.6.1 The <TT>Normal</TT>, <TT>Dissolve</TT>, and <TT>Behind</TT>Blending Modes</A><LI><A NAME="tex2html1652" HREF="node55.html#SECTION001362000000000000000">5.6.2 The <TT>Addition</TT>, <TT>Subtract</TT>, and <TT>Difference</TT>Blending Modes</A><LI><A NAME="tex2html1653" HREF="node55.html#SECTION001363000000000000000">5.6.3 The <TT>Multiply (Burn)</TT>, <TT>Divide (Dodge)</TT>, <TT>Screen</TT>,and <TT>Overlay</TT> Blending Modes</A><LI><A NAME="tex2html1654" HREF="node55.html#SECTION001364000000000000000">5.6.4 The <TT>Darken Only</TT> and <TT>Lighten Only</TT> Blending Modes</A><LI><A NAME="tex2html1655" HREF="node55.html#SECTION001365000000000000000">5.6.5 The <TT>Hue</TT>, <TT>Saturation</TT>, <TT>Value</TT>, and <TT>Color</TT> Blending Modes</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001360000000000000000">&#160;</A><A NAME="s5.blending-modes">&#160;</A><A NAME="7178">&#160;</A><A NAME="7179">&#160;</A><A NAME="7180">&#160;</A><BR>5.6 The Blending Modes</H1><P>Usually layers are opaque, which means that upper layers cover andvisually block lower ones.  Blending modes change this behavior andallow some color features of a layer to be combined with the colors oflayers below it.  Blending modes can also be used to affect how colorfrom a painting tool combines with the layer the paint is applied to.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.blend1">5.11</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.blend1">&#160;</A><A NAME="7183">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.11:</STRONG>The Blending Mode Menus</CAPTION><TR><TD><IMG SRC="img164.gif"ALT="Figure 5.11"></TD></TR></TABLE></DIV><BR>illustrates the blending mode menu for layers, which is found in theLayers dialog.  Figure&nbsp;<A HREF="node55.html#f.colorspaces.blend1">5.11</A>(b) shows theblending mode menu for painting tools<A NAME="7188">&#160;</A>, which is found in the <TT>Brush Selection</TT><A NAME="7190">&#160;</A> dialog.<A NAME="tex2html147" HREF="footnode.html#foot7649"><SUP>5.1</SUP></A>  The menu in the<TT>Brush Selection</TT> dialog applies the selected blending mode to allthe paint tools: the <TT>Pencil</TT>, <TT>Paintbrush</TT>, <TT>Airbrush</TT>,<TT>Ink Pen</TT>, and <TT>Xinput Airbrush</TT> tools.  In addition, thismenu controls the way the <TT>Bucket Fill</TT>, <TT>Gradient</TT>, and <TT>Clone</TT> tools apply their paint.<P>The different blending modes are described in this section, and theirpractical uses and applications are described in the next.  The GIMPhas 16 different blending modes.  They are listed in the followingfive logical groups:<UL><LI><TT>Normal</TT>, <TT>Dissolve</TT>, and <TT>Behind</TT> (available in paint mode only)<LI><TT>Difference</TT>, <TT>Addition</TT>, and <TT>Subtract</TT><LI><TT>Multiply (Burn)</TT>, <TT>Divide (Dodge)</TT>, <TT>Screen</TT>, and <TT>Overlay</TT><LI><TT>Darken Only</TT> and <TT>Lighten Only</TT><LI><TT>Hue</TT>, <TT>Saturation</TT>, <TT>Color</TT>, and <TT>Value</TT></UL><P>In the following descriptions of the blending modes, the pixels of theupper layer (or of the applied paint) are referred to as theforeground pixels and those of the lower layer or layers as thebackground pixels.  The notations <I>F</I> and <I>B</I> are used to representtheir respective values.  Blending the foreground pixel value <I>F</I> withthe background value <I>B</I> yields the resultant pixel value <I>R</I>.<P><H2><A NAME="SECTION001361000000000000000">&#160;</A><A NAME="7223">&#160;</A><A NAME="7224">&#160;</A><A NAME="7225">&#160;</A><BR>5.6.1 The <TT>Normal</TT>, <TT>Dissolve</TT>, and <TT>Behind</TT>Blending Modes</H2><P><TT>Normal</TT>, <TT>Dissolve</TT>, and <TT>Behind</TT> are pseudo-blendingmodes because they don't really combine the foreground and backgroundpixel values of the image.<P><TT>Normal</TT> mode is the default GIMP behavior where the foregroundpixels are visible and the background pixels are not.  Of course, thiscan be changed by adjusting the opacity slider in the Layers dialog(more on opacity and transparency is discussed inSection&nbsp;<A HREF="node56.html#s5.opacity-transparency">5.7</A>).<P><TT>Dissolve</TT> mode works by allowing a percentage of backgroundpixels to be seen through the foreground.  It does this by making someparts of the foreground partially transparent and the rest fullytransparent.  These two sets are intermingled in a random way.  Forthe <TT>Dissolve</TT> mode to have an effect, the foreground layer musthave an alpha channel with values less than 255.  The alpha channelfor a layer can be modified with a layer mask.  The details of workingwith layer masks are discussed in Section&nbsp;<A HREF="node44.html#s4.layer-masks">4.2</A>.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.dissolve">5.12</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.dissolve">&#160;</A><A NAME="7651">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.12:</STRONG>The <TT> Dissolve</TT> Blending Mode</CAPTION><TR><TD><IMG SRC="img165.gif"ALT="Figure 5.12"></TD></TR></TABLE></DIV><BR>illustrates the use of <TT>Dissolve</TT>.Figure&nbsp;<A HREF="node55.html#f.colorspaces.dissolve">5.12</A>(a) shows the Layers dialog whichillustrates how this example is constructed.  The image consists oftwo layers: a red background and a white foreground.  The foregroundhas a uniform alpha channel set to a value of 191 (about 75% opaque).The Mode menu in Figure&nbsp;<A HREF="node55.html#f.colorspaces.dissolve">5.12</A>(a) shows that the<TT>Dissolve</TT> mode has been chosen for the foreground.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.dissolve">5.12</A>(b) shows the result of the <TT>Dissolve</TT> blending mode.  Due to the value of the foreground's alphachannel the result is that 75% of the white pixels are 75% opaqueand 25% are fully opaque.  The details of the effect can be moreclearly seen in the small region framed by the black box shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.dissolve">5.12</A>(b).  This region is zoomed 900%and redisplayed in Figure&nbsp;<A HREF="node55.html#f.colorspaces.dissolve">5.12</A>(c), which makesthe relationship of the red and white pixels more apparent.<P>Unlike all the other blend modes in the GIMP, the <TT>Behind</TT> modeonly works with painting tools.  It is not available as a blendingmode for layers.  To understand how it works, imagine a pane of glassthat has something painted on the front surface but there are someparts of the pane that are bare, or have only a partially transparentpaint on it.  Painting on the back surface of the pane lets the colorfrom this new paint show through to the front wherever the front isnot fully opaque.  Figure&nbsp;<A HREF="node55.html#f.colorspaces.behind">5.13</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.behind">&#160;</A><A NAME="7653">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.13:</STRONG>The <TT> Behind</TT> Blending Mode</CAPTION><TR><TD><IMG SRC="img166.gif"ALT="Figure 5.13"></TD></TR></TABLE></DIV><BR>illustrates this effect.  <P>In Figure&nbsp;<A HREF="node55.html#f.colorspaces.behind">5.13</A>(a), a single-layer image with acentered red circle is displayed.  The rest of the layer istransparent.  The <TT>Brush Selection</TT> dialog, shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.behind">5.13</A>(b), has been used to choose a large,hard brush and to set the blending mode to <TT>Behind</TT>.  The figureshows the result of painting a bright green stripe, using the <TT>Paintbrush</TT> tool, through the red circle.  In <TT>Behind</TT> mode,however, the green is only seen through the transparent parts of thelayer.  This mode only works for layers with alpha channels.<P><H2><A NAME="SECTION001362000000000000000">&#160;</A><A NAME="7264">&#160;</A><A NAME="7265">&#160;</A><A NAME="7266">&#160;</A><BR>5.6.2 The <TT>Addition</TT>, <TT>Subtract</TT>, and <TT>Difference</TT>Blending Modes</H2><P><TT>Addition</TT>, <TT>Subtract</TT>, and <TT>Difference</TT> are blendingmodes that add and subtract foreground and background pixel values inRGB colorspace.  Figure&nbsp;<A HREF="node55.html#f.colorspaces.add_sub_diff">5.14</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.add_sub_diff">&#160;</A><A NAME="7272">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.14:</STRONG>Addition and Subtraction in the RGB Cube</CAPTION><TR><TD><IMG SRC="img167.gif"ALT="Figure 5.14"></TD></TR></TABLE></DIV><BR>illustrates the effect of addition and subtraction for two pixels in theRGB cube.  <P>The <TT>Addition</TT> blending mode works as follows.  Given a foregroundand background pixel, represented by the RGB vectors <!-- MATH: $F=[r_1,g_1,b_1]$ --><I>F</I>=[<I>r</I><SUB>1</SUB>,<I>g</I><SUB>1</SUB>,<I>b</I><SUB>1</SUB>]and <!-- MATH: $B=[r_2,g_2,b_2]$ --><I>B</I>=[<I>r</I><SUB>2</SUB>,<I>g</I><SUB>2</SUB>,<I>b</I><SUB>2</SUB>], the pixel obtained from the <TT>Addition</TT>blending mode is <!-- MATH: $R=F+B=[r_1+r_2,g_1+g_2,b_1+b_2]$ --><I>R</I>=<I>F</I>+<I>B</I>=[<I>r</I><SUB>1</SUB>+<I>r</I><SUB>2</SUB>,<I>g</I><SUB>1</SUB>+<I>g</I><SUB>2</SUB>,<I>b</I><SUB>1</SUB>+<I>b</I><SUB>2</SUB>].  Thus, inFigure&nbsp;<A HREF="node55.html#f.colorspaces.add_sub_diff">5.14</A>(a), the two blue arrowsrepresent a foreground and background pixel, and the red arrow is thevector sum of the two.  Addition always produces a resultant colorthat is as light or lighter than either the foreground or backgroundcolors.  This is because the vector sum must have a projection ontothe neutral axis that is closer to white than the projection foreither the background or foreground colors.<P>In the event that the vector sum produces a result outside of thecolor cube (that is, by producing any RGB component greater than 255),its value is clipped to the surface of the cube.  The equationdescribing the <TT>Addition</TT> blending mode is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=\min \{F+B,W\}\end{displaymath} --><IMG SRC="img168.gif" ALT="\begin{displaymath}R=\min \{F+B,W\}\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>where <I>W</I> is the vector <!-- MATH: $[255,255,255]$ -->[255,255,255] and the <IMG WIDTH="38" HEIGHT="19" ALIGN="BOTTOM" BORDER="0" SRC="img169.gif" ALT="$\min$">functionperforms component-wise minimization of the two vectors.<P>Cyan, magenta, and yellow are the sums of green and blue, red andblue, and red and green, respectively.  Thus, cyan, magenta, andyellow appear lighter than red, green, or blue because they projecthigher up onto the neutral axis.  Furthermore, any of these secondarycolors (cyan, magenta, yellow) summed with the complementary primarycolor (red, green, blue) produces white, the lightest color of all.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.addition">&#160;</A><A NAME="7657">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.15:</STRONG>Using the <TT> Addition</TT> Blending Mode</CAPTION><TR><TD><IMG SRC="img170.gif"ALT="Figure 5.15"></TD></TR></TABLE></DIV><BR>illustrates an application of the <TT>Addition</TT> blending mode.Figure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a) displays the image of a flower,and Figure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(b), showing the associatedLayers dialog, indicates that this image consists of two-layers.  Theupper layer is the flower image, and the lower layer is filled with amedium gray whose pixel values are uniformly <!-- MATH: $127^R 127^G 127^B$ -->127<SUP><I>R</I></SUP> 127<SUP><I>G</I></SUP> 127<SUP><I>B</I></SUP>.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a) shows the flower image for the<TT>Normal</TT> blending mode.  Figure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(c)shows the same image when the blending mode of the upper layer ischanged to <TT>Addition</TT>.  This has the effect of adding <!-- MATH: $127^R 127^G127^B$ -->127<SUP><I>R</I></SUP> 127<SUP><I>G</I></SUP>127<SUP><I>B</I></SUP> to every pixel in the flower layer, which lightens the entireimage considerably.  In fact, some parts of the image are completelyblown out to white.<P>The effect of the <TT>Subtract</TT> blending mode is illustrated inFigure&nbsp;<A HREF="node55.html#f.colorspaces.add_sub_diff">5.14</A>(b).  This blending mode worksas follows.  Given a foreground and background pixel, we'll againrepresent each as an RGB vector <!-- MATH: $F=[r_1,g_1,b_1]$ --><I>F</I>=[<I>r</I><SUB>1</SUB>,<I>g</I><SUB>1</SUB>,<I>b</I><SUB>1</SUB>] and<!-- MATH: $B=[r_2,g_2,b_2]$ --><I>B</I>=[<I>r</I><SUB>2</SUB>,<I>g</I><SUB>2</SUB>,<I>b</I><SUB>2</SUB>].  The pixel obtained from the <TT>Subtract</TT>blending mode is <!-- MATH: $R=B-F=[r_2-r_1,g_2-g_1,b_2-b_1]$ --><I>R</I>=<I>B</I>-<I>F</I>=[<I>r</I><SUB>2</SUB>-<I>r</I><SUB>1</SUB>,<I>g</I><SUB>2</SUB>-<I>g</I><SUB>1</SUB>,<I>b</I><SUB>2</SUB>-<I>b</I><SUB>1</SUB>].  Thus, for the twoblue arrows labeled <I>F</I> and <I>B</I> inFigure&nbsp;<A HREF="node55.html#f.colorspaces.add_sub_diff">5.14</A>(b), the result of subtractingthe foreground from the background is given by the red arrow labeled<I>R</I>.  <P>Unlike the <TT>Addition</TT> blending mode, <TT>Subtract</TT> is notsymmetrical (that is, subtracting <I>F</I> from <I>B</I> is not the same assubtracting <I>B</I> from <I>F</I>).  The result of subtracting the foregroundfrom the background can produce negative values.  If a component ofthe resulting RGB vector is less than zero, it is clipped to thesurface of the cube.  Thus, the equation representing the <TT>Subtract</TT> blending mode is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=\max \{B-F,0\}\end{displaymath} --><IMG SRC="img171.gif" ALT="\begin{displaymath}R=\max \{B-F,0\}\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>where 0 represents the color <!-- MATH: $0^R 0^G 0^B$ -->0<SUP><I>R</I></SUP> 0<SUP><I>G</I></SUP> 0<SUP><I>B</I></SUP> and <IMG WIDTH="42" HEIGHT="18" ALIGN="BOTTOM" BORDER="0" SRC="img172.gif" ALT="$\max$">is thefunction that performs component-wise maximization of the two vectors.Because the foreground color is always a positive number, the resultis always darker than the background (unless either the foreground orbackground are black, and then there is no change).<P>The <TT>Difference</TT> blending mode is like <TT>Subtract</TT>, but theresult is symmetrical between the foreground and the background.  <TT>Difference</TT> is symmetrical because it applies an absolute value to thedifference of the foreground and background values.  Thus, if one ofthe RGB components is negative after subtraction, its sign is reversedto make it positive.  The resulting mathematical expression for the<TT>Difference</TT> blending mode is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=|F-B|\end{displaymath} --><I>R</I>=|<I>F</I>-<I>B</I>|</DIV><BR CLEAR="ALL"><P></P>where the vertical bars in the equation represent the absolute valuefunction.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.subtract-difference">5.16</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.subtract-difference">&#160;</A><A NAME="7659">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.16:</STRONG>Using the <TT> Subtract</TT> and <TT> Difference</TT> Blending Modes</CAPTION><TR><TD><IMG SRC="img173.gif"ALT="Figure 5.16"></TD></TR></TABLE></DIV><BR>illustrates the application of the <TT>Subtract</TT> and <TT>Difference</TT>blending modes.  The modes are applied to the image fromFigure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a), which consists of the flowerin the upper layer and a medium gray in the lower layer.  You can seethat the result of using <TT>Subtract</TT>, shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.subtract-difference">5.16</A>(a), has regions thatare totally black.  This is where the difference between theforeground and background creates negative values that are clipped tozero.  <TT>Difference</TT>, shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.subtract-difference">5.16</A>(b), however, has noclipped values because it employs the absolute value of thedifference.  Note that for both the <TT>Subtract</TT> and <TT>Difference</TT> modes, the results are darker than the original flowerimage.<P><H2><A NAME="SECTION001363000000000000000">&#160;</A><A NAME="7324">&#160;</A><A NAME="7325">&#160;</A><A NAME="7326">&#160;</A><A NAME="7327">&#160;</A><BR>5.6.3 The <TT>Multiply (Burn)</TT>, <TT>Divide (Dodge)</TT>, <TT>Screen</TT>,and <TT>Overlay</TT> Blending Modes</H2><P><TT>Multiply</TT>, <TT>Divide</TT>, <TT>Screen</TT>, and <TT>Overlay</TT> are allmultiplicative blending modes.  The resulting pixel values are theproduct or a function of the product of the foreground and backgroundpixels.<P>The actions of the <TT>Multiply</TT> and <TT>Screen</TT> modes on pixelsrepresented in the RGB cube are illustrated inFigure&nbsp;<A HREF="node55.html#f.colorspaces.mult_scr">5.17</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.mult_scr">&#160;</A><A NAME="7662">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.17:</STRONG>The <TT> Multiply</TT> and <TT> Screen</TT> Modes in the RGB Cube</CAPTION><TR><TD><IMG SRC="img174.gif"ALT="Figure 5.17"></TD></TR></TABLE></DIV><BR>For a foreground pixel whose position in the RGB cube is<!-- MATH: $[r_1,g_1,b_1]$ -->[<I>r</I><SUB>1</SUB>,<I>g</I><SUB>1</SUB>,<I>b</I><SUB>1</SUB>] and a background pixel whose position is<!-- MATH: $[r_2,g_2,b_2]$ -->[<I>r</I><SUB>2</SUB>,<I>g</I><SUB>2</SUB>,<I>b</I><SUB>2</SUB>], the resultant pixel for <TT>Multiply</TT> mode is thecomponent-by-component product of the two, or<!-- MATH: $[r_1r_2/255,g_1g_2/255,b_1b_2/255]$ -->[<I>r</I><SUB>1</SUB><I>r</I><SUB>2</SUB>/255,<I>g</I><SUB>1</SUB><I>g</I><SUB>2</SUB>/255,<I>b</I><SUB>1</SUB><I>b</I><SUB>2</SUB>/255], where the division by 255 isnecessary to normalize the result back into the RGB cube.  This can besuccinctly expressed by the equation<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=\frac{1}{255}(F\times B)\end{displaymath} --><IMG SRC="img175.gif" ALT="\begin{displaymath}R=\frac{1}{255}(F\times B)\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>where the <IMG WIDTH="21" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img176.gif" ALT="$\times$">symbol means component-wise multiplication.<P>Due to the scale factor of 255, the component values of one RGB vectorare normalized to the range [0,1].  Thus, <I>R</I> is component-wisesmaller than either <I>F</I> or <I>B</I>.  From previous discussions, you knowthat smaller means darker because the projection onto the neutral axisis closer to the origin.  This is illustrated inFigure&nbsp;<A HREF="node55.html#f.colorspaces.mult_scr">5.17</A>(a) which shows two blue arrowsrepresenting the foreground and background pixel positions and a redarrow representing the component-wise product.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.mult-scr-ovrly">5.18</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.mult-scr-ovrly">&#160;</A><A NAME="7664">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.18:</STRONG>An Example of <TT> Multiply</TT>, <TT> Divide</TT>, <TT> Screen</TT>, and<TT> Overlay</TT> Modes</CAPTION><TR><TD><IMG SRC="img177.gif"ALT="Figure 5.18"></TD></TR></TABLE></DIV><BR>illustrates an example of applying <TT>Multiply</TT> mode to the flowerimage from Figure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a).  As before, thelower layer of this image is a uniform gray equal to <!-- MATH: $127^R 127^G127^B$ -->127<SUP><I>R</I></SUP> 127<SUP><I>G</I></SUP>127<SUP><I>B</I></SUP>.  The result, shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.mult-scr-ovrly">5.18</A>(a), is the image has beenmade uniformly darker.  In fact, because the lower layer is a mediumgray, the pixels values in the flower layer have been scaled by<!-- MATH: $127/255\approx 1/2$ --><IMG WIDTH="130" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img178.gif" ALT="$127/255\approx 1/2$">everywhere.<P>For a foreground pixel whose position in the RGB cube is<!-- MATH: $[r_1,g_1,b_1]$ -->[<I>r</I><SUB>1</SUB>,<I>g</I><SUB>1</SUB>,<I>b</I><SUB>1</SUB>] and a background pixel whose position is<!-- MATH: $[r_2,g_2,b_2]$ -->[<I>r</I><SUB>2</SUB>,<I>g</I><SUB>2</SUB>,<I>b</I><SUB>2</SUB>], you might imagine that the resultant pixel for the<TT>Divide</TT> blending mode would be analogous to that for the <TT>Multiply</TT> mode.  This would suggest something like<!-- MATH: $[255r_2/r_1,255g_2/g_1,255b_2/b_1]$ -->[255<I>r</I><SUB>2</SUB>/<I>r</I><SUB>1</SUB>,255<I>g</I><SUB>2</SUB>/<I>g</I><SUB>1</SUB>,255<I>b</I><SUB>2</SUB>/<I>b</I><SUB>1</SUB>].  However, this expressionpresents two problems.  The first problem is that when the foregroundpixel has a zero component, the result is not defined; the secondproblem is that when the foreground pixel value is small, the resultcan be so large that it is no longer inside the RGB cube.  The firstproblem is solved by adding one to each component of the foregroundpixel.  This prevents a division by zero.  The second problem issolved by clipping values that are too large to the surface of thecube.<P>A succinct expression for the <TT>Divide</TT> mode is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=\min \{ W , B\div \frac{(F+1)}{256} \}\end{displaymath} --><IMG SRC="img179.gif" ALT="\begin{displaymath}R=\min \{ W , B\div \frac{(F+1)}{256} \}\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>where <I>W</I> is <!-- MATH: $255^R 255^G 255^B$ -->255<SUP><I>R</I></SUP> 255<SUP><I>G</I></SUP> 255<SUP><I>B</I></SUP>, <IMG WIDTH="21" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img180.gif" ALT="$\div$">represents component-wisedivision of two vectors, and <IMG WIDTH="38" HEIGHT="19" ALIGN="BOTTOM" BORDER="0" SRC="img169.gif" ALT="$\min$">represents component-wiseminimization.  Figure&nbsp;<A HREF="node55.html#f.colorspaces.mult-scr-ovrly">5.18</A>(b)illustrates the application of <TT>Divide</TT> to the flower image fromFigure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a).  Here, you can see that someparts of the resulting image are blown out to white.  This occurs inregions where the original flower image has small (that is dark) pixelvalues.  Note that <TT>Divide</TT> always lightens an image because, itdivides each pixel component by a number less than 1.<P>The <TT>Screen</TT> blending mode has a lightening effect that is exactlyanalogous to the darkening effect created by <TT>Multiply</TT>.  Thisconcept is illustrated in Figure&nbsp;<A HREF="node55.html#f.colorspaces.mult_scr">5.17</A>(b).  Asshown in the figure <TT>Screen</TT> mode redefines the origin to be<!-- MATH: $255^R 255^G 255^B$ -->255<SUP><I>R</I></SUP> 255<SUP><I>G</I></SUP> 255<SUP><I>B</I></SUP>, the white point in the cube.  Thus, the vectorsto the foreground and background pixels are as shown by the two bluearrows in Figure&nbsp;<A HREF="node55.html#f.colorspaces.mult_scr">5.17</A>(b).  <TT>Screen</TT> thenmultiplies the two vectors, producing a resultant shown as a red arrowin Figure&nbsp;<A HREF="node55.html#f.colorspaces.mult_scr">5.17</A>(b).  As with the <TT>Multiply</TT>mode, the resulting vector of the <TT>Screen</TT> mode is shorter thaneither the foreground or background vectors--but with respect tothe white point in the cube.  Thus, the resulting vector is closer tothe white point, and, consequently, lighter than either the foregroundor background colors.  The mathematical expression for <TT>Screen</TT>mode is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=W-\frac{1}{255}(W-F)\times (W-B).\end{displaymath} --><IMG SRC="img181.gif" ALT="\begin{displaymath}R=W-\frac{1}{255}(W-F)\times (W-B).\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>Again, the factor of 255 is introduced to keep the resultant pixelvalues inside the RGB cube.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.mult-scr-ovrly">5.18</A>(c) illustrates an example ofapplying the <TT>Screen</TT> mode to the flower image fromFigure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a).  As predicted, the result iseverywhere brighter than in the original image of the flower.  Alsonotice that unlike <TT>Divide</TT>, <TT>Screen</TT> mode does not blow outto white.  Thus, although both <TT>Divide</TT> and <TT>Screen</TT> havesimilar lightening characteristics, they have very differentpersonalities.<P>Finally, the <TT>Overlay</TT> mode is a combination of both <TT>Multiply</TT> and <TT>Screen</TT>.  The equation for overlay mode is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=\frac{1}{255}[B\times R_s + (1-B)\times R_m]\end{displaymath} --><IMG SRC="img182.gif" ALT="\begin{displaymath}R=\frac{1}{255}[B\times R_s + (1-B)\times R_m]\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>where <I>R</I><SUB><I>s</I></SUB> represents the resultant pixel value for <TT>Screen</TT> modeand <I>R</I><SUB><I>m</I></SUB> represents that for <TT>Multiply</TT>.  This equation says thatthe resultant pixel value for <TT>Overlay</TT> mode is a combination ofthe <TT>Screen</TT> and <TT>Multiply</TT> modes.  The mix of the two modesis proportional to the background pixel value.<P>Thus, if the background is dark (that is, has an RGB value close tozero in all three components), the result of <TT>Multiply</TT> mode willdominate and the result of <TT>Screen</TT> mode will be suppressed.  Theopposite is true if the background pixel is light (that is, has an RGBvalue close to white in all three components).  Overall, <TT>Overlay</TT>mode tends to make an image darker where it is already dark andlighter where it is already light.Figure&nbsp;<A HREF="node55.html#f.colorspaces.mult-scr-ovrly">5.18</A>(d) illustrates an example ofapplying <TT>Overlay</TT> mode to the flower image fromFigure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a).<P><H2><A NAME="SECTION001364000000000000000">&#160;</A><A NAME="s5.darken-lighten-only">&#160;</A><A NAME="7404">&#160;</A><A NAME="7405">&#160;</A><BR>5.6.4 The <TT>Darken Only</TT> and <TT>Lighten Only</TT> Blending Modes</H2><P><TT>Darken Only</TT> creates a resultant pixel that retains the smallestcomponents of the foreground and background pixels.  Thus, if theforeground pixel has the components <!-- MATH: $[r_1,g_1,b_1]$ -->[<I>r</I><SUB>1</SUB>,<I>g</I><SUB>1</SUB>,<I>b</I><SUB>1</SUB>] and the backgroundhas <!-- MATH: $[r_2,g_2,b_2]$ -->[<I>r</I><SUB>2</SUB>,<I>g</I><SUB>2</SUB>,<I>b</I><SUB>2</SUB>], the resultant pixel is<!-- MATH: $[\min(r_1,r_2),\min(g_1,g_2),\min(b_1,b_2)]$ --><IMG WIDTH="304" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img183.gif" ALT="$[\min(r_1,r_2),\min(g_1,g_2),\min(b_1,b_2)]$">.This is expressed morecompactly as<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=\min\{F,B\}\end{displaymath} --><IMG SRC="img184.gif" ALT="\begin{displaymath}R=\min\{F,B\}\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>where <IMG WIDTH="38" HEIGHT="19" ALIGN="BOTTOM" BORDER="0" SRC="img169.gif" ALT="$\min$">means component-wise minimization.  Not surprisingly,<TT>Darken Only</TT> mode makes an image darker.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.darken-lighten">5.19</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.darken-lighten">&#160;</A><A NAME="7667">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.19:</STRONG>An Example of <TT> Darken Only</TT> and <TT> Lighten Only</TT> Modes</CAPTION><TR><TD><IMG SRC="img185.gif"ALT="Figure 5.19"></TD></TR></TABLE></DIV><BR>illustrates the use of <TT>Darken Only</TT> mode on the flower image fromFigure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a).  Because the grayscale layer belowthe flower is uniformly <!-- MATH: $127^R 127^G 127^B$ -->127<SUP><I>R</I></SUP> 127<SUP><I>G</I></SUP> 127<SUP><I>B</I></SUP>, everything in the flowerthat has an RGB component darker than 127 retains its character in theimage.  The parts of the flower image that are lighter are replacedby the flat gray.<P><TT>Lighten Only</TT> mode has the opposite action of <TT>Darken Only</TT>.It selects the maximum of each component from the foreground andbackground pixels.  The mathematical expression for <TT>Lighten Only</TT>is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=\max\{F,B\}.\end{displaymath} --><IMG SRC="img186.gif" ALT="\begin{displaymath}R=\max\{F,B\}.\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>where <IMG WIDTH="42" HEIGHT="18" ALIGN="BOTTOM" BORDER="0" SRC="img172.gif" ALT="$\max$">means component-wise maximization. <TT>Lighten Only</TT>mode makes an image lighter.<P>Figure&nbsp;<A HREF="node55.html#f.colorspaces.darken-lighten">5.19</A>(b) illustrates the use of<TT>Lighten Only</TT> mode on the flower image fromFigure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a).  Now, everything in the flowerthat has an RGB component lighter than 127 retains its character inthe image.  The parts of the flower image that are darker are replacedby the flat gray.<P><H2><A NAME="SECTION001365000000000000000">&#160;</A><A NAME="7428">&#160;</A><A NAME="7429">&#160;</A><A NAME="7430">&#160;</A><A NAME="7431">&#160;</A><BR>5.6.5 The <TT>Hue</TT>, <TT>Saturation</TT>, <TT>Value</TT>, and <TT>Color</TT> Blending Modes</H2><P>The <TT>Hue</TT>, <TT>Saturation</TT>, <TT>Value</TT>, and <TT>Color</TT> blending modes all work similarly.  For each mode, oneHSV component is taken from the foreground pixel and the other twocomponents from the background pixel.  For example, if the <TT>Hue</TT>blending mode is chosen, the result is the hue of the foregroundpixels combined with the saturation and value of the backgroundpixels.  The same process is used for the <TT>Saturation</TT> and <TT>Value</TT> blending modes.  The <TT>Color</TT> blending mode, however, isslightly different.  For this mode, the hue and saturation of theforeground pixels are used in conjunction with thelightness of the background pixels.  Lightness,defined in Section&nbsp;<A HREF="node52.html#s.colorspaces.hsv2rgb">5.3</A>, is less bright thanvalue, and is simultaneously more true to the human perception ofbrightness.<P>Thus, the action of the <TT>Hue</TT> blending mode can be expressed as <BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=[h(F),s(B),v(B)]\end{displaymath} --><I>R</I>=[<I>h</I>(<I>F</I>),<I>s</I>(<I>B</I>),<I>v</I>(<I>B</I>)]</DIV><BR CLEAR="ALL"><P></P>where <I>h</I>(<I>F</I>) means the hue of the foreground, <I>s</I>(<I>B</I>) represents thesaturation of the background, and <I>v</I>(<I>B</I>) is the value of thebackground.  An example of applying the <TT>Hue</TT> blending mode isillustrated in Figure&nbsp;<A HREF="node55.html#f.colorspaces.hue-mode">5.20</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.hue-mode">&#160;</A><A NAME="7670">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.20:</STRONG>An Example of <TT> Hue</TT> Mode</CAPTION><TR><TD><IMG SRC="img187.gif"ALT="Figure 5.20"></TD></TR></TABLE></DIV><BR>The flower image from Figure&nbsp;<A HREF="node55.html#f.colorspaces.addition">5.15</A>(a) is shownin Figure&nbsp;<A HREF="node55.html#f.colorspaces.hue-mode">5.20</A>(a).  This image is theforeground to the <TT>Hue</TT> mode, and the background is the blue layershown in Figure&nbsp;<A HREF="node55.html#f.colorspaces.hue-mode">5.20</A>(b).  This blue layervaries horizontally in value and vertically in saturation.  The resultof applying the <TT>Hue</TT> mode is shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.hue-mode">5.20</A>(c).  Here, it can be clearly seenthat the saturation and value variations of the blue layer arecombining with the hue of the flower layer.<P>Similar to <TT>Hue</TT>, the <TT>Saturation</TT> blending mode producesresultant pixels that are a combination of the saturation of theforeground and the hue and value of the background.  The expressionfor this is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=[h(B),s(F),v(B)]\end{displaymath} --><I>R</I>=[<I>h</I>(<I>B</I>),<I>s</I>(<I>F</I>),<I>v</I>(<I>B</I>)]</DIV><BR CLEAR="ALL"><P></P>where <I>s</I>(<I>F</I>) is the saturation of the foreground, <I>h</I>(<I>B</I>) is the hue ofthe background, and <I>v</I>(<I>B</I>) represents the value of the background.  Anexample of applying the <TT>Saturation</TT> blending mode is illustratedin Figure&nbsp;<A HREF="node55.html#f.colorspaces.saturation-mode">5.21</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.saturation-mode">&#160;</A><A NAME="7672">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.21:</STRONG>An Example of <TT> Saturation</TT> Mode</CAPTION><TR><TD><IMG SRC="img188.gif"ALT="Figure 5.21"></TD></TR></TABLE></DIV><BR>We see again our flower image inFigure&nbsp;<A HREF="node55.html#f.colorspaces.saturation-mode">5.21</A>(a) playing the role of theforeground layer.  However, now the background layer, shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.saturation-mode">5.21</A>(b), has been constructed tovary only in hue and value.  In this layer, the hue changes along thehorizontal direction and the value along the vertical.  The result ofapplying the <TT>Saturation</TT> mode is shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.saturation-mode">5.21</A>(c).<P>The <TT>Value</TT> blending mode produces resultant pixels that are acombination of the value of the foreground and the hue and saturationof the background.  The expression for this is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=[h(B),s(B),v(F)]\end{displaymath} --><I>R</I>=[<I>h</I>(<I>B</I>),<I>s</I>(<I>B</I>),<I>v</I>(<I>F</I>)]</DIV><BR CLEAR="ALL"><P></P>Here, <I>v</I>(<I>F</I>) represents the foreground value, <I>h</I>(<I>B</I>) the background hue,and <I>s</I>(<I>B</I>) the background saturation.  An example of this blendingmode is shown in Figure&nbsp;<A HREF="node55.html#f.colorspaces.value-mode">5.22</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.value-mode">&#160;</A><A NAME="7674">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.22:</STRONG>An Example of <TT> Value</TT> Mode</CAPTION><TR><TD><IMG SRC="img189.gif"ALT="Figure 5.22"></TD></TR></TABLE></DIV><BR>The background layer, shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.value-mode">5.22</A>(b), varies in hue in thehorizontal direction and saturation in the vertical direction.  Theresult of this mode is shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.value-mode">5.22</A>(c).<P>The final example in this section illustrates the <TT>Color</TT> blendingmode.  This mode combines the foreground hue and saturation with thebackground lightness.  Lightness was defined earlier inSection&nbsp;<A HREF="node52.html#s.colorspaces.hsv2rgb">5.3</A>; lightness is always a bit lessbright than value.  The expression for this blending mode is<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=[h(F),s(F),l(B)]\end{displaymath} --><I>R</I>=[<I>h</I>(<I>F</I>),<I>s</I>(<I>F</I>),<I>l</I>(<I>B</I>)]</DIV><BR CLEAR="ALL"><P></P>where <I>h</I>(<I>F</I>) and <I>s</I>(<I>F</I>) are the hue and saturation of the foreground,and <I>l</I>(<I>B</I>) is the lightness of the background.  An example of thisblending mode is shown in Figure&nbsp;<A HREF="node55.html#f.colorspaces.color-mode">5.23</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.color-mode">&#160;</A><A NAME="7676">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.23:</STRONG>An Example of <TT> Color</TT> Mode</CAPTION><TR><TD><IMG SRC="img190.gif"ALT="Figure 5.23"></TD></TR></TABLE></DIV><BR>Here, the background, shown inFigure&nbsp;<A HREF="node55.html#f.colorspaces.color-mode">5.23</A>(b), varies only in value.  Theresult is shown in Figure&nbsp;<A HREF="node55.html#f.colorspaces.color-mode">5.23</A>(c).<P><HR><H1><A NAME="SECTION001370000000000000000">&#160;</A><A NAME="s5.opacity-transparency">&#160;</A><A NAME="7489">&#160;</A><A NAME="7490">&#160;</A><A NAME="7491">&#160;</A><BR>5.7 Opacity and Transparency</H1><P>Transparency is usually not considered to be a blending mode, however,it works just like one!  Transparency is just a combination of the<TT>Multiply</TT> and <TT>Addition</TT> blending modes; it takes apercentage of the foreground and adds it to the complementarypercentage of the background.  Thus, if you want the foreground to be75% opaque (opacity is just the opposite of transparency), youmultiply the foreground by 0.75, the background by (1-0.75), and addthe two.  This relationship can be expressed as<BR><P></P><DIV ALIGN="CENTER"><!-- MATH: \begin{displaymath}R=\alpha F+(1-\alpha)B\end{displaymath} --><IMG SRC="img191.gif" ALT="\begin{displaymath}R=\alpha F+(1-\alpha)B\end{displaymath}"></DIV><BR CLEAR="ALL"><P></P>where <IMG WIDTH="18" HEIGHT="18" ALIGN="BOTTOM" BORDER="0" SRC="img192.gif" ALT="$\alpha$">represents the opacity.  The percentages used inscaling the foreground and background pixels are called complementarybecause <!-- MATH: $\alpha + (1-\alpha) = 1$ --><IMG WIDTH="140" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img193.gif" ALT="$\alpha + (1-\alpha) = 1$">.<P>By the way, can you guess why the percentage of opacity is representedby the Greek letter alpha in the preceding equation?  It is becausethe opacity of a layer is controlled by its alpha channel.  The alphachannel takes values in the range [0,255] where a value of 255represents 100% opacity, and 0 represents 100% transparency.<P>Different amounts of transparency/opacity can be obtained by adjustingthe value of <IMG WIDTH="18" HEIGHT="18" ALIGN="BOTTOM" BORDER="0" SRC="img192.gif" ALT="$\alpha$">.For a foreground and background pixel pair, theeffect of opacity can be illustrated in the RGB cube.Figure&nbsp;<A HREF="node56.html#f.colorspaces.transparency">5.24</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.transparency">&#160;</A><A NAME="7496">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.24:</STRONG>Explanation of Opacity in the RGB Cube</CAPTION><TR><TD><IMG SRC="img194.gif"ALT="Figure 5.24"></TD></TR></TABLE></DIV><BR>shows how combining a percentage of the foreground with acomplementary percentage of the background creates a resultant pixelthat is somewhere on a line between the two points.  The two bluearrows in Figure&nbsp;<A HREF="node56.html#f.colorspaces.transparency">5.24</A> show the locationsin the RGB cube of a foreground and background pixel.  The linebetween the two points represents the set of pixels obtained forvarying degrees of opacity.  The three red arrows show the pixelscorresponding to 25, 50, and 75% opacity of the foreground withrespect to the background pixel.<P>Figure&nbsp;<A HREF="node56.html#f.colorspaces.transparency1">5.25</A><BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.transparency1">&#160;</A><A NAME="7503">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.25:</STRONG>An Example Application of Transparency</CAPTION><TR><TD><IMG SRC="img195.gif"ALT="Figure 5.25"></TD></TR></TABLE></DIV><BR>illustrates an example of setting the opacity of a layer.Figure&nbsp;<A HREF="node56.html#f.colorspaces.transparency1">5.25</A>(a) shows a two-layer imageconsisting of herons in the upper layer and flowers in the lower.When the Opacity slider for the upper layer is set to 75%, as shownin the Layers dialog in Figure&nbsp;<A HREF="node56.html#f.colorspaces.transparency1">5.25</A>(b),the result is as shown in Figure&nbsp;<A HREF="node56.html#f.colorspaces.transparency1">5.25</A>(c).<P>Transparency/opacity can also be controlled for the GIMP's paintingfunctions.  The Opacity slider for these are found in the <TT>BrushSelection</TT> dialog.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1680" HREF="node57.html#SECTION001381000000000000000">5.8.1 Colorization</A><LI><A NAME="tex2html1681" HREF="node57.html#SECTION001382000000000000000">5.8.2 Realistic Shadows and Highlights</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001380000000000000000">5.8 Practical Uses of Blending Modes</A></H1><P>Blending modes are fascinating toys that are lots of fun and canstimulate creative play with color.  Results of experimenting with theblending modes often produce surprising and very aesthetic results.<P>Blending modes, however, are a lot more than toys for playing withcolor; some very useful operations would be impossible without them.Examples of practical uses for blending modes can be found inSections&nbsp;<A HREF="node67.html#s7.compositing.proj2">7.2</A>,<A HREF="node68.html#s7.compositing.proj3">7.3</A>, and <A HREF="node69.html#s7.compositing.proj4">7.4</A>.This section describes two great applications of blending modes thatdo not appear elsewhere in this book.<P><H2><A NAME="SECTION001381000000000000000">&#160;</A><A NAME="7516">&#160;</A><A NAME="7517">&#160;</A><BR>5.8.1 Colorization</H2><P>It is often desirable to completely change the color of asubject--the color of a car, a lip gloss, eyes, a dress.  Theproblem with changing the color of any real world image is that thereare always lots of variations in the shading of a color.  This is dueto natural color gradations, lighting conditions, and textures.Figure&nbsp;<A HREF="node57.html#f.colorspaces.colorization1">5.26</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.colorization1">&#160;</A><A NAME="7520">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.26:</STRONG>Image Whose Color Is to Be Changed</CAPTION><TR><TD><IMG SRC="img196.gif"ALT="Figure 5.26"></TD></TR></TABLE></DIV><BR>illustrates such an image.  Notice the subtle variations in thekitten's fur.  The gray color of her coat has highlights and shadowsas well as natural variations due to the texture of her fur.  Changingthe color of her coat requires choosing the new color and applying itin such a way that these natural looking variations are preserved.<P>The <TT>Color</TT><A NAME="7525">&#160;</A> blending mode is purr-fectfor this type of operation.  This mode combines the hue and saturationof the foreground with the lightness of the background.  Thus, thenatural dark and light areas of the kitten's coat are preserved andonly the color changes.  The following illustrates how thetechnique is applied.<P>The objective is to change the kitten into a tabby colored cat withblue-ish eyes and to make the T-shirt of the person holding her akhaki green.  To do this, a separate selection is made of the kitten'sbody, her eyes, her nose and mouth, and of the T-shirt.  Each of theseimage components are selected using any of the techniques fromChapters&nbsp;<A HREF="node35.html#c3.selections">3</A> or <A HREF="node42.html#c4.masks">4</A> (I used the <TT>BezierPath</TT> tool).  Each selection is stored as a channel mask, as shown inthe Channels dialog displayed inFigure&nbsp;<A HREF="node57.html#f.colorspaces.colorization1">5.26</A>(b).  The four channel masksare labeled Body, Eyes, T-shirt, and Nose+Mouth.<P>The next step is to create a transparent layer above the kitten imagewhere the new colors can be applied.  The new layer is created byclicking on the <TT>New Layer</TT> button in the Layers dialog.  When the<TT>New Layer Options</TT> dialog appears, the Transparent option isused, and the resulting layer is labeled Colorization Layer.  Changingthe blending mode of this new layer to <TT>Color</TT>, the color surgerycan begin.<P>The Body channel mask is used to recover the selection of the kitten'sbody by applying the function <TT>Channel to Selection</TT> from theChannels menu (see Section&nbsp;<A HREF="node43.html#s4.channels-menu">4.1.5</A>).  The Marching Antsfor this selection can be seen inFigure&nbsp;<A HREF="node57.html#f.colorspaces.colorization2">5.27</A>(a).  Now, making sure thatthe Colorization layer is active by clicking on its thumbnail in theLayers dialog, the <TT>Color Selection</TT> tool, as shown inFigure&nbsp;<A HREF="node57.html#f.colorspaces.colorization2">5.27</A>(b), is used to pick thedesired color, and the <TT>Bucket Fill</TT><A NAME="7539">&#160;</A> toolis used to apply the color to the selected region.Figure&nbsp;<A HREF="node57.html#f.colorspaces.colorization2">5.27</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.colorization2">&#160;</A><A NAME="7542">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.27:</STRONG>Making the Kitten's Coat Tabby-Colored</CAPTION><TR><TD><IMG SRC="img197.gif"ALT="Figure 5.27"></TD></TR></TABLE></DIV><BR>shows the result of this process.  Note that the lightness variationsof the kitten's coat from the lower layer are applied to the color andsaturation choices in the upper one.  Also note that, in the Layersdialog, shown in Figure&nbsp;<A HREF="node57.html#f.colorspaces.colorization2">5.27</A>(c), theColorization Layer shows the thumbnail of the <TT>Bucket Fill</TT>operation.<P>The color of the kitten's eyes are changed using a similar operation.After applying the selection from the Eyes channel mask and making theColorization layer active, you can apply the desired color to theeyes.  Figure&nbsp;<A HREF="node57.html#f.colorspaces.colorization3">5.28</A>(b)<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.colorization3">&#160;</A><A NAME="7550">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.28:</STRONG>Making the Kitten's Eyes Blue</CAPTION><TR><TD><IMG SRC="img198.gif"ALT="Figure 5.28"></TD></TR></TABLE></DIV><BR>shows the color selection, Figure&nbsp;<A HREF="node57.html#f.colorspaces.colorization3">5.28</A>(a)shows the result of the eye-coloring procedure, andFigure&nbsp;<A HREF="node57.html#f.colorspaces.colorization3">5.28</A>(c) shows the correspondingLayers dialog.<P>Before proceeding to the final operation, that of changing the T-shirtcolor, an important touch is needed to make the kitten's nose, mouth,and inner ear look natural.  These parts are not the same color as herfur and require a little pink to make them look correct.  The nose andmouth are colored by converting the Nose+Mouth mask to a selection andby using the <TT>Bucket Fill</TT> tool to apply an appropriately chosenpink color.  As for the kitten's inner ear, the color is applied alittle differently.  The inside of her ear consists of both fur andskin, and, consequently, the <TT>Airbrush</TT><A NAME="7558">&#160;</A> toolis more suitable than the <TT>Bucket Fill</TT> tool for locally applyingthe pink paint.<P>Making the T-shirt a khaki green is a little different from theprevious colorization efforts.  Because the T-shirt's color in theoriginal image is so light, it is impossible to make it any darkerusing the <TT>Color</TT> blending mode, which uses the lightness of thelower layer.  This problem can be solved by changing blending modes.Creating a new transparent layer and setting the mode to <TT>Multiply</TT><A NAME="7562">&#160;</A> allows darker color tobe applied to the T-shirt.  The result of this is shown inFigure&nbsp;<A HREF="node57.html#f.colorspaces.colorization4">5.29</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.colorization4">&#160;</A><A NAME="7683">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.29:</STRONG>Making the T-shirt a Khaki Green Using <TT> Multiply</TT> Mode</CAPTION><TR><TD><IMG SRC="img199.gif"ALT="Figure 5.29"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node57.html#f.colorspaces.colorization4">5.29</A>(b) shows the color chosen forthe T-shirt, and Figure&nbsp;<A HREF="node57.html#f.colorspaces.colorization4">5.29</A>(c) shows thethumbnail of the new layer and the choice of the <TT>Multiply</TT>blending mode.  Note that I set the Opacity slider to 50% for thislayer, which adjusted the color to a value I liked.<P><H2><A NAME="SECTION001382000000000000000">&#160;</A><A NAME="7573">&#160;</A><A NAME="7574">&#160;</A><BR>5.8.2 Realistic Shadows and Highlights</H2><P>A strong specular reflector illuminated by a point source creates astrong highlight and well defined shadows.  However, more diffuselighting produces less well-defined effects.  Under thesecircumstances, the <TT>Multiply</TT> and <TT>Screen</TT> blending modes canbe used to create realistic shadows and highlights in an image.  Thesemodes can be used to darken and lighten parts of an image without therisk of blowing out the tonal range, as is the case for specularreflectors and point source illumination.  The following exampleillustrates this application of these blending modes.<P>Figures&nbsp;<A HREF="node57.html#f.colorspaces.hlt-shdw1">5.30</A>(a) and (b)<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.hlt-shdw1">&#160;</A><A NAME="7579">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.30:</STRONG>Original Circle with Measured Colors Shown in Color SelectionDialogs</CAPTION><TR><TD><IMG SRC="img200.gif"ALT="Figure 5.30"></TD></TR></TABLE></DIV><BR>illustrate two selected colors that are used to make the red circleon the yellow background shown inFigure&nbsp;<A HREF="node57.html#f.colorspaces.hlt-shdw1">5.30</A>(c).  The goal is to give thecircle a 3D look, to produce the effect of depth and light by creatinga natural, diffuse looking highlight and shadow.  The idea is to useeach color itself to create the shadow and highlight.  Applying acolor to itself in <TT>Multiply</TT> mode tends to slightly darken thespot where the paint is applied.  In <TT>Screen</TT> mode, it tends toslightly lighten it.  This darkening and lightening, then, appearsvisually as a diffuse shadow and highlight.  Repeated applicationsincrease the shadow/highlight intensity until the desired effect isachieved.<P>Using the <TT>Color Picker</TT><A NAME="7587">&#160;</A> tool, themeasured colors of the image are <!-- MATH: $221^R 191^G 37^B$ -->221<SUP><I>R</I></SUP> 191<SUP><I>G</I></SUP> 37<SUP><I>B</I></SUP> for the yellowbackground and <!-- MATH: $206^R 26^G 26^B$ -->206<SUP><I>R</I></SUP> 26<SUP><I>G</I></SUP> 26<SUP><I>B</I></SUP> for the red circle.  Because thecolors are not fully saturated, they can be used.  However, if eithercolor were fully saturated (that is, a pure red, green, blue, cyan,magenta, yellow, or white), it would be necessary to select a colorthat is slightly off pure for this technique to work.  This is easilydone, however, using the <TT>Color Selection</TT> tool.<P>To make the highlight<A NAME="7589">&#160;</A> shown in Figure&nbsp;<A HREF="node57.html#f.colorspaces.hlt-shdw2">5.31</A>(a), alarge fuzzy brush is chosen from the <TT>Brush Selection</TT> tool, asshown in Figure&nbsp;<A HREF="node57.html#f.colorspaces.hlt-shdw2">5.31</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.hlt-shdw2">&#160;</A><A NAME="7594">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.31:</STRONG>Screening a Diffuse Highlight</CAPTION><TR><TD><IMG SRC="img201.gif"ALT="Figure 5.31"></TD></TR></TABLE></DIV><BR>Note that, in the <TT>Brush Selection</TT> dialog, the blending mode hasbeen set to <TT>Screen</TT> and the opacity to 60%.  These numbers werechosen with some experimentation to achieve results I liked.  A lightapplication of the <TT>Paintbrush</TT> tool to the side of the red circlewhere I imagine the light to be coming from produces the highlightshown in Figure&nbsp;<A HREF="node57.html#f.colorspaces.hlt-shdw2">5.31</A>(a).  Note that the <TT>Airbrush</TT><A NAME="7603">&#160;</A> tool is also an excellent device forthis type of work.<P>The shadow<A NAME="7604">&#160;</A>shown in Figure&nbsp;<A HREF="node57.html#f.colorspaces.hlt-shdw3">5.32</A>(a) is made with the samebrush; however, now the <TT>Multiply</TT><A NAME="7607">&#160;</A> blending mode is used, as shown inFigure&nbsp;<A HREF="node57.html#f.colorspaces.hlt-shdw3">5.32</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.colorspaces.hlt-shdw3">&#160;</A><A NAME="7610">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 5.32:</STRONG>Multiplying in a Diffuse Shadow</CAPTION><TR><TD><IMG SRC="img202.gif"ALT="Figure 5.32"></TD></TR></TABLE></DIV><BR>Here, the opacity slider in the <TT>Brush Selection</TT> dialog is set to100%.  Again, the numbers depend on the aesthetic sensibilities ofthe individual.  Light application of the <TT>Paintbrush</TT> tool to theopposite side of the highlight and below the circle produces abelievable, diffuse shadow.<P><HR><H1><A NAME="SECTION001390000000000000000">&#160;</A><A NAME="s5.problems">&#160;</A><A NAME="7618">&#160;</A><A NAME="7619">&#160;</A><A NAME="7620">&#160;</A><A NAME="7621">&#160;</A><BR>5.9 Common Problems and <BR>Frequently Asked Questions</H1><P>The following are a few common problems that arise when working withcolorspaces and blending modes:<P><UL><LI><B>I want to apply a blending mode with the <TT>Paintbrush</TT> (<TT>Pencil</TT>, <TT>Bucket Fill</TT>, and so on) tool.  Although I've set theblending mode in the Layers dialog it doesn't seem to work.</B><P>The problem is that the blending modes for the painting tools arecontrolled from the <TT>Brush Selection</TT> dialog, not from the Layersdialog.  Type <TT>C-S-b</TT> in the image window or click on the <TT>Active Brush</TT> in the Toolbox window to bring up this dialog.<P><LI><B>I'm using the <TT>Paintbrush</TT> (<TT>Pencil</TT>, <TT>Bucket Fill</TT>,and so on) tool, and I'm getting strange color results.  What's going on?</B><P>Check that the <TT>Brush Selection</TT> dialog's blending mode is set to<TT>Normal</TT>.<P><LI><B>I want to color a black-and-white image, but no matter what colorI apply it comes out as a shade of gray in my image.  Why?</B><P>You are working on a grayscale format image.  Convert the image to RGBby selecting the function <TT>RGB</TT> from the <TT>Image:Image/Mode</TT> menu.<P></UL><P><HR><H1><A NAME="SECTION001400000000000000000">&#160;</A><A NAME="c6.touchup">&#160;</A><A NAME="8748">&#160;</A><A NAME="8749">&#160;</A><A NAME="8750">&#160;</A><A NAME="8751">&#160;</A><A NAME="8752">&#160;</A><BR>6. Touchup and Enhancement</H1><P>Photos that are scanned or come from a PhotoCD or digital camera cansuffer from both aesthetic and processing defects.  These defects canbe due to problems of contrast, color casts, color saturation, tonalrange, blur, scratches, and so on.  Furthermore, most photos, nomatter how carefully composed, typically need some enhancement toachieve their full potential.  Ansel Adams,<A NAME="8753">&#160;</A> one ofAmerica's most renown photographers, spent as much time in thedarkroom enhancing his negatives and prints as he did in composing andtaking his shots.  Adams' books on working with the negative and theprint are classics in photography [<A HREF="node87.html#adams1">7</A>], [<A HREF="node87.html#adams2">8</A>].<P>Photo touchup and enhancement is part science and part art, and theGIMP is an excellent tool for these on both counts.  This chapterdescribes the main ideas for aesthetically improving photos andexplains how to use the GIMP to achieve terrific results.  Followingare the topics addressed in this chapter:<UL><LI>Improving tonal range.<LI>Removing color casts<LI>Repairing blemishes<LI>Sharpening</UL>Each of these subjects is described in detail in the followingsections, and a case study is presented at the end of the chapter.<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html1704" HREF="node60.html">6.1 Improving Tonal Range</A><UL><LI><A NAME="tex2html1705" HREF="node60.html#SECTION001411000000000000000">6.1.1 Highlights and Shadows</A><LI><A NAME="tex2html1706" HREF="node60.html#SECTION001412000000000000000">6.1.2 Using the <TT>Levels</TT> Tool</A></UL><LI><A NAME="tex2html1707" HREF="node61.html">6.2 Removing Color Casts</A><UL><LI><A NAME="tex2html1708" HREF="node61.html#SECTION001421000000000000000">6.2.1 The <TT>Curves</TT> Tool</A><LI><A NAME="tex2html1709" HREF="node61.html#SECTION001422000000000000000">6.2.2 Color Correcting by Balancing the Neutrals</A><LI><A NAME="tex2html1710" HREF="node61.html#SECTION001423000000000000000">6.2.3 Finding the Shadow, Midtone, and Highlight</A><LI><A NAME="tex2html1711" HREF="node61.html#SECTION001424000000000000000">6.2.4 Other Colors We Know</A><LI><A NAME="tex2html1712" HREF="node61.html#SECTION001425000000000000000">6.2.5 The Perturbation Technique</A><LI><A NAME="tex2html1713" HREF="node61.html#SECTION001426000000000000000">6.2.6 Getting More Detail into the Subject</A><LI><A NAME="tex2html1714" HREF="node61.html#SECTION001427000000000000000">6.2.7 Other Color Correcting Tools</A><UL><LI><A NAME="tex2html1715" HREF="node61.html#SECTION001427100000000000000">6.2.7.1 The <TT>Color Balance</TT> Tool</A><LI><A NAME="tex2html1716" HREF="node61.html#SECTION001427200000000000000">6.2.7.2 The <TT>Brightness-Contrast</TT> Tool</A><LI><A NAME="tex2html1717" HREF="node61.html#SECTION001427300000000000000">6.2.7.3 The <TT>Hue-Saturation</TT> Tool</A></UL></UL><LI><A NAME="tex2html1718" HREF="node62.html">6.3 Repairing Blemishes with the Clone Tool</A><LI><A NAME="tex2html1719" HREF="node63.html">6.4 Sharpening</A><UL><LI><A NAME="tex2html1720" HREF="node63.html#SECTION001441000000000000000">6.4.1 The <TT>Unsharp Mask</TT> Concept</A><LI><A NAME="tex2html1721" HREF="node63.html#SECTION001442000000000000000">6.4.2 A Simplified but Illustrative Example</A><LI><A NAME="tex2html1722" HREF="node63.html#SECTION001443000000000000000">6.4.3 A Representative Example ofApplying <BR>the <TT>Unsharp Mask</TT></A><LI><A NAME="tex2html1723" HREF="node63.html#SECTION001444000000000000000">6.4.4 <TT>Unsharp Mask</TT> Pitfalls</A></UL><LI><A NAME="tex2html1724" HREF="node64.html">6.5 A Case Study</A></UL><!--End of Table of Child-Links--><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1737" HREF="node60.html#SECTION001411000000000000000">6.1.1 Highlights and Shadows</A><LI><A NAME="tex2html1738" HREF="node60.html#SECTION001412000000000000000">6.1.2 Using the <TT>Levels</TT> Tool</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001410000000000000000">&#160;</A><A NAME="s6.tonal-range">&#160;</A><A NAME="8760">&#160;</A><A NAME="8761">&#160;</A><A NAME="8762">&#160;</A><A NAME="8763">&#160;</A><BR>6.1 Improving Tonal Range</H1><P>Improving the tonal range of an image is the first step that should betaken in almost every effort to touch up and enhance a photo.  To do this, it is necessary to understand the basic elementsof tonal range and the tools the GIMP provides to measure andaffect it.<P><H2><A NAME="SECTION001411000000000000000">&#160;</A><A NAME="8765">&#160;</A><A NAME="8766">&#160;</A><A NAME="8767">&#160;</A><BR>6.1.1 Highlights and Shadows</H2><P>What is tonal range?  To answer this question, let's look at thegrayscale photo shown in Figure&nbsp;<A HREF="node60.html#f.touchup.grayscale">6.1</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.grayscale">&#160;</A><A NAME="8770">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.1:</STRONG>Highlights and Shadows in a Grayscale Image</CAPTION><TR><TD><IMG SRC="img203.gif"ALT="Figure 6.1"></TD></TR></TABLE></DIV><BR>The figure shows a tiger image consisting of a complete range ofgrayscale values from 0, or completely black, to 255, fully white.Furthermore, from the histogram<A NAME="8774">&#160;</A> shownin Figure&nbsp;<A HREF="node60.html#f.touchup.grayscale">6.1</A>(b), you can see that thedistribution of pixel values in the image smoothly covers the entireavailable range.  The histogram shown inFigure&nbsp;<A HREF="node60.html#f.touchup.grayscale">6.1</A>(b) is part of the <TT>Levels</TT> tool,which is discussed in detail in the next section.<P>The lightest part of an image is called the <EM>highlight</EM> and thedarkest is called the <EM>shadow</EM>.  It is important to note that notall images will have the maximum highlight of 255 and/or the minimumshadow of 0.  Thus, the tonal range of an image is just the numericdifference between the image's maximum highlight and its minimumshadow.  You will see shortly that measuring highlight and shadowvalues is useful for performing image enhancement, but beforedeveloping this idea, let's examine why tonal range is so important.<P>Having a full tonal range is generally a good thing.  A full tonalrange means that the image has, in a general sense, the fullestpossible contrast.  To illustrate this idea, the tonal range of theimage in Figure&nbsp;<A HREF="node60.html#f.touchup.grayscale">6.1</A>(a) can be syntheticallydiminished by setting the output sliders of the <TT>Levels</TT> tool tovalues well inside the range of 0 to 255.  This adjustment is shownFigure&nbsp;<A HREF="node60.html#f.touchup.grayscale2">6.2</A>(b),<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.grayscale2">&#160;</A><A NAME="8784">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.2:</STRONG>Limited Tonal Range</CAPTION><TR><TD><IMG SRC="img204.gif"ALT="Figure 6.2"></TD></TR></TABLE></DIV><BR>and the result on the image is shown inFigure&nbsp;<A HREF="node60.html#f.touchup.grayscale2">6.2</A>(c).  Here, you can see the effect ofcompressing the tonal range.  Figure&nbsp;<A HREF="node60.html#f.touchup.grayscale2">6.2</A>(b)shows the settings of the <TT>Levels</TT> tool used to limit the tonalrange.  Notice that the resulting contrast of the image inFigure&nbsp;<A HREF="node60.html#f.touchup.grayscale2">6.2</A>(c) is much poorer than the contrastin Figure&nbsp;<A HREF="node60.html#f.touchup.grayscale2">6.2</A>(a).  The image with the smallertonal range looks muddy and washed out in comparison to the original.<P>This example is based on a grayscale image whose tonal range has beensynthetically impoverished.  Nevertheless, the conclusions that can bedrawn from it are general.  That is, maximizing tonal range is usuallya great way to enhance an image.  However, sometimes it is better notto maximize the tonal range.  An image of white lace gloves on a whitelinen tablecloth background is such an example.  Under thesecircumstances, there is a subtle interplay of whites and off-whites inthe image, and a deep black shadow is most likely undesirable.  Inmost cases, however, getting the most tonal range out of an imageimproves contrast, which in turn significantly enhances the image.<P><H2><A NAME="SECTION001412000000000000000">&#160;</A><A NAME="s6.levels">&#160;</A><A NAME="8795">&#160;</A><A NAME="8796">&#160;</A><BR>6.1.2 Using the <TT>Levels</TT> Tool</H2><P>The <TT>Levels</TT> tool is found in the <TT>Image:Image/Colors</TT> menu,and it was used in the previous section to examine the tonal range ofa grayscale image.  The features of this tool and how it can beapplied to color images is discussed in detail here.<P>Figure&nbsp;<A HREF="node60.html#f.touchup.levels0">6.3</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.levels0">&#160;</A><A NAME="9438">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.3:</STRONG>The <TT> Levels</TT> Tool</CAPTION><TR><TD><IMG SRC="img205.gif"ALT="Figure 6.3"></TD></TR></TABLE></DIV><BR>illustrates the <TT>Levels</TT> dialog.  Note that the Channels menu isopen in the figure, showing five different channels that can bedisplayed and modified.  Because we are interested in colorcorrection, only the Red, Green, and Blue channels apply in thissection.<P>The histogram is a very important feature of the <TT>Levels</TT> toolbecause it immediately shows whether a channel occupies its entiretonal range or not.  Just below the histogram is a grayscale calledthe <EM>input value domain</EM>.<A NAME="8808">&#160;</A>  In thisgrayscale, black represents pixel values of 0 and white values of 255.Thus, for the Green channel shown in Figure&nbsp;<A HREF="node60.html#f.touchup.levels0">6.3</A>,the black of the input value domain represents dark values of greenand the white represents bright values of green.  Having no histogramover a part of the input value range means that there are no pixels inthe image having these values.  Thus, inFigure&nbsp;<A HREF="node60.html#f.touchup.levels0">6.3</A>, you can see that there is a lack oftonal range because there are significant parts of the upper and lowerinput value range that have no histogram values over them.<P>The remaining features of the <TT>Levels</TT> dialog are for adjustingthe distribution of the histogram.  The leftmost and rightmost arrowsof the <EM>input control slider</EM><A NAME="8813">&#160;</A> are usedfor stretching the tonal range of the image; the middle arrow can beused to warp the range.  The leftmost arrow is called the shadowcontrol arrow, the rightmost is the highlight control arrow, and themiddle is the midtone control arrow.  The arrows of the <EM>outputcontrol slider</EM><A NAME="8815">&#160;</A> are used for shrinkingthe tonal range.  Adjustments to the control arrows can be madeinteractively by clicking and dragging them.  The arrows can also becontrolled numerically by entering values for the min, gamma, and maxinput levels or for the min and max output levels.<P>The following example shows how the adjustment features of the <TT>Levels</TT> tool function.  Figure&nbsp;<A HREF="node60.html#f.touchup.levels1">6.4</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.levels1">&#160;</A><A NAME="8819">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.4:</STRONG>Image of Deep Sea Turtle Having Compressed Tonal Range</CAPTION><TR><TD><IMG SRC="img206.gif"ALT="Figure 6.4"></TD></TR></TABLE></DIV><BR>shows an image that has a severely compressed tonal range.  This canbe seen by looking at the distribution of pixel values in the Red,Green, and Blue channels shown in Figures&nbsp;<A HREF="node60.html#f.touchup.levels2">6.5</A>(a),(b), and (c), respectively.<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.levels2">&#160;</A><A NAME="8825">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.5:</STRONG>Levels for R, G, and B Channels</CAPTION><TR><TD><IMG SRC="img207.gif"ALT="Figure 6.5"></TD></TR></TABLE></DIV><BR>The figure shows that the Red channel has the poorest tonal range.The Green and Blue channels, which are similar to each other, havetonal ranges that are hardly much better.<P>Figure&nbsp;<A HREF="node60.html#f.touchup.levels3">6.6</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.levels3">&#160;</A><A NAME="8831">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.6:</STRONG>Levels for R, G, and B Channels with Adjusted Input Control Arrows</CAPTION><TR><TD><IMG SRC="img208.gif"ALT="Figure 6.6"></TD></TR></TABLE></DIV><BR>shows how the input shadows and highlights have been set for each ofthe channels, and the resulting image is shown inFigure&nbsp;<A HREF="node60.html#f.touchup.levels4">6.7</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.levels4">&#160;</A><A NAME="8837">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.7:</STRONG>Deep Sea Turtle with Maximized Tonal Range</CAPTION><TR><TD><IMG SRC="img209.gif"ALT="Figure 6.7"></TD></TR></TABLE></DIV><BR>which shows that this simple readjustment of levels, producing amaximum tonal range, has greatly improved the image.  The turtle nowseems to pop right off the page, and the depth of field seems almostthree dimensional.  In comparison, the turtle inFigure&nbsp;<A HREF="node60.html#f.touchup.levels1">6.4</A> seems flat, the colors are muddy, andthe image lacks life.<P>The maximization of an image's tonal range using the <TT>Levels</TT> toolcan introduce color casts (see Section&nbsp;<A HREF="node61.html#s6.color-casts">6.2</A> for adefinition of color casts).  In fact, the turtle inFigure&nbsp;<A HREF="node60.html#f.touchup.levels4">6.7</A> appears to have a slight magenta cast.But don't worry!  Color casts introduced using the <TT>Levels</TT> toolcan be corrected using the <TT>Curves</TT> tool, which is treated in thenext section.<P>A final note before leaving this section is appropriate.  The <TT>Levels</TT> dialog shown in Figure&nbsp;<A HREF="node60.html#f.touchup.levels0">6.3</A> shows a buttonlabeled Auto Levels.  This button pretty much automates what has beendescribed in this section.  That is, it maximizes the tonal range inthe Red, Green, and Blue channels.  In fact, it moves the shadow andhighlight input control sliders for each channel to about the 5% and95% points of the histogram.  After applying Auto Levels, any of theRed, Green, or Blue channels can be reviewed and modified.  <P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1751" HREF="node61.html#SECTION001421000000000000000">6.2.1 The <TT>Curves</TT> Tool</A><LI><A NAME="tex2html1752" HREF="node61.html#SECTION001422000000000000000">6.2.2 Color Correcting by Balancing the Neutrals</A><LI><A NAME="tex2html1753" HREF="node61.html#SECTION001423000000000000000">6.2.3 Finding the Shadow, Midtone, and Highlight</A><LI><A NAME="tex2html1754" HREF="node61.html#SECTION001424000000000000000">6.2.4 Other Colors We Know</A><LI><A NAME="tex2html1755" HREF="node61.html#SECTION001425000000000000000">6.2.5 The Perturbation Technique</A><LI><A NAME="tex2html1756" HREF="node61.html#SECTION001426000000000000000">6.2.6 Getting More Detail into the Subject</A><LI><A NAME="tex2html1757" HREF="node61.html#SECTION001427000000000000000">6.2.7 Other Color Correcting Tools</A><UL><LI><A NAME="tex2html1758" HREF="node61.html#SECTION001427100000000000000">6.2.7.1 The <TT>Color Balance</TT> Tool</A><LI><A NAME="tex2html1759" HREF="node61.html#SECTION001427200000000000000">6.2.7.2 The <TT>Brightness-Contrast</TT> Tool</A><LI><A NAME="tex2html1760" HREF="node61.html#SECTION001427300000000000000">6.2.7.3 The <TT>Hue-Saturation</TT> Tool</A></UL></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001420000000000000000">&#160;</A><A NAME="s6.color-casts">&#160;</A><A NAME="8851">&#160;</A><A NAME="8852">&#160;</A><A NAME="8853">&#160;</A><A NAME="8854">&#160;</A><A NAME="8855">&#160;</A><BR>6.2 Removing Color Casts</H1><P>A color cast occurs when the Red, Green, and Blue channels of an imageare not properly balanced.  The cast can be across the entire range ofpixel values or can limit itself to the highlight, shadow, or midtonesof the image.  Color casts are common in photographs.  They occurbecause, under certain circumstances, the sensitivity of film to coloris different than the sensitivity of the human eye.  The film justdoesn't record the same scene as your eye.<P>Removing color casts requires being able to identify where the colorin an image has gone wrong.  I often have a hard time telling, simplyby looking at an image, if it is suffering from a color cast.  This isdue to many reasons.  First, color is a perceptual issue that isstrongly affected by surrounding light conditions.  Second, therepresentation of color varies from one computer monitor to anotherbecause settings such as brightness, contrast, gamma, and colortemperature can be quite different.  Furthermore, the ability of amonitor's phosphors to create levels of red, green, and blue lightwill differ from monitor to monitor and change over time as themonitor ages.<P>All this makes the perceptual evaluation of color casts difficult forthe average person.  Fortunately, the GIMP provides some analyticaland interactive tools for determining whether color casts exist andfor correcting them.  There are several techniques for identifying,measuring, and correcting color casts.  Each approach uses thepowerful <TT>Curves</TT> tool which is reviewed in the first part of thissection.<P><H2><A NAME="SECTION001421000000000000000">&#160;</A><A NAME="s6.curves">&#160;</A><A NAME="8859">&#160;</A><A NAME="8860">&#160;</A><A NAME="8861">&#160;</A><BR>6.2.1 The <TT>Curves</TT> Tool</H2><P>The <TT>Curves</TT> tool is found in the <TT>Image:Image/Colors</TT> menu.Figure&nbsp;<A HREF="node61.html#f.touchup.curves1">6.8</A> <BR><DIV ALIGN="CENTER"><A NAME="f.touchup.curves1">&#160;</A><A NAME="9445">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.8:</STRONG>The <TT> Curves</TT> Tool</CAPTION><TR><TD><IMG SRC="img210.gif"ALT="Figure 6.8"></TD></TR></TABLE></DIV><BR>illustrates the basic components of this tool.  As with the <TT>Levels</TT> tool, the <TT>Curves</TT> tool can be applied to any of fivedifferent channels; however, for removing color casts, we are mainlyconcerned with the Red, Green, and Blue channels.<P>The main elements of the tool consist of an <EM>input valuedomain</EM>,<A NAME="8873">&#160;</A> an <EM>output valuerange</EM>,<A NAME="8875">&#160;</A> and a <EM>controlcurve</EM><A NAME="8877">&#160;</A> drawn on a graph.  The graph has a griddivided into quarters, and the range of values is from 0 to 255.Thus, the value of each grid line, moving horizontally from left toright, is 0, 64, 128, 192, and 255.  The values moving vertically frombottom to top are the same.<P>The control curve represents a map of the input value domain to theoutput value range.  That sounds pretty abstract!  What good ismapping input to output values?  The executive, top-level answer isthat curve mapping of input to output values is the most powerfulcolor correcting tool in the GIMP, and learning how to use it isdefinitely worth your while.  More about mapping input to outputvalues and what it's good for in a moment...<P>Figure&nbsp;<A HREF="node61.html#f.touchup.curves2">6.9</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.curves2">&#160;</A><A NAME="8880">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.9:</STRONG>Adding and Moving a Control Point</CAPTION><TR><TD><IMG SRC="img211.gif"ALT="Figure 6.9"></TD></TR></TABLE></DIV><BR>illustrates the main operation we will be performing with the <TT>Curves</TT> tool--that is, adding a <EM>control point</EM><A NAME="8886">&#160;</A> to the control curve as inFigure&nbsp;<A HREF="node61.html#f.touchup.curves2">6.9</A>(a) and then moving it to a new positionas in Figure&nbsp;<A HREF="node61.html#f.touchup.curves2">6.9</A>(b).  Control points can be addedto the curve simply by clicking on the curve at the desired location.The point can be moved by clicking and dragging it.  If the mousecursor is not on the curve when the mouse button is clicked, a controlpoint is added to the curve at the position directly above (or below)the cursor.  This new point is then automatically positioned to thecursor location.<P>Every control curve has two default control points located at thecurve's upper right and lower left.  These can be moved just likeuser-created control points.  All control points except the defaultscan be removed by clicking on the Reset button in the dialog.  If manycontrol points have been positioned and a single one needs to beremoved you can remove it by dragging it with the mouse to the left orright edge of the dialog.  This pulls the control point right off thecurve.<P>The <TT>Curves</TT> tool also has an Information Field that interactivelyindicates the X and Y positions of the mouse cursor whenever it is inthe graph area of the dialog.  This field is located in the upper-leftcorner of the graph area, and, as you will see, this information isessential for performing precise color correction.  But first, it isimportant to get an intuitive feel for how the <TT>Curves</TT> toolworks.  <P>Figure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust1">6.10</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.curves-adjust1">&#160;</A><A NAME="8893">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.10:</STRONG>Image with Shadow-to-Midtone and Midtone-to-Highlight Gradients</CAPTION><TR><TD><IMG SRC="img212.gif"ALT="Figure 6.10"></TD></TR></TABLE></DIV><BR>illustrates a special test case that will help you understand how the<TT>Curves</TT> tool affects an image.  The figure shows two gradientseach using up half the tonal range of a grayscale.  The upper gradienthas values from 0 to 127, and the lower gradient has values from 128to 255.<P>The following illustrates how the <TT>Curves</TT> tool is used to changethe tonal range of these two gradients.Figure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust2">6.11</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.curves-adjust2">&#160;</A><A NAME="8901">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.11:</STRONG>Improving the Contrast of the Midtone-to-Highlight Gradient</CAPTION><TR><TD><IMG SRC="img213.gif"ALT="Figure 6.11"></TD></TR></TABLE></DIV><BR>shows the Value channel of the <TT>Curves</TT> tool.  A control point hasbeen placed at the midpoint of the curve and pulled downward to aposition one quarter of its original height.  Initially, when it is astraight line, the curve of the <TT>Curves</TT> tool maps each inputvalue to the identical output value.  However, the curve shown inFigure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust2">6.11</A> changes that map.  Now the inputvalues from 0 to 128 are mapped to one quarter of the scale they werebefore.  That is, these values are now compressed into the range of 0to 32.  At the same time, the input values in the domain 128 to 255are stretched to the range of 32 to 255.  This is emphasized by thered dashed lines superimposed on the <TT>Curves</TT> dialog.<P>This means that all the pixels that had values in 0 to 128 inFigure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust1">6.10</A> are compressed to a new range of0 to 32.  Thus, much of the detail and contrast between neighboringpixel values in this range is lost.  This effect can clearly be seenin the upper gradient in Figure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust2">6.11</A>(b),which is the result of applying the curve inFigure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust2">6.11</A>(a) to the image inFigure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust1">6.10</A>.  Simultaneously, the pixelvalues in the domain 128 to 255 are stretched to a new range of 32 to255.  Consequently, the contrast of the detail of these pixels isincreased,<A NAME="8913">&#160;</A> as you can see in the lowergradient in Figure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust2">6.11</A>(b).<P>A similar analysis can be made forFigure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust3">6.12</A>,<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.curves-adjust3">&#160;</A><A NAME="8917">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.12:</STRONG>Improving the Contrast of the Shadow-to-Midtone Gradient</CAPTION><TR><TD><IMG SRC="img214.gif"ALT="Figure 6.12"></TD></TR></TABLE></DIV><BR>which illustrates the opposite effect.  Here, as shown inFigure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust3">6.12</A>(a), the input value domain from0 to 128 is stretched and the input domain from 128 to 255 iscompressed.  The effect on the gradients is shown inFigure&nbsp;<A HREF="node61.html#f.touchup.curves-adjust3">6.12</A>(b).  Although these two examplesare illustrated using the Value channel, the same conclusions hold forthe Red, Green, and Blue channels.<P>The conclusion that can be drawn from these two examples is that the<TT>Curves</TT> tool can be used for two things.  First, ranges of pixelvalues can be remapped.<A NAME="8924">&#160;</A><A NAME="8925">&#160;</A>  This is particularlyvaluable when a color channel is out of balance with the others.  Whencolor imbalances occur, we will try to measure which range is out ofbalance, determine what the range should be, and use the <TT>Curves</TT>tool to remap one range to the other.  This approach is developed indetail in Section&nbsp;<A HREF="node61.html#s6.neutrals">6.2.2</A>.<P>The second use is to improve contrast where it is most needed.  Oftenan image has a subject that is much more important than the rest ofthe image.  When this is the case, it is desirable to give the subjectthe most detail and contrast possible.  From the examples, you can seethat the <TT>Curves</TT> tool can be used to improve contrast.  Note,however, that in improving the contrast in one range of values, theremust simultaneously be a loss of detail and contrast in thecomplementary range of values.  This was clearly demonstrated inFigures&nbsp;<A HREF="node61.html#f.touchup.curves-adjust2">6.11</A>(b) and<A HREF="node61.html#f.touchup.curves-adjust3">6.12</A>(b).  Fortunately, improving thecontrast of the subject while simultaneously impoverishing thecontrast of the background is typically what we want to do.  Thisdraws the viewer's eye to the part of the image we most want toconvey.  The idea of improving subject contrast is developed more inSection&nbsp;<A HREF="node61.html#s6.detail">6.2.6</A>.<P><H2><A NAME="SECTION001422000000000000000">&#160;</A><A NAME="s6.neutrals">&#160;</A><A NAME="8934">&#160;</A><A NAME="8935">&#160;</A><A NAME="8936">&#160;</A><BR>6.2.2 Color Correcting by Balancing the Neutrals</H2><P>A powerful method for identifying color casts is to measure the colorof pixels that, in principle, should be neutral gray.  Neutrals musthave equal components of red, green, and blue.  If they don't, thatindicates the presence of a color cast, and you know that a colorcorrection must be made.<P>Figure&nbsp;<A HREF="node61.html#f.touchup.neutral1">6.13</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.neutral1">&#160;</A><A NAME="8939">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.13:</STRONG>Image with a Color Cast?  The Measured Pixels Say Yes!</CAPTION><TR><TD><IMG SRC="img215.gif"ALT="Figure 6.13"></TD></TR></TABLE></DIV><BR>illustrates a case where the identification of neutral pixels allowsus to color correct the image.  In the image, the arcade of palm treescasts shadows over a white sand path and, in principle these shadowsshould be neutral in color.<P>There are a wide range of values for the shadow along the path, and itis possible to measure dark, mid-range, and light shadow values.  InFigure&nbsp;<A HREF="node61.html#f.touchup.neutral1">6.13</A>, these are referred to as shadow,midtone, and highlight neutrals, and their values, measured with the<TT>Color Picker</TT>,<A NAME="8945">&#160;</A> are shown at threedifferent points.  (The <TT>Color Picker</TT> is located in the Toolboxand is represented by the eye-dropper icon.)  Measuring color in animage with the <TT>Color Picker</TT> displays the color in a rectangularpatch in the <TT>Color Picker</TT> dialog and gives its R, G, and Bvalues.  Measuring a color with the <TT>Color Picker</TT> also has theeffect of setting the <TT>Active Foreground Color</TT> patch, in theToolbox window, to the measured color.<P>For the three measured pixels shown inFigure&nbsp;<A HREF="node61.html#f.touchup.neutral1">6.13</A>, you can see that there is a distinctblue tinge for each one.  Not only do the color patches shown in the<TT>Color Picker</TT> dialog look blue, the measured R, G, and B valuesshow that there is a significant deviation of the blue values from thered and green ones--too much for the color of these pixels to beneutral.  Using the color notation introduced inSection&nbsp;<A HREF="node50.html#s5.rgb-colorspace">5.1</A>, the color patches shown in the <TT>Color Picker</TT> dialogs have the values <!-- MATH: $33^R 35^G 52^B$ -->33<SUP><I>R</I></SUP> 35<SUP><I>G</I></SUP> 52<SUP><I>B</I></SUP> for the shadow,<!-- MATH: $111^R 132^G 179^B$ -->111<SUP><I>R</I></SUP> 132<SUP><I>G</I></SUP> 179<SUP><I>B</I></SUP> for the midtone, and <!-- MATH: $173^R 172^G 206^B$ -->173<SUP><I>R</I></SUP> 172<SUP><I>G</I></SUP> 206<SUP><I>B</I></SUP> for thehighlight.  The measured R, G, and B values for each point clearlyindicate that there is too much blue.<P>It is true that shadows sometimes appear blue.  However, this isusually true in winter away from the equator and is due to the naturalfiltering of the sun's rays by the earth's atmosphere.  The blue colorcast measured in Figure&nbsp;<A HREF="node61.html#f.touchup.neutral1">6.13</A> is more likely due tothe tendency of film, especially slide film, to produce blue castswhen photographing under natural sky light.  In any case, at anequatorial location on the earth, we would expect the fuller spectrumof the sun's light to create neutral shadows when these are seen on aneutral background.<P>In addition to the blue cast, there may also be a slight reddeficiency in the midtone range.  In the following discussion the bluecolor cast and the red midtone deficiency are corrected using the <TT>Curves</TT> tool.<P>Figures&nbsp;<A HREF="node61.html#f.touchup.neutral2">6.14</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.neutral2">&#160;</A><A NAME="8959">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.14:</STRONG>Using the Measured Pixel Values to Modify the Red Curve</CAPTION><TR><TD><IMG SRC="img216.gif"ALT="Figure 6.14"></TD></TR></TABLE></DIV><BR>and <A HREF="node61.html#f.touchup.neutral3">6.15</A> <BR><DIV ALIGN="CENTER"><A NAME="f.touchup.neutral3">&#160;</A><A NAME="8965">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.15:</STRONG>Using the Measured Pixel Values to Modify the Blue Curve</CAPTION><TR><TD><IMG SRC="img217.gif"ALT="Figure 6.15"></TD></TR></TABLE></DIV><BR>illustrate how the <TT>Curves</TT> tool is used to correct these colorproblems.  Figure&nbsp;<A HREF="node61.html#f.touchup.neutral2">6.14</A> shows a modification to thered curve and Figure&nbsp;<A HREF="node61.html#f.touchup.neutral3">6.15</A> to the blue.  For each,the procedure is identical.  The red and blue components of themeasured pixel values are used to place control points on theirrespective curves.  This is shown in part (a) of each figure.  Theaccurate placement of the points is facilitated by the InformationField found in the upper left corner of the graph area.  The controlpoints are then moved vertically up or down to new positions, whichremaps the ranges of pixel values between them and makes the measuredpixels neutral in value.  The displaced control points are shown inpart (b) of the figures.<P>Again, the goal in displacing the control points is to make each ofthe measured pixel values neutral.  This means making their red,green, and blue components equal.  In this example, this isaccomplished by moving the red and blue control points so that theirvalues are made equal to the measured green values.  The accuraterepositioning of the points is made possible by the positionInformation Field displayed in the upper-left corner of the grapharea.  Note that the numbers positioned near the control points inFigures&nbsp;<A HREF="node61.html#f.touchup.neutral2">6.14</A> and<A HREF="node61.html#f.touchup.neutral3">6.15</A> are not a feature of the <TT>Curves</TT> tool;they are placed there to clarify the procedure.<P>Thus, on the red control curve, the shadow, midtone, and highlightvalues are moved from 33, 111, and 173 to the measured green values of35, 132, and 172.  On the blue control curve, the shadow, midtone, andhighlight values are moved from 52, 179, and 206, again, to the greenvalues of 35, 132, and 172.  After the operation, the color values forthe three measured pixels are <!-- MATH: $35^R 35^G 35^B$ -->35<SUP><I>R</I></SUP> 35<SUP><I>G</I></SUP> 35<SUP><I>B</I></SUP> for the shadow, <!-- MATH: $132^R132^G 132^B$ -->132<SUP><I>R</I></SUP>132<SUP><I>G</I></SUP> 132<SUP><I>B</I></SUP> for the midtone, and <!-- MATH: $172^R 172^G 172^B$ -->172<SUP><I>R</I></SUP> 172<SUP><I>G</I></SUP> 172<SUP><I>B</I></SUP> for thehighlight--all three neutral grays.<P>The result of color correcting the neutral pixel values is shown inFigure&nbsp;<A HREF="node61.html#f.touchup.neutral4">6.16</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.neutral4">&#160;</A><A NAME="8977">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.16:</STRONG>Comparison of the Original and Color Corrected Images</CAPTION><TR><TD><IMG SRC="img218.gif"ALT="Figure 6.16"></TD></TR></TABLE></DIV><BR>For comparison, the original image is shown inFigure&nbsp;<A HREF="node61.html#f.touchup.neutral4">6.16</A>(a).  It is quite clear now that theoriginal image did have a blue cast and that this has been eliminatedin the corrected image.  Measuring the pixel values along thetree-lined path shows that, overall, the balance is much better andmost of the tree shadow values are now neutral.  Furthermore, the restof the image has taken on a much warmer look.  The trees are nowbathed in a yellow light, corresponding better to what we might expectfrom a tropical sunlit scene.<P>There are some practical questions about the color correctingprocedure just described.  The first is, why were the blue and redchannels matched to the green?  For the three measured pixels thereare a total of nine ways to make the three neutral.  However, inpractice, it is typical that two of the channels are almost the sameand that one is quite different.  When this is the case, as it is forthe the measured shadow and highlight values in the preceding example,the choice is clear.  When it is not the case, some experimentationmay be necessary.<P>The second question about the procedure is, why measure three points?The method doesn't require three points and, amazingly, often a singlepoint can suffice to color correct the entire image.  However,matching a shadow, midtone, and highlight image point providesadditional insurance that the color in each range is properlybalanced.<P>The <TT>Curves</TT> tool has several features that facilitate thepositioning of points on the control curves.  Clicking the mousebutton in the image window produces a vertical bar in the graph areaof the <TT>Curves</TT> tool.  The bar position corresponds to the pixelvalue the mouse cursor is over in the image window.  Clicking anddragging the mouse button interactively updates the position of thevertical bar.  In this way, it is possible to see where differentpixel values in the image are located on the control curve and helpsto discover the locations of shadow, midtone, and highlight pixels.In addition to input position information, Shift-clicking in the imagewindow automatically creates a control point on the curve in theactive channel of the <TT>Curves</TT> dialog.  Control-clicking on apoint in the image window produces control points on each of the Red,Green, Blue, and Value control curves.<P>In addition to the <TT>Curves</TT> tool features, a very useful tool forexploring and discovering color problems in an image is the <TT>InfoWindow</TT><A NAME="8987">&#160;</A><A NAME="8988">&#160;</A> dialog.This dialog is found in the <TT>Image:View</TT> menu and can also beinvoked by typing <TT>C-S-i</TT> in the image window.  The Extended tabof this dialog interactively reports the R, G, and B pixel-colorcomponents when the mouse is in the image window.  The advantage ofthe <TT>Info Window</TT> over the <TT>Color Picker</TT><A NAME="8993">&#160;</A> for measuring pixel values in the image window is it remainsopen while using the <TT>Curves</TT> tool.<P>There are two lessons to be learned from this section.  First, colorcorrection can be very easy.  Measuring only a few pixel values acrossthe shadow to highlight range can color correct an entire image in afew minutes time.  Second, the color correction obtained in this waynot only fixes the individual measured pixels but usually corrects theentire image.  Third, the <TT>Curves</TT> tool is the only one which canbe used to correct the image based on measured pixel values.  Forthese reasons, the <TT>Curves</TT> tool is the most precise and the mostpowerful tool for color correction in the GIMP.<P><H2><A NAME="SECTION001423000000000000000">&#160;</A><A NAME="s6.threshold">&#160;</A><A NAME="8999">&#160;</A><A NAME="9000">&#160;</A><A NAME="9001">&#160;</A><A NAME="9002">&#160;</A><A NAME="9003">&#160;</A><BR>6.2.3 Finding the Shadow, Midtone, and Highlight</H2><P>To do color correction using the techniques of the previous section,it is important to be able to identify shadow, midtone, and highlightcolors.  To be frank, I sometimes have difficulties finding them forsome images.  When this happens, the <TT>Threshold</TT> tool is usefulbecause it can show where any range of values is hidden in an image.The <TT>Threshold</TT> tool is found in the <TT>Image:Image/Colors</TT>menu.  Figure&nbsp;<A HREF="node61.html#f.touchup.threshold">6.17</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.threshold">&#160;</A><A NAME="9455">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.17:</STRONG>Using the <TT> Threshold</TT> Tool to Find Shadows and Highlights: (a) OriginalPhoto (b) Darkest Shadows (c) Lightest Highlights</CAPTION><TR><TD><IMG SRC="img219.gif"ALT="Figure 6.17"></TD></TR></TABLE></DIV><BR>shows how this tool can be used to help locate critical shadow andhighlight values.<P>Figure&nbsp;<A HREF="node61.html#f.touchup.threshold">6.17</A>(a) illustrates an image andFigures&nbsp;<A HREF="node61.html#f.touchup.threshold">6.17</A>(b) and (c) show how to use the <TT>Threshold</TT> tool to identify its darkest shadows and lightesthighlights.  The <TT>Threshold</TT> tool, which was introduced inSection&nbsp;<A HREF="node47.html#s4.threshold">4.5.3</A>, consists of a dialog that displays thehistogram of the image's pixel values.  Clicking and dragging themouse through a range of histogram values has the effect of mappingall the pixel values in the image to either black or white.  The imagepixel values corresponding to the selected histogram range becomewhite, and the rest become black.<P>In this way, it is easy to localize the pixel values we are searchingfor.  Starting with an image like the one inFigure&nbsp;<A HREF="node61.html#f.touchup.threshold">6.17</A>(a), a duplicate of the image is madeby typing <TT>C-d</TT><A NAME="9020">&#160;</A> in the image window.Then, the <TT>Threshold</TT> tool is applied to the duplicate, and arange of shadow values is swept out with the mouse, as shown inFigure&nbsp;<A HREF="node61.html#f.touchup.threshold">6.17</A>(b).  The resulting white pixel valuesin the duplicated image window show the locations of the darkestshadows.  Using the duplicated image as a guide, the <TT>ColorPicker</TT> can now be used in the original image window to measure pixelvalues at the appropriate locations.  A similar procedure is used toaccurately find and measure the lightest highlights of the image usingthe duplicated image shown in Figure&nbsp;<A HREF="node61.html#f.touchup.threshold">6.17</A>(c).<P>Note that this procedure, using the <TT>Threshold</TT> tool to find valueranges in the image, can also be used on the image's individual RGBcomponents.  The decomposition is made using the <TT>Decompose</TT>function, found in the <TT>Image:Image/Mode</TT> menu (seeSection&nbsp;<A HREF="node47.html#s4.decompose_threshold">4.5.3</A>).  <P><H2><A NAME="SECTION001424000000000000000">&#160;</A><A NAME="9030">&#160;</A><BR>6.2.4 Other Colors We Know</H2><P>If there are identifiable colors other than neutrals in an image,these, too, can be used to perform color correction.  Examples are thecolors of flags, logos, or certain animals.  A Canadian flag whosefamous maple leaf emblem were not red would be a good point ofreference for color correction.<P>Another important class of colors that can be found in many images arefleshtones.<A NAME="9031">&#160;</A><A NAME="9032">&#160;</A>  A mediumCaucasian fleshtone has a green around 192, a red that is about 20%more (234), and a blue about 10% less (176).  Darker skinned peoplehave skin colors with more blue and less red, and Asians have lessblue.  Because of the variability of skin tones, relying on them asguides is more uncertain than using neutrals.  Nevertheless, for someimages this may be the only point of reference available for colorcorrection.<P><H2><A NAME="SECTION001425000000000000000">&#160;</A><A NAME="s6.perturbation-technique">&#160;</A><A NAME="9035">&#160;</A><A NAME="9036">&#160;</A><A NAME="9037">&#160;</A><BR>6.2.5 The Perturbation Technique</H2><P>Sometimes it is impossible to positively identify a color in an imagebut it seems clear that a color cast is present.  This means there areno color references that can be used to do color correction.  Underthese conditions, an alternate approach is needed.  The methodproposed here is what I call the perturbation technique.  It relies onthe visual feedback that the preview checkbox in the <TT>Curves</TT>dialog provides.  In a nutshell, the method makes incrementalperturbations to the shadow, midtone, and highlight regions for eachof the red, green, and blue curves.  The perturbations that improvethe image are kept and those that do not are discarded.<P>Figure&nbsp;<A HREF="node61.html#f.touchup.perturb0">6.18</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.perturb0">&#160;</A><A NAME="9041">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.18:</STRONG>Implementation of the Perturbation Technique: (a) Placing theShadow, Midtone, and Highlight Region Control Points (b) Perturbationof the Midtone Control Point</CAPTION><TR><TD><IMG SRC="img220.gif"ALT="Figure 6.18"></TD></TR></TABLE></DIV><BR>illustrates the idea.  In Figure&nbsp;<A HREF="node61.html#f.touchup.perturb0">6.18</A>(a), the Redchannel of the <TT>Curves</TT> tool is displayed, and three controlpoints have been added to the curve at the quarter, half, andthree-quarter positions.  The regions of the curve around these pointsroughly control the shadow, midtone, and highlight regions of the Redchannel.  The perturbation technique works by moving the controlpoints up or down and seeing whether the change improves the image.Figure&nbsp;<A HREF="node61.html#f.touchup.perturb0">6.18</A>(b) shows a perturbation of the midtonecontrol point.<P>Note that, in moving the midtone control point, the only parts of thecurve that move are those between the shadow and highlight controlpoints.  The rest of the curve is constrained by the two other controlpoints.  This is very useful because it allows the <TT>Curves</TT> toolto act on a select part of the image's tonal range.<P>The perturbation technique is not scientific and relies on theperceptual abilities of the user to see changes that improve ordeteriorate an image.  Nevertheless, cycling among the nine controlpoints, making only gradual changes to each, can often producemarvelous results.  The following example illustrates this approach.<P>Figure&nbsp;<A HREF="node61.html#f.touchup.perturb1">6.19</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.perturb1">&#160;</A><A NAME="9051">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.19:</STRONG>Image with a Color Cast.  Can you see it?</CAPTION><TR><TD><IMG SRC="img221.gif"ALT="Figure 6.19"></TD></TR></TABLE></DIV><BR>shows an image of a tiger that has a problem (the image, not thetiger).  It has a subtle, overall green color cast.  The color cast isso subtle, at first, I didn't even recognize it.<P>The perturbation technique is an approach to color correction thatrequires experimentation.  Thus, the steps are difficult to present inbook format.  The best that I can do is to show you the results.  Forthis, Figure&nbsp;<A HREF="node61.html#f.touchup.perturb2">6.20</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.perturb2">&#160;</A><A NAME="9057">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.20:</STRONG>The Three Adjusted Curves Using the Perturbation Technique</CAPTION><TR><TD><IMG SRC="img222.gif"ALT="Figure 6.20"></TD></TR></TABLE></DIV><BR>shows the final curves for the Red, Green, and Blue channels (shown inparts (a), (b), and (c), respectively).  The resulting effect on theimage is shown in Figure&nbsp;<A HREF="node61.html#f.touchup.perturb3">6.21</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.perturb3">&#160;</A><A NAME="9063">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.21:</STRONG>The Color Corrected Image</CAPTION><TR><TD><IMG SRC="img223.gif"ALT="Figure 6.21"></TD></TR></TABLE></DIV><BR>Comparing Figure&nbsp;<A HREF="node61.html#f.touchup.perturb3">6.21</A> withFigure&nbsp;<A HREF="node61.html#f.touchup.perturb1">6.19</A> makes the green color cast in theoriginal image readily apparent.  Furthermore, you can see that theapplication of the perturbation technique has simultaneously improvedthe contrast of the image's subject.  The tiger looks significantlyenhanced.<P>There is an important caveat to the perturbation technique.  Becausethis method relies on the visual feedback you get from your monitor,the technique is highly dependent on the monitor's individualcharacteristics.  What looks great on your monitor might not look asgreat on another.  The method described earlier in this chapter thatmeasures pixel values and then makes adjustments accordingly does notdepend on the monitor.  The earlier method is the preferred approachwhenever possible.<P><H2><A NAME="SECTION001426000000000000000">&#160;</A><A NAME="s6.detail">&#160;</A><A NAME="9071">&#160;</A><A NAME="9072">&#160;</A><A NAME="9073">&#160;</A><BR>6.2.6 Getting More Detail into the Subject</H2><P>Sometimes one part of an image is more important than the rest.  Weoften refer to this part of the image as the image subject.  It istypical to want the subject to have as much contrast as possible.This makes the subject stand out and look much more interesting.  Aswas discussed in Section&nbsp;<A HREF="node61.html#s6.curves">6.2.1</A>, the <TT>Curves</TT> tool can beused to improve the contrast of certain parts of the tonal range in animage.  This can be applied to the subject of the image by determiningits lightest highlight and deepest shadow and then steepening the partof the control curves covering this range.<P>However, if a lot of work has already gone into maximizing tonal rangeand correcting color, you might be reticent to play with the curves toget additional contrast into the subject.  Clearly, manipulating apart of the curves in an attempt to improve contrast can damage thecolor balance obtained with much hard work.<P>Fortunately, there is a way to have your cake and eat it too.  Up tothis point, the red, green, and blue control curves have monopolizedour attention.  As you have already seen, modifying any of thesechanges the overall balance of color in the image.  However, the <TT>Curves</TT> tool can also be used to modify the image's Valuechannel.<A NAME="9077">&#160;</A>  As discussed inSection&nbsp;<A HREF="node52.html#s.colorspaces.hsv2rgb">5.3</A>, the Value channel has no effecton color; it only affects brightness.  This, then, is the perfectchannel for improving contrast while preserving the image's colorbalance.<P>To illustrate the use of the Value channel to improvecontrast,<A NAME="9079">&#160;</A>Figure&nbsp;<A HREF="node61.html#f.touchup.contrast1">6.22</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.contrast1">&#160;</A><A NAME="9082">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.22:</STRONG>Original and Color Corrected Images</CAPTION><TR><TD><IMG SRC="img224.gif"ALT="Figure 6.22"></TD></TR></TABLE></DIV><BR>shows an original image that lacks tonal range and has a terribleyellow color cast.  Figure&nbsp;<A HREF="node61.html#f.touchup.contrast1">6.22</A>(b) shows thecorrected image, which was obtained simply by applying the Auto Levelsbutton of the <TT>Levels</TT> tool (see Section&nbsp;<A HREF="node60.html#s6.levels">6.1.2</A>).Although the image is much improved, it lacks detail in the eagle'swhite head feathers.  It would be nice to improve this part of theeagle to give it more visual depth.  This can be done by modifying theValue channel of the <TT>Curves</TT> tool.<P>To improve the contrast of the head feathers, it is necessary todetermine the value range that this part of the image is containedin.  The <TT>Threshold</TT> tool is perfect for this (seeSection&nbsp;<A HREF="node61.html#s6.threshold">6.2.3</A>). Figure&nbsp;<A HREF="node61.html#f.touchup.contrast2">6.23</A> <BR><DIV ALIGN="CENTER"><A NAME="f.touchup.contrast2">&#160;</A><A NAME="9462">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.23:</STRONG>Using <TT> Threshold</TT> to Find the Correct Value Range</CAPTION><TR><TD><IMG SRC="img225.gif"ALT="Figure 6.23"></TD></TR></TABLE></DIV><BR>illustrates the use of <TT>Threshold</TT> for determining an appropriaterange of values.  Figure&nbsp;<A HREF="node61.html#f.touchup.contrast2">6.23</A>(a) shows the <TT>Threshold</TT> dialog applied to the color corrected image inFigure&nbsp;<A HREF="node61.html#f.touchup.contrast1">6.22</A>(b), andFigure&nbsp;<A HREF="node61.html#f.touchup.contrast2">6.23</A>(b) shows the result of having sweptout the range [174,255] in the <TT>Threshold</TT> dialog.  This range,which was determined by experimentation, pretty much covers the partof the eagle image where we want to improve the contrast.<P>The value range determined with the <TT>Threshold</TT> tool is noted, andthe tool is then canceled.  The next step is to invoke the <TT>Curves</TT> tool and to improve the contrast of the Value channel curveusing the range determined using <TT>Threshold</TT>.Figure&nbsp;<A HREF="node61.html#f.touchup.contrast3">6.24</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.contrast3">&#160;</A><A NAME="9464">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.24:</STRONG>Using <TT> Curves</TT> to Improve Contrast in the Subject Value Range</CAPTION><TR><TD><IMG SRC="img226.gif"ALT="Figure 6.24"></TD></TR></TABLE></DIV><BR>illustrates the procedure.  Figure&nbsp;<A HREF="node61.html#f.touchup.contrast3">6.24</A>(a) showsthe <TT>Curves</TT> dialog for the Value channel.  A control point hasbeen added to the curve at the input value of 174, and this point hasbeen moved to the output value of 140.  This has the effect ofsteepening the Value curve in the range [174,255], which is the rangeof values where we want to improve contrast.  From previousdiscussion, we know that steepening the Value curve in a range has theeffect of improving this range's contrast.  <P>The result of applying the curve shown inFigure&nbsp;<A HREF="node61.html#f.touchup.contrast3">6.24</A>(a) is shown inFigure&nbsp;<A HREF="node61.html#f.touchup.contrast3">6.24</A>(b).  Comparing this result to theimage in Figure&nbsp;<A HREF="node61.html#f.touchup.contrast1">6.22</A>(b) shows that the contrastof the eagle's head feathers has been significantly improved.  As afinal, practical note, the amount that the Value curve is steepened isdetermined experimentally by moving the control points on the curveand evaluating the effect on the image.<P><H2><A NAME="SECTION001427000000000000000">6.2.7 Other Color Correcting Tools</A></H2><P>The GIMP has several other color correcting tools.  These all live inthe <TT>Image:Colors</TT> menu and their names are <TT>Color Balance</TT>,<TT>Brightness-Contrast</TT>, and <TT>Hue-Saturation</TT>.  In this book,these tools are not covered in detail, and for good reason.  Althoughthey can be used for touchup and enhancement, these tools are likeworking with a dull knife, especially when compared to the <TT>Curves</TT> tool, which has the precision of a surgeon's scalpel.  Let'ssee why.<P><H3><A NAME="SECTION001427100000000000000">&#160;</A><A NAME="9125">&#160;</A><A NAME="9126">&#160;</A><A NAME="9127">&#160;</A><BR>6.2.7.1 The <TT>Color Balance</TT> Tool</H3><P>Figure&nbsp;<A HREF="node61.html#f.touchup.color-balance">6.25</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.color-balance">&#160;</A><A NAME="9467">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.25:</STRONG>Comparing <TT> Color Balance</TT> to the <TT> Curves</TT> Tool</CAPTION><TR><TD><IMG SRC="img227.gif"ALT="Figure 6.25"></TD></TR></TABLE></DIV><BR>shows the dialog for the <TT>Color Balance</TT> tool.  This allows animage to be adjusted in the shadow, midtone, or highlight regions forthe red-cyan, green-magenta, or blue-yellow balance.  <TT>Curves</TT>does exactly the same thing except with much greater precision.Raising a curve at a point adds more of the color it represents at theexpense of the complementary color around that point.  Lowering thecurve has the opposite effect, that of shifting the balance towardsthe complementary color.  <P>The <TT>Curves</TT> tool can do anything the <TT>Color Balance</TT> toolcan, but better.  The reason <TT>Curves</TT> is more powerful is that the<TT>Color Picker</TT> can be used to identify exactly which input valuesneed color balancing.  The <TT>Color Picker</TT><A NAME="9142">&#160;</A>is shown in Figure&nbsp;<A HREF="node61.html#f.touchup.color-balance">6.25</A>(b), and it isdisplaying a value for a measured pixel in an image.  This value canbe precisely placed and manipulated in the <TT>Curves</TT> tool.Figure&nbsp;<A HREF="node61.html#f.touchup.color-balance">6.25</A>(c) shows how a control point,corresponding to the green component of the measured pixel, has beenplaced on the Green channel curve.  This placement of a control point,corresponding to a measured pixel value, permits the subsequent,precise correction of color balance at this point.  By comparison, the<TT>Color Balance</TT> tool only allows for the gross selection of inputregions (shadow, midtone, and highlight) and is incapable ofperforming the precision color corrections described in detail inSection&nbsp;<A HREF="node61.html#s6.neutrals">6.2.2</A>.<P>The conclusion is that the <TT>Curves</TT> tool is much more precise andversatile than the <TT>Color Balance</TT> tool.<P><H3><A NAME="SECTION001427200000000000000">&#160;</A><A NAME="9151">&#160;</A><A NAME="9152">&#160;</A><A NAME="9153">&#160;</A><BR>6.2.7.2 The <TT>Brightness-Contrast</TT> Tool</H3><P>Figure&nbsp;<A HREF="node61.html#f.touchup.brightness-contrast">6.26</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.brightness-contrast">&#160;</A><A NAME="9470">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.26:</STRONG>Comparing <TT> Brightness-Contrast</TT> with the <TT> Curves</TT> Tool</CAPTION><TR><TD><IMG SRC="img228.gif"ALT="Figure 6.26"></TD></TR></TABLE></DIV><BR>displays the dialog for the <TT>Brightness-Contrast</TT> tool.  The waythis tool functions can be fully simulated using the <TT>Curves</TT>tool.  Figure&nbsp;<A HREF="node61.html#f.touchup.brightness-contrast">6.26</A>(b) illustrates theValue channel of the <TT>Curves</TT> tool, showing that the curve hasbeen displaced upward.  Moving the value curve up maps the input valuedomain to an output range that is uniformly brighter.  Thismodification to the value curve exactly simulates the action of the<TT>Brightness-Contrast</TT> tool when the Brightness slider in thedialog is moved to the right.  Moving the Brightness slider to theleft corresponds to displacing the value curve downward.<P>Thus, brightening or darkening an image using the Brightness sliderhas the effect of diminishing tonal range because the result maps theinput value domain to a smaller output range.  From the discussion inSection&nbsp;<A HREF="node60.html#s6.tonal-range">6.1</A>, this is clearly a disadvantage.  The<TT>Curves</TT> tool, on the other hand, can be used to increase ordecrease brightness without loosing tonal range.  To brighten an imageplace a control point on the Value curve and displace the pointupwards.  This brightens the image without losing tonal range.  Todarken the image drag the point downwards.<P>Figure&nbsp;<A HREF="node61.html#f.touchup.brightness-contrast">6.26</A>(c) also shows the Valuechannel of the <TT>Curves</TT> tool.  Here, the curve has been rotatedcounter-clockwise around the center of the input-output dialog.  Thishas the effect of increasing contrast in the midtones of the image.However, it simultaneously eliminates detail in the shadow andhighlight ranges.  This action is exactly what the <TT>Brightness-Contrast</TT> tool does when the Contrast slider of the dialogis moved to the right.  Moving the slider to the left corresponds torotating the curve in the clockwise direction.<P>The conclusion is that the <TT>Curves</TT> tool performs much better thanthe <TT>Brightness-Contrast</TT> tool.<P><H3><A NAME="SECTION001427300000000000000">&#160;</A><A NAME="9174">&#160;</A><A NAME="9175">&#160;</A><BR>6.2.7.3 The <TT>Hue-Saturation</TT> Tool</H3><P>The <TT>Hue-Saturation</TT> dialog is shown inFigure&nbsp;<A HREF="node61.html#f.touchup.hue-saturation">6.27</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.hue-saturation">&#160;</A><A NAME="9473">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.27:</STRONG>The <TT> Hue-Saturation</TT> Tool</CAPTION><TR><TD><IMG SRC="img229.gif"ALT="Figure 6.27"></TD></TR></TABLE></DIV><BR>This tool is more complex than either the <TT>Color Balance</TT> or <TT>Brightness-Contrast</TT> tools, and its action cannot be simply reproducedusing <TT>Curves</TT>.  Nevertheless, there is rarely any reason to usethis tool for touchup or enhancement.  The <TT>Hue-Saturation</TT> toolallows hue, lightness, and saturation to be adjusted for an image.The adjustment can be made for the entire image or for any combinationof the image's red, green, blue, cyan, magenta, or yellow components.<P>The reason <TT>Hue-Saturation</TT> is not useful for color correction isthat it is difficult to know how to make adjustments with it toenhance an image.  With the <TT>Curves</TT> tool, the measurements madewith the <TT>Color Picker</TT> can be used to make precise changes thatwill result in predictable improvements to an image.  By contrast,there is no way to measure what is wrong in an image in a way that canthen be used to make precise corrections with the <TT>Hue-Saturation</TT>tool.  Furthermore, as has already been pointed out, color problemsare rarely uniform over the shadow, midtone, and highlight regions.The <TT>Hue-Saturation</TT> tool has no capability for varying colorcomponents in different ranges of the image.<P>Thus, for color correction, the <TT>Hue-Saturation</TT> tool is of littleuse.  Nevertheless, unlike <TT>Color Balance</TT> and <TT>Brightness-Contrast</TT>, the <TT>Hue-Saturation</TT> tool <EM>can</EM> be used to douseful and interesting things that would be difficult to do with anyother color tool.  Figure&nbsp;<A HREF="node61.html#f.touchup.hue-saturation2">6.28</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.hue-saturation2">&#160;</A><A NAME="9199">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.28:</STRONG>Hue-Saturation</CAPTION><TR><TD><IMG SRC="img230.gif"ALT="Figure 6.28"></TD></TR></TABLE></DIV><BR>illustrates an application of the <TT>Hue-Saturation</TT> tool whichdoesn't fit into the category of touchup or enhancement but is ofconsiderable stylistic and artistic interest.<P>Figure&nbsp;<A HREF="node61.html#f.touchup.hue-saturation2">6.28</A>(a) displays a beach sceneconsisting of vivid colors, andFigure&nbsp;<A HREF="node61.html#f.touchup.hue-saturation2">6.28</A>(b) shows the <TT>Hue-Saturation</TT> dialog where the Saturation slider for the Cyan radiobutton has been adjusted to -100%.  The result, shown inFigure&nbsp;<A HREF="node61.html#f.touchup.hue-saturation2">6.28</A>(c), is to completely desaturatethe sky and water, while leaving the color of the beach untouched.Similarly interesting modifications can be made with the Hue andLightness sliders.  Try experimenting!<P><HR><H1><A NAME="SECTION001430000000000000000">&#160;</A><A NAME="s6.clone-tool">&#160;</A><A NAME="9210">&#160;</A><A NAME="9211">&#160;</A><A NAME="9212">&#160;</A><BR>6.3 Repairing Blemishes with the Clone Tool</H1><P>Sometimes an image has elements you'd prefer weren't there.  Atelephone pole and wires might ruin an otherwise lovely composition ofa New England cottage on Cape Cod.  Fortunately, these sorts ofannoyances can be easily removed using the <TT>Clone</TT>tool.  The <TT>Clone</TT> tool is found in the GIMPtoolbox, and its icon resembles a rubber stamp.  The followingillustrates how this powerful tool is used.<P>Figure&nbsp;<A HREF="node62.html#f.touchup.clone1">6.29</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.clone1">&#160;</A><A NAME="9217">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.29:</STRONG>Image with Unwanted Content</CAPTION><TR><TD><IMG SRC="img231.gif"ALT="Figure 6.29"></TD></TR></TABLE></DIV><BR>illustrates an idyllic scene we've seen already.  It shows a long,deserted stretch of beach, blue waters, and a sky dotted with whitefluffy clouds on the horizon.  Well, the beach is not quite deserted.There is a lone person promenading along the water's edge.  This mightnot be a problem for some uses of this picture.  On the other hand, itmight be desirable to have an image like this without a single soul onthe beach.  If that's the case, you can still use this image by simplyremoving the person from the scene using the <TT>Clone</TT> tool.  To dothis, you begin by choosing a brush from the <TT>Brush Selection</TT>dialog, as shown in Figure&nbsp;<A HREF="node62.html#f.touchup.clone1">6.29</A>(b).  For thisexample, the second to smallest hard brush has been selected.  Asusual the choice is dictated by need.<P>The idea for working with the <TT>Clone</TT> tool is to cover over theoffending part of the image using colors from the background.  Wheredo the background colors come from?  From the background itself.  The<TT>Clone</TT> tool covers up one part of an image using another part ofthe same image.  When this is done carefully, it can be used tocompletely and convincingly remove offending elements.<P>Figure&nbsp;<A HREF="node62.html#f.touchup.clone2">6.30</A>(a) shows a zoom of the image from<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.clone2">&#160;</A><A NAME="9228">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.30:</STRONG>Zoom of Image Showing (a) Clone Reference Point and (b)Application of Clone Tool to Unwanted Image Area</CAPTION><TR><TD><IMG SRC="img232.gif"ALT="Figure 6.30"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node62.html#f.touchup.clone1">6.29</A>(a).  Notice the small + cursor on it.The cursor shows the center of the image source reference patch thatwill be used to cover other, undesirable parts of the image.  The sizeand character of the patch around this point is controlled by thebrush size and type.  Selecting the <TT>Clone</TT> tool from the Toolbox,the image source reference point is specified by Control-clicking onit.<P>Now, when (simple) clicking and dragging on another part of the image,the neighborhood around the reference point is copied to the new mouselocation.  If the choice of reference point is made carefully, it canbe made to look as if the foreground is being removed to reveal thenatural background.  The effect is shown inFigure&nbsp;<A HREF="node62.html#f.touchup.clone2">6.30</A>(b), which shows part of the person's legbeing removed.  (Don't worry, the process is completely painless, andno one was harmed to present this example.)<P>The pencil icon is over the region being covered, and the size of theregion being affected is equal in size to the area of the brush chosenfrom the <TT>Brush Selection</TT> dialog.  Note that a smaller + signcursor is visible in Figure&nbsp;<A HREF="node62.html#f.touchup.clone2">6.30</A>(b).  While paintingwith the <TT>Clone</TT> tool, the location of the reference patch isindicated by this cursor.  The + sign moves in tandem with the mousecursor, always remaining exactly the same distance away, as long asthe mouse button is held down.  This feature aids in producing a morenatural looking result because different parts of the image are beingused in the cover-up.<P>Figure&nbsp;<A HREF="node62.html#f.touchup.clone3">6.31</A> shows the final result of using the <TT>Clone</TT> tool for this example.<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.clone3">&#160;</A><A NAME="9241">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.31:</STRONG>Original Image and Final Image with Unwanted Image ContentRemoved</CAPTION><TR><TD><IMG SRC="img233.gif"ALT="Figure 6.31"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node62.html#f.touchup.clone3">6.31</A>(a) shows the original image, andFigure&nbsp;<A HREF="node62.html#f.touchup.clone3">6.31</A>(b) shows that the person has beencompletely removed, including his shadow!  The boat seen on thehorizon in the original image has also been removed.  Good examples ofpractical uses for the <TT>Clone</TT> tool are presented inSections&nbsp;<A HREF="node69.html#s7.compositing.proj4">7.4</A> and &nbsp;<A HREF="node70.html#s7.panoramas">7.5</A>.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1785" HREF="node63.html#SECTION001441000000000000000">6.4.1 The <TT>Unsharp Mask</TT> Concept</A><LI><A NAME="tex2html1786" HREF="node63.html#SECTION001442000000000000000">6.4.2 A Simplified but Illustrative Example</A><LI><A NAME="tex2html1787" HREF="node63.html#SECTION001443000000000000000">6.4.3 A Representative Example ofApplying <BR>the <TT>Unsharp Mask</TT></A><LI><A NAME="tex2html1788" HREF="node63.html#SECTION001444000000000000000">6.4.4 <TT>Unsharp Mask</TT> Pitfalls</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001440000000000000000">&#160;</A><A NAME="9251">&#160;</A><A NAME="9252">&#160;</A><BR>6.4 Sharpening</H1><P>Due to a whole range of issues, the acquisition and digitization of animage can often produce a slightly blurred or out-of-focus result.Furthermore, the ensuing processing to improve tonal range andcontrast can also deteriorate the crispness of the image.  To remedythis, it is desirable to sharpen things up.  Sharpening is usuallyapplied at the end of the processing sequence after all othermodifications have been made.<P>In the GIMP, there are two tools for sharpening an image; they areboth located in the menu <TT>Image:Filters/Enhance</TT>.  These tools arecalled <TT>Sharpen</TT> and <TT>Unsharp Mask</TT>.  Although the underlyingprinciples of the two are the same, I prefer <TT>Unsharp Mask</TT>because it has several parameters that have intuitive meanings andthat provide more control over the sharpening process.  The remainderof this section describes in detail how to use <TT>Unsharp Mask</TT>.<P><H2><A NAME="SECTION001441000000000000000">&#160;</A><A NAME="s6.unsharp-mask">&#160;</A><A NAME="9260">&#160;</A><A NAME="9261">&#160;</A><A NAME="9262">&#160;</A><A NAME="9263">&#160;</A><BR>6.4.1 The <TT>Unsharp Mask</TT> Concept</H2><P>Before knowing the sharp, little grasshopper, you must first becomeone with the unsharp.  Wheeew...that sounds like a bad episode ofKung Fu.  I'm expecting David Carradine to peak out from behind mymonitor any moment now!  The truth is, though, that <TT>UnsharpMask</TT>, as arcane and counter-intuitive as its name may sound, is anexcellent tool for sharpening.  The principle of the <TT>UnsharpMask</TT> and the ins and outs of this special filter are covered in thissection.<P>Figure&nbsp;<A HREF="node63.html#f.touchup.draw_unsharp">6.32</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.draw_unsharp">&#160;</A><A NAME="9480">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.32:</STRONG>Understanding the <TT> Unsharp Mask</TT></CAPTION><TR><TD><IMG SRC="img234.gif"ALT="Figure 6.32"></TD></TR></TABLE></DIV><BR>illustrates the principle of the <TT>Unsharp Mask</TT>.  The upper blackline graphed in the top part of the figure represents pixel values asa function of pixel index.  For example, this line could represent thecolor values along the row of an image.  The graph shows a transitionfrom a lower to a higher pixel value at the middle of the graph.Visually, if you were looking at this row of pixels in an image, itwould appear as an edge between regions of constant value.<P>The red line in the upper graph of Figure&nbsp;<A HREF="node63.html#f.touchup.draw_unsharp">6.32</A>illustrates how the pixel values change if the row of pixels isblurred.  The resulting red curve is a smoothed version of theoriginal.  If you viewed the row of pixels corresponding to thissmooth curve, it would appear much less sharp than the pixels for theblack curve.  So, in essence, the red curve is an unsharp version ofthe black.  Now, subtract the unsharp version from the original andthe result is the lower black line in the top graph ofFigure&nbsp;<A HREF="node63.html#f.touchup.draw_unsharp">6.32</A>.  You could say that this resultis just the original curve with its unsharp component masked out.<P>This is the interpretation of what the unsharp mask does, but how doesthis sharpen the image?  The answer is given by the lower graph ofFigure&nbsp;<A HREF="node63.html#f.touchup.draw_unsharp">6.32</A>, which shows the original blackline representing the row of pixel values.  The graph also shows a redcurve, which is the original curve and the associated unsharp maskedversion added to it.  As you can see, just before the edge, there isnow a dip in pixel value at the low side of the transition and a peakon the high side.  Thus, the result is that the edge has been madesharper.<P><H2><A NAME="SECTION001442000000000000000">6.4.2 A Simplified but Illustrative Example</A></H2><P>So much for the theory of the <TT>Unsharp Mask</TT>.  A simple examplebrings out the practical effects of this filter.  <TT>UnsharpMask</TT> can be found in the <TT>Image:Filters/Enhance</TT> menu.  Figure&nbsp;<A HREF="node63.html#f.touchup.unsharp1">6.33</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.unsharp1">&#160;</A><A NAME="9282">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.33:</STRONG>Illustrating the Effect of Applying the Unsharp Mask</CAPTION><TR><TD><IMG SRC="img235.gif"ALT="Figure 6.33"></TD></TR></TABLE></DIV><BR>shows a simple image with just two grayscale regions.  Thus, thevalues along a row of the image resemble the graph ofFigure&nbsp;<A HREF="node63.html#f.touchup.draw_unsharp">6.32</A>.Figure&nbsp;<A HREF="node63.html#f.touchup.unsharp1">6.33</A>(b) shows the result of applying the<TT>Unsharp Mask</TT> using the parameters in the filter's dialog shownin Figure&nbsp;<A HREF="node63.html#f.touchup.unsharp1">6.33</A>(c).  Here a maximum value for theRadius has been chosen to accentuate the effect.<P>Note that in the sharpened result (seeFigure&nbsp;<A HREF="node63.html#f.touchup.unsharp1">6.33</A>(b)), there is a light halo on theright side of the edge and a deep shadow on the dark side of the edge.This corresponds to the discussion of the red curve in the lower graphof Figure&nbsp;<A HREF="node63.html#f.touchup.draw_unsharp">6.32</A>.  The effect of the <TT>Unsharp Mask</TT> is very pronounced but was chosen to clearly illustratethe effect.  In general, the dialog parameters are chosen to produce more subtle results.<P>The <TT>Unsharp Mask</TT> dialog has three parameters.  Looking at thedialog in Figure&nbsp;<A HREF="node63.html#f.touchup.unsharp1">6.33</A>(c), there is Radius, whichspecifies the relative width of the halo/shadow created by the mask.The parameter named Amount controls the relative magnitude of the dipand the peak created on each side of the edge.  Finally, Thresholdspecifies the difference in pixel values that must exist across theedge for the <TT>Unsharp Mask</TT> to be applied.  Thus, if Threshold isset to 25, adjacent pixels whose difference in pixel value is lessthan 25 are not sharpened.  An important fact is that the <TT>UnsharpMask</TT> is applied individually to each color channel, R, G, and B; theresults are then combined.<P><H2><A NAME="SECTION001443000000000000000">6.4.3 A Representative Example ofApplying <BR>the <TT>Unsharp Mask</TT></A></H2><P>Figure&nbsp;<A HREF="node63.html#f.touchup.unsharp-example">6.34</A> <BR><DIV ALIGN="CENTER"><A NAME="f.touchup.unsharp-example">&#160;</A><A NAME="9484">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.34:</STRONG>An Example of Applying the <TT> Unsharp Mask</TT></CAPTION><TR><TD><IMG SRC="img236.gif"ALT="Figure 6.34"></TD></TR></TABLE></DIV><BR>illustrates the application of the <TT>Unsharp Mask</TT> to a morerepresentative image.  Figure&nbsp;<A HREF="node63.html#f.touchup.unsharp-example">6.34</A>(a) showsthe original and Figure&nbsp;<A HREF="node63.html#f.touchup.unsharp-example">6.34</A>(b) the resultof applying the mask.  The parameters chosen to perform the sharpeningare shown in the <TT>Unsharp Mask</TT> dialog illustrated inFigure&nbsp;<A HREF="node63.html#f.touchup.unsharp-example">6.34</A>(c).<P>The choice of parameters used to obtain the results inFigure&nbsp;<A HREF="node63.html#f.touchup.unsharp-example">6.34</A> was obtained by trial anderror.  Using <TT>Undo</TT> (<TT>C-z</TT>) in conjunction with the keyboardshortcut that recalls the last applied filter (<TT>A-S-f</TT><A NAME="9314">&#160;</A>), it was possible to apply the<TT>Unsharp Mask</TT> repeatedly, experimenting with values.  In thisway, it was possible to obtain just the desired effect.<P>What parameter values should be used with the <TT>Unsharp Mask</TT>?  Theanswer depends on the image, of course.  However, one rule of thumb isthe Radius of the mask should be small--2 to 4 pixels wide.  This isbecause the halo and shadow created by the <TT>Unsharp Mask</TT> shouldbe subtle.  On the other hand, the Amount should be as much as you canget away with without overly accentuating noise.  This is typically inthe range of 75% to 150% depending on the pixel values in the image.<P><H2><A NAME="SECTION001444000000000000000">&#160;</A><A NAME="s6.unsharp-mask-pitfalls">&#160;</A><BR>6.4.4 <TT>Unsharp Mask</TT> Pitfalls</H2><P>Applying <TT>Unsharp Mask</TT> can have its problems. For example, thismethod of sharpening an image can sometimes introduce undesirablecolor shifts.<A NAME="9321">&#160;</A>Figure&nbsp;<A HREF="node63.html#f.touchup.usmp1">6.35</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.usmp1">&#160;</A><A NAME="9487">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.35:</STRONG>Example of <TT> Unsharp Mask</TT> Provoking a Color Shift</CAPTION><TR><TD><IMG SRC="img237.gif"ALT="Figure 6.35"></TD></TR></TABLE></DIV><BR>illustrates just such a case.  Figure&nbsp;<A HREF="node63.html#f.touchup.usmp1">6.35</A>(a) showsan image with a single edge and with a gray region to the left of theedge and a red region to the right.  Figure&nbsp;<A HREF="node63.html#f.touchup.usmp1">6.35</A>(b)shows the result of applying the <TT>Unsharp Mask</TT> to this image.You can clearly see a cyan colored halo just to the left of the edgeeven though there is no apparent cyan in the original.<P>The explanation for this is as follows.  Remember that each image iscomposed of three color channels.  Thus, the <TT>Unsharp Mask</TT> isactually applied to each of the three channels individually and theresults are then combined.  Imagine, then, that the color on the leftside of an edge consists of a low value of red and green but a highvalue of blue.  Furthermore, suppose that the region on the right sideof the edge has a high value of red and green but a low value of blue.This situation presents you with an edge that goes from dark to lightin the Red and Green channels but from light to dark in the Blue.According to the preceding description, the <TT>Unsharp Mask</TT> makes adip for the Red and Green channels on the left side of the edge but apeak for the Blue.  Clearly, when adding the Red, Green, and Bluechannels, the two dips plus the one peak do not create a color whoserelative mix has been maintained.  In plain language, this means thehue has been changed.<P>This is just what has happened in Figure&nbsp;<A HREF="node63.html#f.touchup.usmp1">6.35</A>.  Thecolor region to the left side of the edge is a medium gray.  Thus, itconsists of medium values of red, green, and blue.  The right side ofthe edge is composed uniquely of a high value of red and low (zero)values of green and blue.  Thus, the application of the <TT>UnsharpMask</TT> creates peaks in the Green and Blue channels of the gray regionbut a dip in the Red.  This explains where the cyan halo comes from,removing red from an image makes it look more cyan.<P>In most images, the creation of an off-color halo does not occur or isnot evident.  But when it does happen, don't worry; there is atechnique to correct the problem.  Figure&nbsp;<A HREF="node63.html#f.touchup.usmp2">6.36</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.usmp2">&#160;</A><A NAME="9489">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.36:</STRONG>Circumventing the <TT> Unsharp Mask</TT> Color Shift Problem bySharpening only the Value Channel</CAPTION><TR><TD><IMG SRC="img238.gif"\index{Value channel!sharpening}\vskip.25inALT="Figure 6.36"></TD></TR></TABLE></DIV><BR>illustrates the procedure.  Figure&nbsp;<A HREF="node63.html#f.touchup.usmp2">6.36</A>(a) isidentical to Figure&nbsp;<A HREF="node63.html#f.touchup.usmp1">6.35</A>(a).  The procedure firstdecomposes the image into its hue, saturation, and value components.This is done with the HSV option of the <TT>Decompose</TT> function(found in the <TT>Image:Image/Channels</TT> menu).  The value componentof the result is shown in Figure&nbsp;<A HREF="node63.html#f.touchup.usmp2">6.36</A>(b).  The <TT>Unsharp Mask</TT> is then applied uniquely to this value component, theresult being shown in Figure&nbsp;<A HREF="node63.html#f.touchup.usmp2">6.36</A>(c).  Finally, thehue, saturation, and sharpened value components are recomposed usingthe HSV option of the <TT>Compose</TT> function (also found in the <TT>Image:Image/Channels</TT> menu).  Figure&nbsp;<A HREF="node63.html#f.touchup.usmp2">6.36</A>(d) showsthe result of the processing sequence.  As you can see, the edge hasbeen sharpened without creating a shift in hue at the edge.<P>Because the value component of the image only contains light and darkinformation about the image, the sharpening is performed just where itshould be and no color shift occurs.  Why isn't an HSV decompositionbuilt into the <TT>Unsharp Mask</TT>?  Apparently, a few mysteries of theunsharp persist...<P>The other important problem that the <TT>Unsharp Mask</TT> can create isthe amplification<A NAME="9354">&#160;</A> of noise.  Noise issharpened just as are the other elements of the image, and if thesharpened noise becomes too apparent, it can become a significantdetraction.  An approach that can be used to avoid the problem is toset a non-zero value of Threshold in the <TT>Unsharp Mask</TT> dialog.Setting the threshold diminishes the effect of noise by applying themask only to edges that have jumps greater than the Threshold value.<P><HR><H1><A NAME="SECTION001450000000000000000">&#160;</A><A NAME="9357">&#160;</A><BR>6.5 A Case Study</H1><P>This chapter has covered many elements of photo touchup andenhancement.  To put all the elements into perspective, this sectionpresents a case study to illustrate the work flow of a typicalsequence of corrections.  The photo inFigure&nbsp;<A HREF="node64.html#f.touchup.case-study1">6.37</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.case-study1">&#160;</A><A NAME="9360">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.37:</STRONG>Original Image</CAPTION><TR><TD><IMG SRC="img239.gif"ALT="Figure 6.37"></TD></TR></TABLE></DIV><BR>is the subject of the study; it is a difficult case because it hasmany defects.<P>Before we begin, several observations can be made concerning thisphoto:<UL><LI>It is dark and clearly underexposed.<LI>The colors are muddy and there is an overall lack of sharpness.<LI>The photo has a green tinge or color cast to it.<LI>There is an unsightly bright green spot on the lefthand side of thephoto that will blemish the final product if not removed.<LI>The subject matter, the cowboy roper with the children, ispoorly separated from the background.</UL>In a nutshell, this photo needs a lot of help.  It will besignificantly enhanced by the steps described in the rest of thissection.<P>The first step, as described in Section&nbsp;<A HREF="node60.html#s6.tonal-range">6.1</A>, is tomaximize the tonal range<A NAME="9367">&#160;</A> of the image.This is done by opening the <TT>Levels</TT> tool and choosing AutoLevels.  Figure&nbsp;<A HREF="node64.html#f.touchup.case-study2">6.38</A>(b)<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.case-study2">&#160;</A><A NAME="9492">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.38:</STRONG>Tonal Range Maximized and Midtones Adjusted with the <TT>Levels</TT> Tool: (a) Original Image and (b) Result of <TT> Levels</TT> Tool</CAPTION><TR><TD><IMG SRC="img240.gif"ALT="Figure 6.38"></TD></TR></TABLE></DIV><BR>shows the result.  Figure&nbsp;<A HREF="node64.html#f.touchup.case-study2">6.38</A>(a) shows theoriginal image for comparison purposes.  In addition to selecting AutoLevels, the midtone slider control in the Value channel has beenadjusted to lighten the result a bit.  Notice that the green colorcast has been greatly diminished by the <TT>Levels</TT> tool adjustment,and the colors seem much clearer.<P>The second step is to correct for any remaining colorcasts.<A NAME="9378">&#160;</A>  As described inSection&nbsp;<A HREF="node61.html#s6.neutrals">6.2.2</A>, this is accomplished using the <TT>ColorPicker</TT><A NAME="9381">&#160;</A> to measure neutral colors in theimage.  The cowboy trick-roper and children are standing on a stonesurface that appears to be granite.  It is reasonable to guess thatthis stone should be a neutral gray.<P>With the <TT>Color Picker</TT>, you can see that there are actually arange of values from shadows to midtones in this stone.  Measuring theimage colors at several locations yields a representative shadow valueof <!-- MATH: $59^R 49^G 42^B$ -->59<SUP><I>R</I></SUP> 49<SUP><I>G</I></SUP> 42<SUP><I>B</I></SUP> in the dark stone just to the left of the roper'slower legs.  Similar measurements made in the lighter stone justbeneath the little boy's feet yield a midtone value of <!-- MATH: $119^R 120^G109^B$ -->119<SUP><I>R</I></SUP> 120<SUP><I>G</I></SUP>109<SUP><I>B</I></SUP>.  From these two measurements, it seems there is a brown/orangecast to the image.  As for a representative highlight value, the rightrear part of the lasso loop should be neutral but is measured at<!-- MATH: $177^R 183^G 167^B$ -->177<SUP><I>R</I></SUP> 183<SUP><I>G</I></SUP> 167<SUP><I>B</I></SUP>.  This is a pale green.<P>To remove these color casts, the <TT>Curves</TT> tool is used asdescribed in Section&nbsp;<A HREF="node61.html#s6.neutrals">6.2.2</A>.  For this case study, theshadow values of red at 59 and green at 49 are both moved to match theblue at 42.  The midtone values of green at 120 and blue at 109 areboth matched to the red at 119.  Finally, the highlight values of greenat 183 and blue at 167 are balanced to the red at 177.  The result isshown in Figure&nbsp;<A HREF="node64.html#f.touchup.case-study3">6.39</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.case-study3">&#160;</A><A NAME="9494">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.39:</STRONG>Color Cast Correction with <TT> Curves</TT>: (a) Previous and (b)Color Corrected Image</CAPTION><TR><TD><IMG SRC="img241.gif"ALT="Figure 6.39"></TD></TR></TABLE></DIV><BR>In comparing this image to the previous one, shown again inFigure&nbsp;<A HREF="node64.html#f.touchup.case-study3">6.39</A>(a), the stone is now clearly a moreneutral gray.  Also, you can see that the skin tones had a slightorange tinge, which has been removed.<P>The next step is to remove the green glint at the middle left side ofthe image.  This is done as described in Section&nbsp;<A HREF="node62.html#s6.clone-tool">6.3</A>using the <TT>Clone</TT> tool.  The image without this blemish is shownin Figure&nbsp;<A HREF="node64.html#f.touchup.case-study4">6.40</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.case-study4">&#160;</A><A NAME="9496">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.40:</STRONG>Blemish Removed with <TT> Clone Tool</TT></CAPTION><TR><TD><IMG SRC="img242.gif"ALT="Figure 6.40"></TD></TR></TABLE></DIV><BR><P>At this point in the sequence of corrections, it should be clear thatyou cannot get additional subject detail using the methods fromSection&nbsp;<A HREF="node61.html#s6.detail">6.2.6</A>.  The cowboy and children already fill theentire range of tonal values from the darkest shadows in the cowboy'sshirt to the brightest highlights in the rope and the little girl'scollar.  The only way to get more out of this image is to try andseparate the subject from the background, which can only beaccomplished by making a selection.<A NAME="9401">&#160;</A><P>Figure&nbsp;<A HREF="node64.html#f.touchup.case-study5">6.41</A><BR><DIV ALIGN="CENTER"><A NAME="f.touchup.case-study5">&#160;</A><A NAME="9404">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.41:</STRONG>Selection of Background</CAPTION><TR><TD><IMG SRC="img243.gif"ALT="Figure 6.41"></TD></TR></TABLE></DIV><BR>shows the selection that was made using the <TT>Bezier Path</TT> tool.The selection was made in several stages.  The main outline of thesubject was made first. Three regions were then removed from thisfirst selection by using the method for subtracting selections describedin Section&nbsp;<A HREF="node37.html#s3-2.combining-selections">3.2</A>.  These regions are the twoenclosures the rope makes with the roper's body and the small holebetween the roper's and little girl's leg.<P>Inverting the selection by typing <TT>C-i</TT> in the image window, thebackground can be lightened by using theperturbation<A NAME="9411">&#160;</A> method describedin Section&nbsp;<A HREF="node61.html#s6.perturbation-technique">6.2.5</A> to adjust the Value channelof the <TT>Curves</TT> tool.  As shown inFigure&nbsp;<A HREF="node64.html#f.touchup.case-study6">6.42</A>(b), the result produces a subjectthat<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.case-study6">&#160;</A><A NAME="9499">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.42:</STRONG>Background Lightened with <TT> Curves</TT>: (a) Before and (b) After</CAPTION><TR><TD><IMG SRC="img244.gif"ALT="Figure 6.42"></TD></TR></TABLE></DIV><BR>is better defined against the background.  This is compared with theimage from the previous step, which is shown again inFigure&nbsp;<A HREF="node64.html#f.touchup.case-study6">6.42</A>(a).<P>The final enhancement to the image is to sharpen the subject a bit.This is done using the <TT>Unsharp Mask</TT> as described inSection&nbsp;<A HREF="node63.html#s6.unsharp-mask">6.4.1</A>.  The <TT>Unsharp Mask</TT> parameters werechosen to be 3 for Radius and 0.5 for Amount.  The finalresult is shown in Figure&nbsp;<A HREF="node64.html#f.touchup.case-study7">6.43</A>(b),<BR><DIV ALIGN="CENTER"><A NAME="f.touchup.case-study7">&#160;</A><A NAME="9426">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 6.43:</STRONG>Comparison of Original and Enhanced Photos</CAPTION><TR><TD><IMG SRC="img245.gif"ALT="Figure 6.43"></TD></TR></TABLE></DIV><BR>and Figure&nbsp;<A HREF="node64.html#f.touchup.case-study7">6.43</A>(a) shows the initial image fromFigure&nbsp;<A HREF="node64.html#f.touchup.case-study1">6.37</A>.  The comparison of the two imagesis dramatic.  The original seemed unretrievable, and, although thefinal result is perhaps unworthy of <EM>National Geographic</EM>magazine, it is, nevertheless, greatly improved.<P>The new image has several qualities worth noting.  First, the colorsof the enhanced image are much sharper and better defined.  Incomparison, the original image's colors are muddy.  This is dueprimarily to the enhancement to the tonal range.  Second, the greentinge seen in the original image has been eliminated; the subject ofthe enhanced image is also sharper and better defined against thebackground.  This is due to the <TT>Unsharp Mask</TT> and thereprocessing of the background with the help of selection tools andthe <TT>Curves</TT> tool.<P><HR><H1><A NAME="SECTION001500000000000000000">&#160;</A><A NAME="c7.compositing">&#160;</A><A NAME="10366">&#160;</A><A NAME="10367">&#160;</A><BR>7. Compositing</H1><P>Compositing means many things to many people.  Whole books have beenwritten on this one topic.  Broadly speaking, compositing is thetechnique and the art of piecing together image parts collected frommultiple sources to make a new single whole.  If the image is intendedto be photo-realistic, a scene that could have really existed, theresult is called photo-montage.<A NAME="10368">&#160;</A>  On the otherhand, if the objective is to combine images whose juxtapositioncommunicates a new idea, the result is called collage.<A NAME="10369">&#160;</A><P>The main differences between the two are that, for photo-montage,lighting and color matching are very important to the success of thecomposition.  Differences of saturation and value between imageelements can ruin the illusion of a montage, as can obviousinconsistencies in lighting.  It is also important to pay attention tovarious other visual cues; however, the objective of this chapter isnot to provide a complete discussion of these topics.  Rather, thegoal is to demonstrate the use of the GIMP in several projects andshow how the GIMP's tools can be used to solve collage andphoto-montage problems.<P>Regardless of whether a project is photo-montage or collage, the mainelements of compositing consist of selections, copy and pasteoperations, and positioning of image elements.  The finer aspectsrequire blending, color matching, and general attention to detail.Thus, most of the GIMP skills needed for compositing have already beendiscussed in previous chapters.  Indeed, this chapter presumes thereader is familiar with concepts presented in earlier chapters.  Theprojects presented here are not described in minute detail.  Rather,when techniques that have been described in earlier chapters arerequired, the reader is referred to the appropriate section of thebook.  Although this chapter is mostly project oriented, some new GIMPtools are also introduced.<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html1811" HREF="node66.html">7.1 Project 1: Fish on Holiday!</A><LI><A NAME="tex2html1812" HREF="node67.html">7.2 Project 2: Through the Looking Glass</A><LI><A NAME="tex2html1813" HREF="node68.html">7.3 Project 3: Destination Saturn</A><LI><A NAME="tex2html1814" HREF="node69.html">7.4 Project 4: The Call of the Mermaid</A><LI><A NAME="tex2html1815" HREF="node70.html">7.5 Project 5: Panoramas</A><UL><LI><A NAME="tex2html1816" HREF="node70.html#SECTION001551000000000000000">7.5.1 Correcting Geometric Distortions</A><LI><A NAME="tex2html1817" HREF="node70.html#SECTION001552000000000000000">7.5.2 Color and Brightness Matching</A><LI><A NAME="tex2html1818" HREF="node70.html#SECTION001553000000000000000">7.5.3 Blending</A><LI><A NAME="tex2html1819" HREF="node70.html#SECTION001554000000000000000">7.5.4 Final Touches</A></UL></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001510000000000000000">&#160;</A><A NAME="s7.compositing.proj1">&#160;</A><A NAME="10372">&#160;</A><A NAME="10373">&#160;</A><A NAME="10374">&#160;</A><BR>7.1 Project 1: Fish on Holiday!</H1><P>A primary component of compositing is the assembling of differentimage elements and the subsequent positioning and scaling required toachieve the final desired composition.  Assembling the imagecomponents consists of selecting them from their respective images.The selections are made using combinations of techniques fromChapters&nbsp;<A HREF="node35.html#c3.selections">3</A> and <A HREF="node42.html#c4.masks">4</A>.<P>Because I'm often not sure exactly how I'll use selected imagecomponents in a project, I first like to assemble all of them into akind of clip book.<A NAME="10377">&#160;</A><A NAME="10378">&#160;</A>  Aclip book is just a single image consisting of a layer for each imagecomponent.  This makes an image palette from which the variouscomponents can be copied and then pasted into the target composition.<P>Figure&nbsp;<A HREF="node66.html#f.compositing.fish-club">7.1</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.fish-club">&#160;</A><A NAME="10381">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.1:</STRONG>Collection of Selected Sea Creatures</CAPTION><TR><TD><IMG SRC="img246.gif"ALT="Figure 7.1"></TD></TR></TABLE></DIV><BR>shows the image clip book used in this project.  Each sea creature wasobtained from a separate image source using a combination of selectionand masking techniques.  The Layers dialog inFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club">7.1</A>(b) shows that each of the sixseparate images is contained in a separate layer.  The project goal isto use these reef inhabitants to populate an eco-system not normallytheir own.  The composition places our denizens of the deep among thepalms of a tropical island beach scene.  Sometimes even fish need aholiday...<P>The background image is shown inFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club2">7.2</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.fish-club2">&#160;</A><A NAME="10388">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.2:</STRONG>Pasting an Image Component into the Holiday Scene Background</CAPTION><TR><TD><IMG SRC="img247.gif"ALT="Figure 7.2"></TD></TR></TABLE></DIV><BR>This scene will receive all the other image elements.  The firstelement is the angel fish, which has been copied fromFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club">7.1</A> and pasted into this one.  Thefollowing procedure is used to accomplish this:<DL COMPACT><DT>1.<DD>Make the Angel Fish layer active by clicking on its thumbnail in theLayers dialog shown in Figure&nbsp;<A HREF="node66.html#f.compositing.fish-club">7.1</A> (seeSection&nbsp;<A HREF="node27.html#s2.layers-dialog">2.1.1</A> for more on active layers).<DT>2.<DD>Copy the Angel Fish layer to the default buffer by typing <TT>C-c</TT><A NAME="10397">&#160;</A> in the image window shown inFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club">7.1</A>.<DT>3.<DD>Paste the Angel Fish layer into the target image by typing <TT>C-v</TT>in the image window shown in Figure&nbsp;<A HREF="node66.html#f.compositing.fish-club2">7.2</A>.This loads the Angel Fish layer into a floating selection.<DT>4.<DD>Make the float into a new layer by clicking on the <TT>New Layer</TT>button in the Layers dialog.</DL><P>There are two features worth noting inFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club2">7.2</A>.  First, the Layers dialog showsthat the new layer has been named Angel Fish to more easily identifyit later.  Second, the Angel Fish layer's boundaries (the yellow andblack dashed line) are visible in the image window because it is theactive layer in the image.  The layer's boundaries can be toggled offby typing <TT>C-t</TT> in the image window. With respect to our composition, the first thing you might notice isthat the angel fish seems too large for the background.  This can befixed by shrinking the angel fish or by enlarging the background.  Asalready noted in Section&nbsp;<A HREF="node32.html#s2.layers.layer-scale">2.6.2</A>, it is almostalways preferable to shrink an image element that is too large ratherthan to enlarge the element that is too small.  This is becauseenlarging an image requires interpolating pixel values, whichintroduces unpleasant image artifacts.  Always avoid this--unless, ofcourse, the artifacts are desirable as an artistic device.<P>Thus, our first task is to scale the Angel Fish layer to a morefitting size for our scene.  This can be done in two ways, either withthe <TT>Transform</TT> tool from the Toolbox or the <TT>ScaleLayer</TT><A NAME="10408">&#160;</A> command found in the Layers menu.Section&nbsp;<A HREF="node32.html#s2.layers.layer-scale">2.6.2</A> describes both.  The <TT>Transform</TT> tool is used here because it is interactive and gives somevisual feedback to the scaling process.  The Scaling option of the<TT>Transform</TT> tool is invoked by double-clicking on the <TT>Transform</TT> tool icon in the Toolbox, which brings up the <TT>ToolOptions</TT> dialog.  The Scaling option can then be selected from thedialog, as shown in Figure&nbsp;<A HREF="node66.html#f.compositing.fish-club3">7.3</A>(b).Figure&nbsp;<A HREF="node66.html#f.compositing.fish-club3">7.3</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.fish-club3">&#160;</A><A NAME="10417">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.3:</STRONG>Scaling the Angel Fish</CAPTION><TR><TD><IMG SRC="img248.gif"ALT="Figure 7.3"></TD></TR></TABLE></DIV><BR>shows the result of using the <TT>Transform</TT> tool to scale the AngelFish layer.<P>In scaling the Angel Fish layer, the aspect ratio has been preserved.This prevents the scaled layer from looking distorted.  The aspectratio can be maintained manually by watching the <TT>ScalingInformation</TT> dialog<A NAME="10423">&#160;</A> and keeping itmanually adjusted during the scaling process.  The <TT>ScalingInformation</TT> dialog provides interactive feedback about the X and YScale Ratios while the transform is being performed.  The aspect ratiois preserved by keeping the X Scale Ratio equal to the Y Scale Ratio.Alternatively, the Scaling option of the <TT>Transform</TT> tool can beconstrained to preserve aspect ratio by pressing the Control and Altkeys while scaling.  In this example, the angel fish has been scaledto 60% of her original dimensions.  In the compositing process,however, this might be undone an redone several times to achieve thedesired effect in the final result.<P>When the scaling of the angel fish is complete, she can bepositioned<A NAME="10426">&#160;</A> using the <TT>Move</TT><A NAME="10428">&#160;</A> tool.  Her final location for this project is seen inFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club4">7.4</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.fish-club4">&#160;</A><A NAME="10431">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.4:</STRONG>The Beginnings of a Composition</CAPTION><TR><TD><IMG SRC="img249.gif"ALT="Figure 7.4"></TD></TR></TABLE></DIV><BR>Also seen in this figure is the result of repeating the precedingoperations for each of the angel fish's friends.  Notice that it isnot necessary for the repositioned image elements to be inside theboundaries of the background image window.  In fact, having layersthat extend partially outside the boundaries can create more interestin their subject elements.<P>The final procedure performed in this project adds an element of depthto our composition.  The idea is to make the sea horse's tail look asif it is wrapped around a tree and to make the little red fish appearas if it is peaking out from behind another.  This is done with layermasks (see Section&nbsp;<A HREF="node44.html#s4.layer-masks">4.2</A>).  Theelements of the procedure are shown inFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club5">7.5</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.fish-club5">&#160;</A><A NAME="10438">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.5:</STRONG>Using a Layer Mask to Create the Illusion of Depth</CAPTION><TR><TD><IMG SRC="img250.gif"ALT="Figure 7.5"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node66.html#f.compositing.fish-club5">7.5</A>(a) shows a zoom of the imagecentered around the sea horse.  As you can see fromFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club5">7.5</A>(b), a layer mask<A NAME="10444">&#160;</A> has been added to the Sea Horse layerin the Layers dialog, and the Opacity slider has been set to 50%.This allows the tree in the background image to be seen through theSea Horse layer.  In setting the Opacity slider, the goal is to beable to see the tree's boundaries through the sea horse.<P>Because the tree's boundaries can be seen, the <TT>Paintbrush</TT> toolcan be used to paint away parts of the Sea Horse mask making the treefully visible from behind.  Figure&nbsp;<A HREF="node66.html#f.compositing.fish-club5">7.5</A>(a)shows that this process has been started using a brush from the <TT>Brush Selection</TT> dialog and shown inFigure&nbsp;<A HREF="node66.html#f.compositing.fish-club5">7.5</A>(c).  The whole procedure issummarized in the following steps:<DL COMPACT><DT>1.<DD>A layer mask is added to the Sea Horse layer.<DT>2.<DD>The layer mask is made active by clicking on its thumbnail in theLayers dialog.<DT>3.<DD>The Opacity slider is set so that the tree can be seen throughthe Sea Horse layer.<DT>4.<DD>The <TT>Active Foreground Color</TT> is set to black by typing <TT>d</TT> inthe image window.<DT>5.<DD>An appropriate brush type and size is selected.  Here a small hardbrush is chosen.<DT>6.<DD>Painting tools, such as the <TT>Paintbrush</TT> and the <TT>Airbrush</TT>,are used to reveal the tree from behind the sea horse by painting awaythe appropriate parts of the layer mask.</DL><P>If too much of the layer mask is removed while painting, you canrecover it by changing the <TT>Active Foreground Color</TT> to white bytyping <TT>x</TT> in the image window and by painting over theerroneously removed parts of the mask.  Close to the edge of the tree,it is probably worthwhile working with a smaller brush size inconjunction with the <TT>Airbrush</TT> tool, which is more effective atapplying graded amounts of paint.  See Section&nbsp;<A HREF="node47.html#s4.refining">4.5.1</A> formore details.<P>The result of applying layer masks to both the Sea Horse and the RedFish layers is shown in Figure&nbsp;<A HREF="node66.html#f.compositing.fish-club-final">7.6</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.fish-club-final">&#160;</A><A NAME="10461">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.6:</STRONG>The Final Composition</CAPTION><TR><TD><IMG SRC="img251.gif"ALT="Figure 7.6"></TD></TR></TABLE></DIV><BR>The sea horse now seems to be well anchored, with its tail securelywrapped around the tree, against unforeseen, rapid air currents.  Thelittle red fish, surprisingly coy given its bright coloring, ispeaking out from behind another.<P>The effects obtained with layer masks could have also beenaccomplished with selections applied in the image window.  However,this would have required permanently cutting away parts of the Sea Horseand Red Fish layers.  Alternatively, the layer masks used inconjunction with the painting tools simplified the work and produced amore robust solution.  Because of the layer masks, nothing has beenirrevocably lost in either the Sea Horse or Red Fish layers.  Thus,these layers can be repositioned if need be--only the layer masksneed be re-edited.  This flexibility with positioning adjustments isnot possible when using selections because the cut-away components aregone.<P>To summarize, this project reviewed cutting, pasting, scaling, and thepositioning of layers for compositing.  In addition, a simpleapplication of layer masks was used to give our composition someillusion of depth.  The next compositing project is more complicatedbecause it makes use of the blending modes and the <TT>Curves</TT> tool.<P><HR><H1><A NAME="SECTION001520000000000000000">&#160;</A><A NAME="s7.compositing.proj2">&#160;</A><A NAME="10468">&#160;</A><A NAME="10469">&#160;</A><A NAME="10470">&#160;</A><BR>7.2 Project 2: Through the Looking Glass</H1><P>Blending modes, discussed in Chapter&nbsp;<A HREF="node49.html#c5.colorspaces">5</A>, are veryuseful tools for compositing.  They can be used to give the illusionof one image element not just being delimited by another but of beingfused right into it.  This is a very powerful device because it allowsthe artist to convey a message about the relationship of the fusedimages, which simple juxtaposition does not.  The objective of theproject in this section is to illustrate this type of effect.<P>The images shown in Figures&nbsp;<A HREF="node67.html#f.compositing.looking-glass1">7.7</A><BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass1">&#160;</A><A NAME="10474">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.7:</STRONG>A Tin Can Discarded as Trash</CAPTION><TR><TD><IMG SRC="img252.gif"ALT="Figure 7.7"></TD></TR></TABLE></DIV><BR>and <A HREF="node67.html#f.compositing.looking-glass2">7.8</A><BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass2">&#160;</A><A NAME="10480">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.8:</STRONG>A Flower and a Visiting Friend</CAPTION><TR><TD><IMG SRC="img253.gif"ALT="Figure 7.8"></TD></TR></TABLE></DIV><BR>are the raw materials for this project.  They will be fused togetherto make the tin can seem to reflect the flower and insect.  A summaryof the procedure used to achieve the effect is as follows:<DL COMPACT><DT>1.<DD>Place the flower image into a new layer above the layer of the tin canimage.<DT>2.<DD>Position, scale, and orient the flower layer to juxtapose it with the canin the desired manner.<DT>3.<DD>Mask the upper layer to the limits of the tin can's borders.<DT>4.<DD>Apply an appropriate blending mode to the upper layer.<DT>5.<DD>Adjust the upper layer's brightness using the <TT>Curves</TT> tool.</DL><P>Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass3">7.9</A><BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass3">&#160;</A><A NAME="10489">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.9:</STRONG>The Flower Layer Pasted and Oriented over the Tin Can Layer</CAPTION><TR><TD><IMG SRC="img254.gif"ALT="Figure 7.9"></TD></TR></TABLE></DIV><BR>illustrates the flower copied and pasted into a layer over the tin canimage.  As the Layers dialog inFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass3">7.9</A>(a) indicates, the flowerlayer is in a floating selection where it will stay until it ispositioned, scaled, and oriented.  The Opacity slider in the Layersdialog has been set to 60%, which allows the tin can to be seenthrough this floating selection.  <P>The <TT>Transform</TT> tool is used to rotate the flower layer.  Theflower image is aligned with the longitudinal axis of the tin can,which requires 59<SUP><I>o</I></SUP> of rotation.  The partial transparency of thefloating selection is invaluable, while using the <TT>Move</TT><A NAME="10496">&#160;</A> tool, for correctly positioning the flowerlayer over the tin can.  This is the stage of the project seen inFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass3">7.9</A>(b).<P>Before moving to the next stage of the project, let's discuss how therotation value of -59.00, shown inFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass3">7.9</A>(c), was determined.  Thisangle was computed using the <TT>Measure</TT><A NAME="10500">&#160;</A> tool,as is illustrated in Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass0">7.10</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass0">&#160;</A><A NAME="10999">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.10:</STRONG>Using the <TT> Measure</TT> Tool to Compute the Correct Angle of Rotation</CAPTION><TR><TD><IMG SRC="img255.gif"ALT="Figure 7.10"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass0">7.10</A>(a) shows how the angle ofthe longitudinal axis of the insect's back is measured, andFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass0">7.10</A>(b) does the same for thelateral axis of the tin can.  As shown in the two figures, theinsect's back measures 68.43<SUP><I>o</I></SUP> with respect to the horizontal axis,and the tin can measures 9.40<SUP><I>o</I></SUP>.  To make the insect align with thecan after rotation requires <!-- MATH: $(9.40^o-68.43^o) \approx -59^o$ --><IMG WIDTH="209" HEIGHT="40" ALIGN="MIDDLE" BORDER="0" SRC="img256.gif" ALT="$(9.40^o-68.43^o) \approx -59^o$">.<P>An alternative technique to using the <TT>Measure</TT> tool to get anaccurate estimate of the amount of rotation needed is to make use ofthe Path Transform Lock in the Paths dialog (seeSection&nbsp;<A HREF="node39.html#s3.path-palette">3.4.1</A>).  This feature locks a path to theactive layer so that when the layer is transformed with the <TT>Transform</TT> tool, the path is too.Figures&nbsp;<A HREF="node67.html#f.compositing.looking-glass7a">7.11</A> and<A HREF="node67.html#f.compositing.looking-glass7b">7.12</A> illustrate how this helps.Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass7a">7.11</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass7a">&#160;</A><A NAME="10516">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.11:</STRONG>Using a Bezier Path to Delineate the Insect's Outline, andToggling On the Path Transform Lock</CAPTION><TR><TD><IMG SRC="img257.gif"ALT="Figure 7.11"></TD></TR></TABLE></DIV><BR>shows a Bezier path outlining the insect, andFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass7a">7.11</A>(b) shows that the PathTransform Lock for this path is toggled on.  In addition, the insect'slayer has been made partially transparent, allowing the tin can to beseen through it from behind.<P>Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass7b">7.12</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass7b">&#160;</A><A NAME="10523">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.12:</STRONG>Bezier Path Outline Rotating with Transform Grid</CAPTION><TR><TD><IMG SRC="img258.gif"ALT="Figure 7.12"></TD></TR></TABLE></DIV><BR>shows the <TT>Tool Options</TT><A NAME="10528">&#160;</A> window for the<TT>Transform</TT> tool.  The Rotation radio button is shown checked,and, take note, the Show Path checkbox is toggled on.  This means thatthe locked Bezier path will be shown with the transform grid lineswhen the mouse is first clicked in the image window.  An accuratetransformation of the insect layer can now be performed because thelocked path moves visibly with the grid lines as they are transformedby the mouse.<P>Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass7b">7.12</A>(b) shows the result ofrotating the grid lines, and it can be seen that the insect's outlineis also rotated.  This is a very powerful technique for gettingaccurate transforms.  In particular, it is the only technique foreffectively visualizing how to warp one object to another when usingthe Perspective option of the <TT>Transform</TT> tool.<P>Picking up the project from where we left off, the rotated floatingselection is now anchored to a new layer by clicking on the <TT>NewLayer</TT> button in the Layers dialog, and the Opacity slider is set backto 100%.  Before the next step, which is to mask the tin can, theflower layer is merged into a transparent layer that has the same sizeas that of the tin can.  This is done as follows:<DL COMPACT><DT>1.<DD>In the Layers dialog the <TT>New Layer</TT> button is clicked and theTransparent layer option is chosen in the <TT>New Layer Options</TT>dialog.<DT>2.<DD>The resulting layer is positioned in the layer stack just belowthe Flower layer.<DT>3.<DD>With the flower layer active, the function <TT>Merge Down</TT> isselected from the Layers menu (or <TT>C-S-m</TT> is typed in the Layersdialog window).  This merges the flower into the transparent layer.</DL>At this point, it is useful to name the two layers in the Layers dialog.Let's label them Flower and Tin Can.<P>The next step in the process is to create a mask of the tin can.  Thisis done by making a selection of the can, which is then converted to alayer mask.  To facilitate the selection, the visibility of the Flowerlayer is toggled off.  The selection is made using the <TT>BezierPath</TT> tool and is illustrated in Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass4">7.13</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass4">&#160;</A><A NAME="10542">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.13:</STRONG>Making a Selection of the Tin Can</CAPTION><TR><TD><IMG SRC="img259.gif"ALT="Figure 7.13"></TD></TR></TABLE></DIV><BR><P>After toggling the visibility of the Flower layer back on and makingit active, the procedure for creating the layer mask from theselection is performed using these steps:<DL COMPACT><DT>1.<DD>Make the Flower layer active by clicking on its thumbnail in theLayers dialog.<DT>2.<DD>Create a layer mask for the Flower layer using the <TT>Add LayerMask</TT><A NAME="10548">&#160;</A> function from the Layers menu,choosing the White (Full Opacity) option.<DT>3.<DD>Invert the selection by typing <TT>C-i</TT> in the image window.<DT>4.<DD>Make the <TT>Active Background Color</TT> black by typing <TT>d</TT> andthen <TT>x</TT> in the image window.<DT>5.<DD>Making sure the layer mask is active in the Layers dialog by clickingon its thumbnail, and cut the selection by typing <TT>C-x</TT> in theimage window.</DL>Cutting the selection makes the the layer mask black outside the tincan's boundaries.  Note that although the selection was made in theTin Can layer, the cut is applied to the layer mask.  This illustratesthe important rule that regardless of where a selection is made, itseffect is only applied to the active layer.<P>Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass5">7.14</A><BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass5">&#160;</A><A NAME="10557">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.14:</STRONG>Flower Layer Masked by Tin Can</CAPTION><TR><TD><IMG SRC="img260.gif"ALT="Figure 7.14"></TD></TR></TABLE></DIV><BR>shows the result of creating the layer mask.  The thumbnail of themask can be seen in Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass5">7.14</A>(a), andits effect can be seen inFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass5">7.14</A>(b).  Notice that the partsof the Flower layer extending outside of the boundaries of the tin canhave been masked off.<P>Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass5">7.14</A>(b) is almost what we arelooking for except that the flower image now looks is if it is pastedonto the outer surface of the can.  The effect we are looking for isdifferent.  We want to make the flower look fused into the can, as ifit is an integral part of it.  For example, it would be interestingfor the insect and flower to appear as if they were reflected off thecan's shiny surface.  To achieve this effect, we use a blending mode.<P>The blending mode used in this example is <TT>Multiply(Burn)</TT>.<A NAME="10565">&#160;</A>  Itis applied by making the Flower layer active and then selecting itfrom the Mode menu in the Layers dialog.  You can see the choice ofmode in Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass6">7.15</A>(a),<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass6">&#160;</A><A NAME="11005">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.15:</STRONG>Using the <TT> Multiply</TT> Blending Mode on the Flower Layer</CAPTION><TR><TD><IMG SRC="img261.gif"ALT="Figure 7.15"></TD></TR></TABLE></DIV><BR>and you can see the result on the image inFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass6">7.15</A>(b).  This mode multipliesthe pixel values of the two layers, but only where the Flower layer isnot transparent.  Thus, the lighting variations of the tin can areimpressed onto the flower and insect, making them look as if they aretruly a part of the can.  The overall result, however, is a littledark.<P>The final step, then, is to lighten the dark result inFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass6">7.15</A>.  This is done by applyingthe perturbation technique<A NAME="10574">&#160;</A> described inSection&nbsp;<A HREF="node61.html#s6.perturbation-technique">6.2.5</A> to the Flower layer using theValue channel of the <TT>Curves</TT> tool.  The Value channel is selectedbecause we do not want to affect the colors, just the lightness of theimage.  Figure&nbsp;<A HREF="node67.html#f.compositing.looking-glass-final">7.16</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.looking-glass-final">&#160;</A><A NAME="10579">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.16:</STRONG>Final Composition</CAPTION><TR><TD><IMG SRC="img262.gif"ALT="Figure 7.16"></TD></TR></TABLE></DIV><BR>shows the <TT>Curves</TT> dialog after using the perturbation technique.The resulting effect on the final composition is shown inFigure&nbsp;<A HREF="node67.html#f.compositing.looking-glass-final">7.16</A>(b).  Using theperturbation technique, it was determined that it was the highlightpart of the value range that needed to be lightened to obtain the bestresult.  Thus, this effect could not have been achieved using the <TT>Levels</TT> or <TT>Brightness-Contrast</TT> tools.<P>To summarize, this project illustrates the use of blending modes andthe <TT>Curves</TT> tool for compositing.  Note that the use of the <TT>Multiply</TT> blending mode is not primordial to the technique.  Otherpossibilities could have been <TT>Screen</TT>, <TT>Overlay</TT>, <TT>Lighten Only</TT>, <TT>Darken Only</TT>, and <TT>Color</TT>.  It is important toexperiment with the different modes and to do so in conjunction withthe Opacity slider and the <TT>Curves</TT> tool.  The final choice willdepend on your aesthetic sensibilities.<P><HR><H1><A NAME="SECTION001530000000000000000">&#160;</A><A NAME="s7.compositing.proj3">&#160;</A><A NAME="10597">&#160;</A><A NAME="10598">&#160;</A><A NAME="10599">&#160;</A><A NAME="10600">&#160;</A><BR>7.3 Project 3: Destination Saturn</H1><P>The third project creates a collage that blends together a terrificphoto of the planet Saturn with a launch of the space shuttle.  Thisproject illustrates a more sophisticated use of layer masks and blendmodes.<P>The raw images for the project are shown inFigures&nbsp;<A HREF="node68.html#f.compositing.saturn">7.17</A><BR><DIV ALIGN="CENTER"><A NAME="f.compositing.saturn">&#160;</A><A NAME="10603">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.17:</STRONG>Original Image of Saturn</CAPTION><TR><TD><IMG SRC="img263.gif"ALT="Figure 7.17"></TD></TR></TABLE></DIV><BR>and <A HREF="node68.html#f.compositing.shuttle-launch">7.18</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.shuttle-launch">&#160;</A><A NAME="10609">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.18:</STRONG>Original Image of Shuttle Launch</CAPTION><TR><TD><IMG SRC="img264.gif"ALT="Figure 7.18"></TD></TR></TABLE></DIV><BR>The objective is to depict the shuttle lifting off with Saturn sittingmajestically in the background...perhaps as a final destination?Although the space shuttle was never conceived for travel to Saturn,the GIMP allows us to imagine, suggest, even portray theinconceivable.<P>The rough layout of the desired scene is to position the image ofSaturn somewhat above and behind the shuttle lift-off.  The first stepis to get the two images into the same window.  For this, a littleplanning is necessary.  The image of Saturn is wider than that of theshuttle.  However, the Saturn image has a large black margin that,when cropped, will make the result narrower than the shuttle.Cropping the Saturn image to remove the black margin produces an imagethat has a width of 527 pixels and a height of 489 pixels.  The rawspace shuttle launch image has a width of 640 pixels and a height of636 pixels.<P>Considering the rough layout discussed earlier the width of theshuttle image must be cropped to that of the Saturn image, 527 pixels.Furthermore, I decided that the lower 130 pixels of the shuttle imagewon't be used, meaning that the height of the shuttle image aftercropping will only be 506 pixels.  There needs to be some verticaloverlap between the two layers in the composited image, so I chose atotal vertical height of 750 pixels.  The <TT>Crop</TT> tool is used tonicely center the shuttle launch image while producing the desireddimensions.<P>The two raw images are now ready to be united into a single image.  Anew window is created by typing <TT>C-n</TT> in the Saturn image window.When the <TT>New Image</TT> dialog appears, the default values for thewidth and height are those of the Saturn image, 527 by 489.  The valueof 750 pixels is entered into the height field, and when the newwindow is created, it has the desired dimensions of 527 by 750.<P>The shuttle launch image is now copied and pasted into the new imagewindow.  This is done by typing <TT>C-c</TT> in the shuttle launch windowfollowed by <TT>C-v</TT> in the new window.  The result places theshuttle image into a floating selection that can be seen by openingthe Layers dialog (that is, by typing <TT>C-l</TT> in the image window).The <TT>Move</TT><A NAME="10620">&#160;</A> tool is used to position the shuttleto the bottom of the window; it is then anchored to the background byclicking on the <TT>Anchor</TT> button in the Layers dialog.<P>Creating a new layer by clicking on the <TT>New Layer</TT> button in theLayers dialog, the image of Saturn is now copied to the new imagewindow, slid to the top of the window using the <TT>Move</TT> tool, andfinally anchored into the newly created layer.  Double-clicking oneach layer in the Layers dialog allows us to name each one.  The toplayer is named Saturn, and the lower layer is named Shuttle Launch.The result is shown in Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle1">7.19</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.saturn-shuttle1">&#160;</A><A NAME="10626">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.19:</STRONG>Assembling the Pieces</CAPTION><TR><TD><IMG SRC="img265.gif"ALT="Figure 7.19"></TD></TR></TABLE></DIV><BR>which shows the Saturn layer half blocking the Shuttle Launch layer.The Layers dialog is shown inFigure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle1">7.19</A>(b).<P>Now that the two images are positioned, one approach for blending thetwo is to use the layer mask<A NAME="10631">&#160;</A> and gradient technique described inSection&nbsp;<A HREF="node45.html#s4.masks.gradients">4.3.3</A>.  The idea is to create a layer maskfor the Saturn layer and to blend the two layers together by applyinga gradient<A NAME="10633">&#160;</A> in the layermask.  This produces the image shown inFigure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle2">7.20</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.saturn-shuttle2">&#160;</A><A NAME="10636">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.20:</STRONG>A First Attempt to Blend the Shuttle Launch and Saturn Layers</CAPTION><TR><TD><IMG SRC="img266.gif"ALT="Figure 7.20"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle2">7.20</A>(b) shows how a layer maskwith a gradient has been added to the Saturn layer.<P>Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle2">7.20</A> is a blend of the twolayers, but in many ways it misses the mark.  The blend of the twoimages shows the shuttle against the background of Saturn, however,the lower part of the ringed planet is covered by the blue skybackground of the shuttle launch image.  This doesn't look natural,and it would be nice to keep the shuttle and launch vehicle equipmentwell defined while simultaneously blending the background into theSaturn image in a more delicate manner.  Fortunately, this can beaccomplished using a very clever masking technique adapted from[<A HREF="node87.html#haynes">10</A>].<P>The idea is to combine two masks into one using a blending mode.  Thefirst mask is made from the shuttle and launch equipment, and thesecond mask is made from a gradient.  The two masks are combined usingthe <TT>Darken Only</TT> blending mode<A NAME="10644">&#160;</A>.  Read on!<P>The implementation of the idea requires a mask of the shuttleequipment.  The mask is made using the <TT>Decompose</TT> and <TT>Threshold</TT> technique described inSection&nbsp;<A HREF="node47.html#s4.decompose_threshold">4.5.3</A>.  The <TT>Decompose</TT> function with the HSV option is usedto create a hue, saturation, and value decomposition of the SpaceShuttle layer.  On inspection of the result, the Hue channel seems tohave the most potential for a simple separation of the subject fromits background.  The <TT>Threshold</TT> tool is used onthe Hue channel, and when the best threshold range has been determinedand some cleanup has been performed using the <TT>Lasso</TT> tool, theresult is as shown in Figure&nbsp;<A HREF="node68.html#f.compositing.shuttle-mask">7.21</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.shuttle-mask">&#160;</A><A NAME="10653">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.21:</STRONG>Creating a Mask of the Space Shuttle Layer</CAPTION><TR><TD><IMG SRC="img267.gif"ALT="Figure 7.21"></TD></TR></TABLE></DIV><BR>This black and white image is not a perfect mask, but some of thedefects will be removed in a moment, and the rest will not matter.<P>The next step is to copy and paste the grayscale image fromFigure&nbsp;<A HREF="node68.html#f.compositing.shuttle-mask">7.21</A> into the layer mask of theSaturn layer in Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle2">7.20</A>.  This isdone as follows:<DL COMPACT><DT>1.<DD>The layer mask of the Saturn layer is made active by clicking on itsthumbnail in the Layers dialog,<DT>2.<DD>The grayscale image in Figure&nbsp;<A HREF="node68.html#f.compositing.shuttle-mask">7.21</A> iscopied into the default buffer by typing <TT>C-c</TT> in its imagewindow.<DT>3.<DD>The contents of the buffer are then pasted into the image of Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle2">7.20</A> by typing <TT>C-v</TT> inits image window.<DT>4.<DD>This creates a floating selection that is then dropped into the layermask by clicking on the <TT>Anchor</TT> button in the Layers dialog.</DL><P>At this point, the layer mask is cleaned up using the <TT>Airbrush</TT><A NAME="10667">&#160;</A> tool.  The technique is described indetail in Section&nbsp;<A HREF="node47.html#s4.refining">4.5.1</A> for a channel mask.  Here, themethod is applied to a layer mask.  To facilitate the cleanup theopacity of the Saturn layer is adjusted using the Opacity slider inthe Layers dialog.<P>The resulting layer mask allows the shuttle and launch equipment to beseen through the Saturn layer.  The state of the project is shown inFigure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle3">7.22</A>(a), and<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.saturn-shuttle3">&#160;</A><A NAME="10671">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.22:</STRONG>Application of the Space Shuttle and Launch Equipment Layer Mask</CAPTION><TR><TD><IMG SRC="img268.gif"ALT="Figure 7.22"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle3">7.22</A>(b) shows the thumbnail ofthe resulting layer mask in the Layers dialog.<P>Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle3">7.22</A>(a) is almost what we'relooking for.  To finish, the boundary between the two layers should beblended with a gradient similar to the one inFigure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle2">7.20</A>(a), but without disturbingany part of the masked shuttle and launch equipment.<P>This final touch is achieved by applying a gradient to the layer maskusing the <TT>Darken Only</TT><A NAME="10679">&#160;</A> blendingmode.  As described in Section&nbsp;<A HREF="node55.html#s5.darken-lighten-only">5.6.4</A>, this modecombines foreground and background pixels by retaining the darker ofthe two.  Thus, a gradient applied using the <TT>Darken Only</TT> modeonly changes the layer mask where the gradient is darker than themask.  This is just what we are looking for.  The shuttle and launchequipment will not be affected by the gradient because these parts ofthe mask are already black...can't get any darker than that!<P>Let's see how it works.  To apply the gradient to the layer mask, thefollowing steps are used:<DL COMPACT><DT>1.<DD>The layer mask of the Saturn layer is made active by clicking on itsthumbnail in the Layers dialog.<DT>2.<DD>A linear FG to BG (RGB) gradient is chosen from the <TT>Gradient</TT>tool options dialog.<DT>3.<DD>The <TT>Active Foreground Color</TT> is set to black, and the <TT>ActiveBackground Color</TT> is set to white by typing <TT>d</TT> in the imagewindow.<DT>4.<DD>The blending mode is set to <TT>Darken Only</TT> in the <TT>BrushSelection</TT> dialog.<DT>5.<DD>A gradient is applied to the layer mask by clicking in the imagewindow just above the lower edge of the Saturn layer and dragging vertically to a point just a little higher up thanthe shuttle's wings, before releasing the mouse button.</DL>The result of this new mask is shown inFigure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle4">7.23</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.saturn-shuttle4">&#160;</A><A NAME="10692">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.23:</STRONG>The Final Blended Image</CAPTION><TR><TD><IMG SRC="img269.gif"ALT="Figure 7.23"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle4">7.23</A>(b) shows the correspondingLayers dialog, Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle4">7.23</A>(c) shows the<TT>Gradient</TT> tool's <TT>Tool Options</TT><A NAME="10700">&#160;</A>dialog, and Figure&nbsp;<A HREF="node68.html#f.compositing.saturn-shuttle4">7.23</A>(d) shows the<TT>Brush Selection</TT> dialog (notice the choice of the <TT>DarkenOnly</TT> blending mode).  This produces a lovely collage of the twooriginal images.<P><HR><H1><A NAME="SECTION001540000000000000000">&#160;</A><A NAME="s7.compositing.proj4">&#160;</A><A NAME="10706">&#160;</A><A NAME="10707">&#160;</A><A NAME="10708">&#160;</A><A NAME="10709">&#160;</A><BR>7.4 Project 4: The Call of the Mermaid</H1><P>The fourth project is a bit more complicated than the third.  It usesmany of the techniques of the first three projects and adds severalmore.  The objective is to actually combine image elements from twodisparate sources, a young woman and a fish, to create a realistic andalluring mythological creature--the mermaid.<P>The raw image materials used to create the mermaid are shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi1">7.24</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi1">&#160;</A><A NAME="10712">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.24:</STRONG>Original Images of the Young Woman and the Fish</CAPTION><TR><TD><IMG SRC="img270.gif"ALT="Figure 7.24"></TD></TR></TABLE></DIV><BR>The first step of this project is to fuse together parts of the youngwoman and fish in a realistic way to create the mermaid.  The secondstep is to place the mermaid composite into an appropriate underwaterbackground scene.<P>To create the mermaid, the woman and the fish must beselected<A NAME="10716">&#160;</A> and united intoa single image but on separate layers.  The woman is selected usingthe <TT>Decompose</TT> and <TT>Threshold</TT> technique described inSection&nbsp;<A HREF="node47.html#s4.decompose_threshold">4.5.3</A>.  The HSV option of the <TT>Decompose</TT> function is chosen, and <TT>Threshold</TT> is applied to theresulting value component.  The result is shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi-mask">7.25</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi-mask">&#160;</A><A NAME="11016">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.25:</STRONG>Using <TT> Threshold</TT> and the <TT> Lasso</TT> to Create a Maskfor the Woman</CAPTION><TR><TD><IMG SRC="img271.gif"ALT="Figure 7.25"></TD></TR></TABLE></DIV><BR>The range of values used with the <TT>Threshold</TT> dialog is shownin Figure&nbsp;<A HREF="node69.html#f.compositing.homi-mask">7.25</A>(b).<P>The image shown in Figure&nbsp;<A HREF="node69.html#f.compositing.homi-mask">7.25</A>(a) hasseparated a large part of the subject from the background but requiresa little more work to achieve the desired result.  First, there areelements of the background that must be removed, and second, there areholes in the subject that must be filled.  Both tasks are relativelyeasy to accomplish.  The background is removed by following thesesteps:<DL COMPACT><DT>1.<DD>Draw a rough selection around the woman's silhouette using the <TT>Lasso</TT> tool.  Make sure the path of the <TT>Lasso</TT> separates thebackground from the woman.<DT>2.<DD>Invert the resulting selection by typing <TT>C-i</TT> in the imagewindow.  This phase is shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi-mask">7.25</A>(c).<DT>3.<DD>Choose white as the <TT>Active Background Color</TT> by typing <TT>d</TT>and then <TT>x</TT> in the image window.<DT>4.<DD>Cut the selection by typing <TT>C-x</TT> in the image window.</DL>Figure&nbsp;<A HREF="node69.html#f.compositing.homi-mask2">7.26</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi-mask2">&#160;</A><A NAME="11018">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.26:</STRONG>Using the <TT> Paintbrush</TT> to Finish the Mask of the Woman</CAPTION><TR><TD><IMG SRC="img272.gif"ALT="Figure 7.26"></TD></TR></TABLE></DIV><BR>shows the result of having cut away the unwanted background.  Theremaining work is to fill in the holes seen inFigure&nbsp;<A HREF="node69.html#f.compositing.homi-mask2">7.26</A>(a) using the <TT>Paintbrush</TT>tool.  As shown in Figure&nbsp;<A HREF="node69.html#f.compositing.homi-mask2">7.26</A>(b), a mediumhard brush is chosen for this.Figure&nbsp;<A HREF="node69.html#f.compositing.homi-mask2">7.26</A>(c) shows the final mask.Although the lower portion of the woman's legs are not cleanlyseparated from the background, this is remedied shortly.<P>The next task is to create a layer mask<A NAME="10752">&#160;</A> for the image in Figure&nbsp;<A HREF="node69.html#f.compositing.homi1">7.24</A>(a)and to paste into it the grayscale image shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi-mask2">7.26</A>(b).  This is done in thefollowing steps:<DL COMPACT><DT>1.<DD>Invert the black and white regions of the image inFigure&nbsp;<A HREF="node69.html#f.compositing.homi-mask2">7.26</A>(b) using <TT>Invert</TT> from the<TT>Image:Image/Colors</TT> menu.<DT>2.<DD>Copy the resulting grayscale image to the default buffer by typing<TT>C-c</TT> in the image window.<DT>3.<DD>Create a layer mask for the image inFigure&nbsp;<A HREF="node69.html#f.compositing.homi1">7.24</A>(a) by opening the Layers dialog andchoosing <TT>Add Layer Mask</TT><A NAME="10762">&#160;</A> from theLayers menu.<DT>4.<DD>Paste the default buffer's contents intoFigure&nbsp;<A HREF="node69.html#f.compositing.homi1">7.24</A>(a) by typing <TT>C-v</TT> in the imagewindow.<DT>5.<DD>Drop the resulting float into the layer mask by clicking on the<TT>Anchor</TT> button in the Layers dialog.</DL>The effect of the layer mask on the image is shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi2">7.27</A>(a), <BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi2">&#160;</A><A NAME="10769">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.27:</STRONG>Applying a Layer Mask to the Woman</CAPTION><TR><TD><IMG SRC="img273.gif"ALT="Figure 7.27"></TD></TR></TABLE></DIV><BR>and the thumbnail of the mask can be seen in the Layers dialog shownin Figure&nbsp;<A HREF="node69.html#f.compositing.homi2">7.27</A>(b).<P>Now that the layer mask is in place, the remaining parts of thebackground around the woman's lower legs are removed by painting awaythe offending parts of the layer mask with black paint using the <TT>Paintbrush</TT> tool.  <P>The <TT>Decompose</TT> and <TT>Threshold</TT> technique is the easiestmethod for selecting the woman.  She presents a relatively difficultselection using any other tool.  In particular, the outline of herhair would have been an especially thorny problem.  In comparison, theparts of the fish that are needed for the project present a simpleoutline that can easily be selected using the <TT>Bezier Path</TT> tool.This step is not illustrated here, but the <TT>Bezier Path</TT> tool isdescribed in detail in Section&nbsp;<A HREF="node36.html#s3.bezier-paths">3.1.1</A>.<P>The selection of the woman and the fish are now united into a singleimage,<A NAME="10780">&#160;</A> as shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi3">7.28</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi3">&#160;</A><A NAME="10783">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.28:</STRONG>Uniting the Pieces</CAPTION><TR><TD><IMG SRC="img274.gif"ALT="Figure 7.28"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node69.html#f.compositing.homi3">7.28</A>(b), which shows the Layers dialog,indicates that the woman and the fish each reside in separate layers.Note that both images have been rotated 90<SUP><I>o</I></SUP> with respect to theiroriginal orientations.  This properly orients our mermaid inpreparation for inserting her into her final underwater setting.<P>At this stage, we are ready to begin melding the two image componentstogether.  The strategy is to take pieces of the fish's tail andappropriately fuse them onto the woman's body.  The fish's tail is toolarge to superimpose in one piece; thus, it is cut into two partsusing the <TT>Lasso</TT> tool.  Using the <TT>Move</TT><A NAME="10790">&#160;</A>tool, the bottom part, the tail fin, is repositioned over the lowerpart of the woman's legs.  This is shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi4">7.29</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi4">&#160;</A><A NAME="10793">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.29:</STRONG>Flipping and Positioning the Tail Fin</CAPTION><TR><TD><IMG SRC="img275.gif"ALT="Figure 7.29"></TD></TR></TABLE></DIV><BR><P>Notice that I vertically flipped the tail fin (using the <TT>Flip</TT> tool) because that orientation looked better tome.  The positioning of the tail fin over the woman's legs wasfacilitated by using the Opacity slider in the Layers dialog.<P>To convincingly fuse the tail fin to the woman's lower legs, a layermask is needed.  The layer mask, which is applied to the Tail Finlayer, is used to mask off the parts that extend beyond the boundariesof the woman's legs.  Figure&nbsp;<A HREF="node69.html#f.compositing.homi4a">7.30</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi4a">&#160;</A><A NAME="10800">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.30:</STRONG>Fusing the Tail Fin to the Woman's Lower Legs</CAPTION><TR><TD><IMG SRC="img276.gif"ALT="Figure 7.30"></TD></TR></TABLE></DIV><BR>shows that the Tail Fin layer has been made partially transparent toallow the woman's legs to be seen through it.Figure&nbsp;<A HREF="node69.html#f.compositing.homi4a">7.30</A>(b) shows the corresponding Layersdialog.  The Tail Fin layer mask is highlighted in the Layers dialogand the Opacity slider set to 56%.<P>The <TT>Paintbrush</TT> and <TT>Airbrush</TT><A NAME="10807">&#160;</A> toolswere used to mask off parts of the tail fin inFigure&nbsp;<A HREF="node69.html#f.compositing.homi4a">7.30</A>(a).  The <TT>Eraser</TT><A NAME="10810">&#160;</A> tool was used to remove the parts of the woman's feet thatextend out beyond the tail fin.  The result, after returning theOpacity slider to 100% in the Layers dialog, is shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi4a">7.30</A>(c).  The tail fin now seems to befused onto the woman's legs.<P>Figure&nbsp;<A HREF="node69.html#f.compositing.homi5">7.31</A><BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi5">&#160;</A><A NAME="10814">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.31:</STRONG>Fusing the Remainder of the Tail and Correcting for ImageInconsistencies</CAPTION><TR><TD><IMG SRC="img277.gif"ALT="Figure 7.31"></TD></TR></TABLE></DIV><BR>shows the image after performing a similar sequence of fusing theupper part of the fish's tail to the woman's body between her waistand her knees.  As before, a layer mask is used to perform the fusion.Also, in order to better align the highlight in the scales of the tailwith the axis of the woman's upper legs the <TT>Rotation</TT> option fromthe <TT>Transform</TT> tool is used.<P>In addition to fusing the tail to the woman's body,Figure&nbsp;<A HREF="node69.html#f.compositing.homi5">7.31</A> also shows that her wrist watch hasbeen removed with the <TT>Clone</TT><A NAME="10822">&#160;</A> tool.  Let's hopeshe wasn't too attached to it.  The <TT>Clone</TT> tool was also used toremove some overly bright highlights in her face (for more on how touse the <TT>Clone</TT> tool see Section&nbsp;<A HREF="node62.html#s6.clone-tool">6.3</A>).  Finally,the image was cropped to the dimensions seen inFigure&nbsp;<A HREF="node69.html#f.compositing.homi5">7.31</A>.<P>It is now time to insert our siren of the sea into a scene reflectingher natural habitat, swimming with her faithful fishy companions alonga reef, undoubtably somewhere in the south Pacific.  The insertion ofthe mermaid into the scene was accomplished by first merging all thelayers used to create Figure&nbsp;<A HREF="node69.html#f.compositing.homi5">7.31</A>, applying thelayer mask, and then copying and pasting the result into theunderwater image.  As usual, the paste gives rise to a floatingselection, which is then dropped into a new layer using the <TT>NewLayer</TT> button in the Layers dialog.  The <TT>Move</TT> tool is used toposition the Mermaid layer and the result is shown inFigure&nbsp;<A HREF="node69.html#f.compositing.homi7">7.32</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi7">&#160;</A><A NAME="10832">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.32:</STRONG>The Mermaid Placed into an Underwater Scene</CAPTION><TR><TD><IMG SRC="img278.gif"ALT="Figure 7.32"></TD></TR></TABLE></DIV><BR><P>Actually, the result in Figure&nbsp;<A HREF="node69.html#f.compositing.homi7">7.32</A> also displaysan additional finesse.  The obvious sunburn of our underwater beauty,as seen in Figure&nbsp;<A HREF="node69.html#f.compositing.homi5">7.31</A>, has been color correctedto a tint more in keeping with her new environment.  This isaccomplished using the perturbation<A NAME="10838">&#160;</A> technique for the <TT>Curves</TT> tool, asdescribed in Section&nbsp;<A HREF="node61.html#s6.perturbation-technique">6.2.5</A>.  The result isthat her skin color has been changed to a mild bluish-green tint.<P>Looking at Figure&nbsp;<A HREF="node69.html#f.compositing.homi7">7.32</A>, the edge between themermaid's upper body and the blue of the background waters seems fine.However, the edge of her yellow tail seems a little too abrupt, toosharp.  It looks as if this part of her body were cut out of anotherimage and pasted into this one.  Indeed, it was.  So, as a finalattention to detail, it would be nice to diminish the abruptness ofthis edge.  You can do this using a clever technique based on the <TT>Border</TT><A NAME="10843">&#160;</A> function found in the <TT>Image:Select</TT> menu (see Section&nbsp;<A HREF="node38.html#s3.border">3.3.9</A>).<P>The idea is to blur<A NAME="10846">&#160;</A>together the background and the mermaid in a narrow region around themermaid's edge.  To do this, follow these<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi8">&#160;</A><A NAME="11026">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.33:</STRONG>Using <TT> Border</TT> and <TT> Gaussian Blur (IIR)</TT> to Soften theCut-Out Look of the Mermaid's Edge</CAPTION><TR><TD><IMG SRC="img279.gif"ALT="Figure 7.33"></TD></TR></TABLE></DIV><BR>steps while referring to Figure&nbsp;<A HREF="node69.html#f.compositing.homi8">7.33</A>:<DL COMPACT><DT>1.<DD>Activate the Mermaid layer by clicking on her thumbnail in theLayers dialog (shown in Figure&nbsp;<A HREF="node69.html#f.compositing.homi8">7.33</A>(b)).<DT>2.<DD>Create a selection of the mermaid using <TT>Alpha toSelection</TT><A NAME="10857">&#160;</A> from the Layers menu.<DT>3.<DD>Use the selection to make a border 3 pixels wide using <TT>Border</TT>(Figure&nbsp;<A HREF="node69.html#f.compositing.homi8">7.33</A>(c) shows the <TT>Border</TT> tool'sdialog, and Figure&nbsp;<A HREF="node69.html#f.compositing.homi8">7.33</A>(a) illustrates theselection result).<DT>4.<DD>Merge the Mermaid layer into the background by typing <TT>C-m</TT> in the Layers dialog or the image window.<DT>5.<DD>Apply <TT>Gaussian Blur (IIR)</TT><A NAME="10864">&#160;</A>with a radius of 3 pixels (Figure&nbsp;<A HREF="node69.html#f.compositing.homi8">7.33</A>(d) showsthe dialog for this filter).<DT>6.<DD>Remove the selection by typing <TT>C-S-a</TT> in the image window.</DL>The final result gives a much softer edge between the mermaid and thebackground.  This is shown in Figure&nbsp;<A HREF="node69.html#f.compositing.homi-final">7.34</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.compositing.homi-final">&#160;</A><A NAME="10870">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.34:</STRONG>The Final Mermaid Composition</CAPTION><TR><TD><IMG SRC="img280.gif"ALT="Figure 7.34"></TD></TR></TABLE></DIV><BR><P>To summarize, this project illustrates how layer masks, in conjunctionwith many other tools, can be used to literally fuse together imageelements.  This project also shows how the <TT>Border</TT> tool can beused to finesse the edges of composited images.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html1878" HREF="node70.html#SECTION001551000000000000000">7.5.1 Correcting Geometric Distortions</A><LI><A NAME="tex2html1879" HREF="node70.html#SECTION001552000000000000000">7.5.2 Color and Brightness Matching</A><LI><A NAME="tex2html1880" HREF="node70.html#SECTION001553000000000000000">7.5.3 Blending</A><LI><A NAME="tex2html1881" HREF="node70.html#SECTION001554000000000000000">7.5.4 Final Touches</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001550000000000000000">&#160;</A><A NAME="s7.panoramas">&#160;</A><A NAME="10877">&#160;</A><A NAME="10878">&#160;</A><A NAME="10879">&#160;</A><A NAME="10880">&#160;</A><BR>7.5 Project 5: Panoramas</H1><P>By piecing together a series of normal photographs, panoramic and wideangle views can be created in the GIMP.  The approach of piecingtogether a group of images to create a panorama instead of usingspecial purpose camera lenses gives rise to a number of photoinconsistencies among the individual pieces of the image.Nevertheless, the GIMP is perfectly capable of correcting theseproblems and creating a well integrated whole.  This chapterdescribes the problems involved in creating panoramas from collectionsof individual images and how to overcome them in the GIMP.<P>To create a panorama from a collection of photos, the steps are welldefined.  First, the photos have to be grouped together into a singleimage, each placed into a separate layer.  The procedure for this hasbeen explained many times already in this book.  In particular,Section&nbsp;<A HREF="node30.html#s2.layers.cut-paste">2.4</A> describes the copying and pasting ofimages into layers, and Section&nbsp;<A HREF="node32.html#s2.layers.positioning">2.6.1</A> explainshow to position layers within an image.<P>Figure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.panoramas.image-set">&#160;</A><A NAME="10885">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.35:</STRONG>Collection of Positioned Images</CAPTION><TR><TD><IMG SRC="img281.gif"ALT="Figure 7.35"></TD></TR></TABLE></DIV><BR>illustrates a set of images, each taken with about 50% overlap, usinga digital camera.  They were stored in JPEG file format and thenindividually loaded into the GIMP.  Each was then copied and pastedinto a separate layer in a single image.  Each layer was thenpositioned using the <TT>Move</TT><A NAME="10890">&#160;</A> tool.  The Opacityslider in the Layers dialog was used to facilitate the positioning ofeach layer.<P>Figure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A>(a) shows the result afterpositioning the layers as well as possible, andFigure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A>(b) shows the organization of thelayers in the Layers dialog.  The layers are named with the letters ofthe alphabet, A through E, where A corresponds to the rightmost layerand E to the leftmost.<P>Figure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A> illustrates the primary problemsthat must be overcome to achieve a consistent looking panorama.  Asshown, these problems are geometric distortion, color matching, andbrightness matching.  Each of these is addressed in the followingsections.<P><H2><A NAME="SECTION001551000000000000000">&#160;</A><A NAME="10895">&#160;</A><A NAME="10896">&#160;</A><A NAME="10897">&#160;</A><BR>7.5.1 Correcting Geometric Distortions</H2><P>The first step after the initial positioning of the individual layersis to remove, as much as possible, the geometric distortions.Figure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A>(a) has distortions that can be seenin several places.  The two most flagrant problems are the moldingaround the ceiling of the room and the alignment of the grain in thehardwood floor, especially on the left side of the image.  However,there are also many other small details in the image that are slightlyoff kilter.  Also, there are several places where elements of theimages do not line up properly.<P>The first step is to correct for the misalignment problems.  Using theScale option of the <TT>Transform</TT> tool, someof the layers are squeezed in an effort to make them more consistentwith the others.  A very important guideline, however, is that thereare limits to what can be done without introducing other seriousmismatches.  The goal is to adjust, but with a light hand.<P>Referring again to Figure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A>(a), perhaps thebiggest inconsistency is that the vertical scale of the image in layerC seems to be larger than the others.  This explains the lack ofregistration of the ceiling molding and the fireplace mantle for thislayer.  The remaining details might be acceptable defects.  This willbe reevaluated after the most important corrections are made.<P>Before you begin, it is worthwhile to point out that, of all the <TT>Transform</TT> tool options, Scaling introduces the fewest artifacts.This is especially true when care is taken to maintain the aspectratio between the horizontal and vertical dimensions.  The Scalingoption of the <TT>Transform</TT> tool can be constrained to preserveaspect ratio by pressing the Control and Alt keys together whilescaling.<P>Figure&nbsp;<A HREF="node70.html#f.panoramas.image-transform1">7.36</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.panoramas.image-transform1">&#160;</A><A NAME="10905">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.36:</STRONG>Initial Geometric Distortion Corrections</CAPTION><TR><TD><IMG SRC="img282.gif"ALT="Figure 7.36"></TD></TR></TABLE></DIV><BR>illustrates the result of using the <TT>Transform</TT> tool to adjustlayer C.  As shown in Figure&nbsp;<A HREF="node70.html#f.panoramas.image-transform1">7.36</A>(b),the tool is used with the <TT>Scaling</TT> option.  The upper-rightcorner of layer C was adjusted until both the X and Y Scale Ratiosshown in the <TT>Scaling Information</TT> dialog became 0.95.<P>How was the value 0.95 determined?  The answer depends on whether youare challenged by ratios.  If not, the swiftest way is to use the <TT>Measure</TT><A NAME="10914">&#160;</A> tool to determine that the height of themolding at the left edge of layer C is 271 pixels from layer C'sbottom edge, and that the height of the molding in layer D at layerC's left edge is 258 pixels.  This makes the ratio <!-- MATH: $258/271 = 0.95$ -->258/271 = 0.95.If you don't like ratios, a simple trial-and-error approach does nottake much more time.  Just choose a scaling factor and use <TT>C-z</TT>to perform an undo if the scale isn't correct.  The result of thescaling operation aligns the molding on the ceiling between layers Cand D.<P>As already noted, the upper right corner of layer C was used toperform the scale.  Thus, layer C has shrunk horizontally by 5%,shifting its right edge to the left.  This means that to properlyregister with layer C, layers A and B must now be repositioned to theleft.<P><H2><A NAME="SECTION001552000000000000000">&#160;</A><A NAME="10917">&#160;</A><A NAME="10918">&#160;</A><A NAME="10919">&#160;</A><BR>7.5.2 Color and Brightness Matching</H2><P>You can see that there is significant brightness variation from layerto layer in Figure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A>.  This is normal forphotos taken with most consumer digital and regular film cameras.These cameras typically auto-expose scenes according to averagelighting conditions and do not offer user controls for exposure.  Forthe image in layer A of Figure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A> the light,coming from the windows is very bright which, due to the average lightmetering of the camera, causes the features of the room's interior tobe underexposed.  Thus, the room features in this layer are quite abit darker than in the other layers.  Otherwise, the brightness of theother layers are more or less consistent with each other.<P>In addition to the brightness mismatch between layers you can also seefrom Figure&nbsp;<A HREF="node70.html#f.panoramas.image-set">7.35</A> that there is a color balancemismatch from layer to layer.  The combination of color and brightnessvariations means that the layer boundaries are plainly visible insteadof presenting a smooth and imperceptible transition across thepanorama.<P>The strategy for correcting the differences in brightness and color isto use the <TT>Curves</TT> tool.  The idea is to match color atboundaries between layers using a method similar to that described inSection&nbsp;<A HREF="node61.html#s6.neutrals">6.2.2</A>.  The method measures pixel values on bothsides of a layer boundary using the <TT>Color Picker</TT><A NAME="10926">&#160;</A> tool.  The <TT>Curves</TT> tool is then used to match thevalues.  This procedure corrects for both color and brightnessmismatch simultaneously.<P>Matching the color and brightness of two layers has a chain reactioneffect in a panorama project.  Matching layer B to its neighbor A,means that subsequently layer C must be matched to B, and so on.Thus, some care must be taken to avoid blowing out the available tonalrange.  Typically, the wisest decision is to choose the layer ofaverage brightness and to match the other layers working away fromthis one.  However, for this panorama project, it is layer E that ischosen as the reference because its lighting for the room seems themost natural.  The work flow, then, is from the leftmost layer to therightmost, from layer E to layer A.<P>Starting with the boundary between layers E and D, a pixel value wasmeasured on the white wall just above the wood wainscoting.  Themeasured values are <!-- MATH: $177^R 183^G 194^B$ -->177<SUP><I>R</I></SUP> 183<SUP><I>G</I></SUP> 194<SUP><I>B</I></SUP> to the left of the boundaryand <!-- MATH: $153^R 156^G 171^B$ -->153<SUP><I>R</I></SUP> 156<SUP><I>G</I></SUP> 171<SUP><I>B</I></SUP> to the right.  Using this information, the <TT>Curves</TT> tool is used on layer D to match the pixel values measured inD to those of layer E.  Representative pixels are then measured acrossthe boundary between layer D and layer C.  Here, the measured pixelvalues are located at the midway point between the hanging pictureand the ceiling molding.  The values are found to be <!-- MATH: $179^R 175^G185^B$ -->179<SUP><I>R</I></SUP> 175<SUP><I>G</I></SUP>185<SUP><I>B</I></SUP> to the left of the boundary and <!-- MATH: $112^R 119^G 139^B$ -->112<SUP><I>R</I></SUP> 119<SUP><I>G</I></SUP> 139<SUP><I>B</I></SUP> to theright.  The <TT>Curves</TT> tool is employed again, this time onlayer C, matching C's pixel values to those of D's.<P>Continuing with the boundary between layers C and B, the measured pixelvalues at a point midway between the mantle and the molding are <!-- MATH: $201^R197^G 211^B$ -->201<SUP><I>R</I></SUP>197<SUP><I>G</I></SUP> 211<SUP><I>B</I></SUP> to the left and <!-- MATH: $101^R 99^G 112^B$ -->101<SUP><I>R</I></SUP> 99<SUP><I>G</I></SUP> 112<SUP><I>B</I></SUP> to the right.  Thefinal boundary is between layers B and A.  Here the pixels aremeasured at the midpoint between the plant and the molding.  Thevalues found are <!-- MATH: $199^R 198^G 208^B$ -->199<SUP><I>R</I></SUP> 198<SUP><I>G</I></SUP> 208<SUP><I>B</I></SUP> and <!-- MATH: $86^R 75^G 81^B$ -->86<SUP><I>R</I></SUP> 75<SUP><I>G</I></SUP> 81<SUP><I>B</I></SUP>.  The <TT>Curves</TT> tool is applied for each of these boundaries, as it was forthe first two.<P>The results of the color and brightness matching operations are shownin Figure&nbsp;<A HREF="node70.html#f.panoramas.image-colormatch">7.37</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.panoramas.image-colormatch">&#160;</A><A NAME="10933">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.37:</STRONG>Initial Color and Brightness Matching</CAPTION><TR><TD><IMG SRC="img283.gif"ALT="Figure 7.37"></TD></TR></TABLE></DIV><BR>The overall color and brightness of the images in the layers are nowmuch more consistent.  However, there continues to be sufficientmismatch between the layers to perceive the layer boundaries.Fortunately, this visual defect can be corrected using a layermask<A NAME="10937">&#160;</A> blending technique describedin the next section.<P><H2><A NAME="SECTION001553000000000000000">&#160;</A><A NAME="s7.blending">&#160;</A><A NAME="10940">&#160;</A><A NAME="10941">&#160;</A><A NAME="10942">&#160;</A><BR>7.5.3 Blending</H2><P>The remaining color mismatches at layer edges can be corrected usinglayer masks.  The idea is to blend the edges by using a gradient in alayer mask.  The technique of layer blending using a gradient in alayer mask is discussed in Section&nbsp;<A HREF="node45.html#s4.masks.gradients">4.3.3</A>.<P>Figure&nbsp;<A HREF="node70.html#f.panoramas.image-blend1">7.38</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.panoramas.image-blend1">&#160;</A><A NAME="10946">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.38:</STRONG>Construction of a Gradient in a Layer Mask to BlendAway the Boundary Between Two Layers</CAPTION><TR><TD><IMG SRC="img284.gif"ALT="Figure 7.38"></TD></TR></TABLE></DIV><BR>shows the remaining color mismatch at the edge between layers A and B.Figure&nbsp;<A HREF="node70.html#f.panoramas.image-blend1">7.38</A>(b) shows a layer mask createdfor layer A.  This mask is a black to white gradient where the blackpoint is placed at the left edge of the mask and the white pointslightly to the right of this.  This layer mask has the effect ofmaking the left side of layer A's boundary semi-transparent, lettinglayer B show through.  The end result is the two layers are blended inthis small band removing the visibility of the boundary.Figure&nbsp;<A HREF="node70.html#f.panoramas.image-blend1">7.38</A>(c) illustrates the Layersdialog showing that four of the five layers have had layer masksadded.  This makes one layer mask for each boundary.  <P>Figure&nbsp;<A HREF="node70.html#f.panoramas.image-blend2">7.39</A>(a) <BR><DIV ALIGN="CENTER"><A NAME="f.panoramas.image-blend2">&#160;</A><A NAME="10954">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.39:</STRONG>The Result of Blending Two Layers</CAPTION><TR><TD><IMG SRC="img285.gif"ALT="Figure 7.39"></TD></TR></TABLE></DIV><BR>shows, again, the boundary between layers A and B before blending.Figure&nbsp;<A HREF="node70.html#f.panoramas.image-blend2">7.39</A>(b) shows the result afterblending.  As you can see, the technique is very effective.  However,some experimentation was necessary to find the correct width for thegradient blend.<P>Although the gradient blending trick works well in most cases, thereare times when it is not appropriate for the entire boundary betweentwo layers.  In this case, parts of the boundary can be targeted for ablending gradient by using the <TT>Rectangle Select</TT> tool.  This is necessary, for example, for the blend of layersD and E.  Here, separate selections are made at layer D's left edgefor the regions corresponding to the hardwood floor, the wainscoting,and upper wall areas.  Separate gradient blends are produced for eachone.<P>The layer mask produced by these separate gradients is shown inFigure&nbsp;<A HREF="node70.html#f.panoramas.image-blend3">7.40</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.panoramas.image-blend3">&#160;</A><A NAME="11034">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.40:</STRONG>Using the <TT> Rectangle Select</TT> Tool to Create a CustomGradient Mask</CAPTION><TR><TD><IMG SRC="img286.gif"ALT="Figure 7.40"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node70.html#f.panoramas.image-blend3">7.40</A>(b) shows the associated Layersdialog.<P><H2><A NAME="SECTION001554000000000000000">7.5.4 Final Touches</A></H2><P>At this point in the creation of the panorama, the image can becropped and the various layers merged<A NAME="10968">&#160;</A>.  Using the <TT>Crop</TT><A NAME="10970">&#160;</A><A NAME="10971">&#160;</A> tool to retain only the regionscorresponding to a complete rectangular image producesFigure&nbsp;<A HREF="node70.html#f.panoramas.image-cropped">7.41</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.panoramas.image-cropped">&#160;</A><A NAME="10974">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.41:</STRONG>The Cropped and Layer Merged Panorama</CAPTION><TR><TD><IMG SRC="img287.gif"ALT="Figure 7.41"></TD></TR></TABLE></DIV><BR>In addition to the crop, the layers are also merged by typing <TT>C-m</TT> in either the Layers dialog or the image window.<P>There is a remaining defect that still seems important in the image:the molding along the ceiling in what was layer E before the merge.This piece of molding is not properly aligned with that of what waslayer D.  The <TT>Clone</TT><A NAME="10980">&#160;</A><A NAME="10981">&#160;</A> tool described inSection&nbsp;<A HREF="node62.html#s6.clone-tool">6.3</A> can be used to repair this defect.  Youcan repair the molding by cloning the lower edge of the old layer E'svisible molding to the top edge.  This makes it vertically align withthe molding in the segment from the old layer D.  After the top edgehas been reconstructed in this way, you can eliminate the lower edgeby cloning the unadorned part of the wall just below it and using thisto cover it up.  The resulting final panorama is shown inFigure&nbsp;<A HREF="node70.html#f.panoramas.image-final">7.42</A>,<BR><DIV ALIGN="CENTER"><A NAME="f.panoramas.image-final">&#160;</A><A NAME="10985">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 7.42:</STRONG>The Molding Corrected and Final Panorama</CAPTION><TR><TD><IMG SRC="img288.gif"ALT="Figure 7.42"></TD></TR></TABLE></DIV><BR>ready for an online version of <EM>Better Homes and Gardens</EM>magazine.<HR><H1><A NAME="SECTION001600000000000000000">&#160;</A><A NAME="c8.rendering">&#160;</A><A NAME="11760">&#160;</A><A NAME="11761">&#160;</A><A NAME="11762">&#160;</A><A NAME="11763">&#160;</A><BR>8. Rendering Techniques</H1><P>Most of this book is about manipulating and combining existing imagematerials.  However, the GIMP is also an excellent tool for creatingand enhancing image materials.  In particular, there are many tools inthe GIMP that can be used to render image objects.  By this, I meanthat image objects can be made to look more three-dimensional bydoting them with textures, shadings, lighting effects, and shadows.Many intriguing effects can be created in this way, and that is thesubject of this chapter.<P>The first half of this chapter covers some basic GIMP tools useful forrendering.  These include the <TT>Bucket Fill</TT> tool, the <TT>Gradient</TT> tool, the <TT>Emboss</TT> filter, and the <TT>Bump map</TT>filter.  The second half of the chapter describes techniques forcreating shadows and for combining these with several other imagerendering techniques.<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html1894" HREF="node72.html">8.1 The <TT>Bucket Fill</TT> Tool</A><LI><A NAME="tex2html1895" HREF="node73.html">8.2 Gradient Rendering Techniques</A><LI><A NAME="tex2html1896" HREF="node74.html">8.3 The <TT>Emboss</TT> and <TT>Bump map</TT> Filters</A><LI><A NAME="tex2html1897" HREF="node75.html">8.4 Shadows</A><LI><A NAME="tex2html1898" HREF="node76.html">8.5 Rendering Project I: Drop Shadow and Punchout</A><LI><A NAME="tex2html1899" HREF="node77.html">8.6 Rendering Project II: A Carved Stencil</A><LI><A NAME="tex2html1900" HREF="node78.html">8.7 Rendering Project III: Chiseled Text</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001610000000000000000">&#160;</A><A NAME="11769">&#160;</A><A NAME="11770">&#160;</A><BR>8.1 The <TT>Bucket Fill</TT> Tool</H1><P><TT>Bucket Fill</TT> is a very useful tool forrendering.  It is found in the Toolbox window and is represented bythe bucket icon shown in Figure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill1">8.1</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.bucket-fill1">&#160;</A><A NAME="12371">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.1:</STRONG>Using the <TT> Bucket Fill</TT> Tool</CAPTION><TR><TD><IMG SRC="img289.gif"ALT="Figure 8.1"></TD></TR></TABLE></DIV><BR>The <TT>Bucket Fill</TT> tool is used for filling regions, in wholelayers or selections, with a specified color or image pattern.  The<TT>Tool Options</TT> dialog, shown inFigure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill1">8.1</A>(b), indicates that the choicebetween color and image pattern is specified by clicking theappropriate radio button.  For color fills, either the <TT>ActiveForeground Color</TT> or <TT>Active Background Color</TT> can be used.  Thechoice of color is specified with the <TT>Color Selection</TT> dialogshown in Figure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill1">8.1</A>(c).  For pattern fills,the image pattern is chosen from the <TT>PatternSelection</TT><A NAME="11786">&#160;</A> dialog, shown inFigure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill1">8.1</A>(d).  The <TT>Pattern Selection</TT>dialog is found in <TT>Image:Dialogs/Patterns</TT>, and can also beinvoked by typing <TT>C-S-p</TT> in the image or Toolbox windows, or byclicking on the <TT>Active Pattern</TT> icon in the Toolbox window.<P>The <TT>Bucket Fill</TT> tool fills the image with a color or a patternin a manner similar to the way the <TT>Magic Wand</TT> makes selections(see Section&nbsp;<A HREF="node36.html#s3.magic-wand">3.1.1</A>).  Clicking in an image specifies aseed pixel.  The color value of the seed is then compared against thecolor of the seed's neighboring pixels; if the difference betweentheir color values and the seed's is less than a threshold they arefilled.  This process repeats for the neighbors' neighboring pixels,and so on, until all the contiguous pixels whose color values differfrom the seed's by less than the threshold are filled.  The <TT>Bucket Fill</TT>'s threshold value is set using the Threshold slider foundin the <TT>Bucker Fill</TT>'s <TT>Tool Options</TT> dialog (seeFigure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill1">8.1</A>(b)).<P>There are several controls found in the <TT>Brush Selection</TT> dialogthat affect the way <TT>Bucket Fill</TT> applies paint or patterns to animage canvas.  In particular, there is the Opacity slider, whichcontrols the alpha channel of the applied color or pattern (seeChapter&nbsp;<A HREF="node42.html#c4.masks">4</A> for more on alpha channels), and there is theMode menu which selects the blending mode to be used (blending modesare described in Section&nbsp;<A HREF="node55.html#s5.blending-modes">5.6</A>).<P>Figure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill2">8.2</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.bucket-fill2">&#160;</A><A NAME="11805">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.2:</STRONG>Using the Threshold and Opacity Options</CAPTION><TR><TD><IMG SRC="img290.gif"ALT="Figure 8.2"></TD></TR></TABLE></DIV><BR>illustrates the effects of the Threshold and Opacity settings.Figure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill2">8.2</A>(a) shows the location of a seedpixel selected in an image containing a radial gradient.  The color ofthe gradient varies gradually from the center of the image to itsedge.  This allows you to see how the <TT>Bucket Fill</TT> tool affects aregion of the image depending on the placement of the seed and thevalue of the Threshold.  Figure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill2">8.2</A>(b)shows how much of the original gradient is filled with blue when theThreshold is set to 15.  Setting the Threshold to 255 would haveresulted in completely filling the image with blue.Figure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill2">8.2</A>(c) shows the result when theOpacity slider in the <TT>Brush Selection</TT> dialog is set to 40%.Here, the applied blue fill mixes with the red gradient behind it in aratio of 40% to 60%.<P>Figure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill3">8.3</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.bucket-fill3">&#160;</A><A NAME="11816">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.3:</STRONG>Filling with Image Patterns</CAPTION><TR><TD><IMG SRC="img291.gif"ALT="Figure 8.3"></TD></TR></TABLE></DIV><BR>illustrates filling a part of an image with patterns.Figures&nbsp;<A HREF="node72.html#f.rendering.bucket-fill3">8.3</A>(a) and (b) show that the imageconsists of two layers, a white background and some blue text on anotherwise transparent layer (shown in the Balcony Angels font).Figure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill3">8.3</A>(c) shows the result of fillingeach letter in the text with a different pattern, andFigure&nbsp;<A HREF="node72.html#f.rendering.bucket-fill3">8.3</A>(d) shows that the Threshold forthese fills is set to 255.  This is necessary to get a complete fill.A lower value of Threshold would fail at some text edge pixels becausethe text is antialiased there (see Section&nbsp;<A HREF="node36.html#s3.anti-aliasing">3.1.2</A>).<P><HR><H1><A NAME="SECTION001620000000000000000">&#160;</A><A NAME="11825">&#160;</A><A NAME="11826">&#160;</A><A NAME="11827">&#160;</A><BR>8.2 Gradient Rendering Techniques</H1><P>In Section&nbsp;<A HREF="node45.html#s4.masks.gradients">4.3.3</A>, gradients were discussed as toolsfor making masks.  However, they are also very useful for rendering.<P>Figure&nbsp;<A HREF="node73.html#f.rendering.gradient1">8.4</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.gradient1">&#160;</A><A NAME="11831">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.4:</STRONG>The Different Gradient Types</CAPTION><TR><TD><IMG SRC="img292.gif"ALT="Figure 8.4"></TD></TR></TABLE></DIV><BR>shows the <TT>Tool Options</TT> dialog for the <TT>Gradient</TT> tool.  Asshown in the Blend menu, there are a total of 11 different gradienttypes.  The <TT>Conical (symmetric)</TT>,<A NAME="11838">&#160;</A><A NAME="11839">&#160;</A> <TT>Shapeburst</TT>,<A NAME="11841">&#160;</A><A NAME="11842">&#160;</A>and <TT>Bi-Linear</TT><A NAME="11844">&#160;</A><A NAME="11845">&#160;</A> options are of particular interest for rendering effects.<P>Figure&nbsp;<A HREF="node73.html#f.rendering.gradient2">8.5</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.gradient2">&#160;</A><A NAME="12376">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.5:</STRONG>Examples of <TT> Conical</TT>, <TT> Bi-Linear</TT>, and <TT> Shapeburst</TT> Gradients</CAPTION><TR><TD><IMG SRC="img293.gif"ALT="Figure 8.5"></TD></TR></TABLE></DIV><BR>illustrates examples of conical, bi-linear, and shapeburst gradients.As shown in Figure&nbsp;<A HREF="node73.html#f.rendering.gradient2">8.5</A>(a), conical gradientsproduce a dimpled effect.  As illustrated inFigure&nbsp;<A HREF="node73.html#f.rendering.gradient2">8.5</A>(b), bi-linear gradients create theillusion of the specular sheen that would be created from a metallicor glassy cylindrical surface.  As displayed inFigure&nbsp;<A HREF="node73.html#f.rendering.gradient2">8.5</A>(c), shapeburst gradients produce abeveled effect.  Thus, each of these gradients produces an illusion ofa 3D surface.<P>As an example of using a gradient to render a 3D effect, a beveled lookis created for some text using a shapeburst gradient.Figure&nbsp;<A HREF="node73.html#f.rendering.gradient3">8.6</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.gradient3">&#160;</A><A NAME="11859">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.6:</STRONG>Creating Text to be Used in Gradient Rendering Example</CAPTION><TR><TD><IMG SRC="img294.gif"ALT="Figure 8.6"></TD></TR></TABLE></DIV><BR>displays the text, created using the Baltar font at a height of 175pixels.  This is a thick, blocky type that is perfect for a beveleffect.  The Layers dialog, displayed inFigure&nbsp;<A HREF="node73.html#f.rendering.gradient3">8.6</A>(b), shows that the image consistsof three layers.  There is the white background and a transparentlayer, both which were created before invoking the <TT>Text</TT> tool,and a floating selection containing the text.  The floating selectionis created automatically by the <TT>Text</TT> tool and must be anchoredbefore being able to work on other layers in the image.<P>Before anchoring, however, the text is centered.<A NAME="11866">&#160;</A><A NAME="11867">&#160;</A>  This is accomplished by typing <TT>C-x</TT> and then <TT>C-v</TT> in the image window.  This trick cuts and thenre-pastes the floating selection, perfectly centered in the window.After the floating selection is anchored into the transparent layerbelow it, the text is selected using the <TT>Alpha toSelection</TT><A NAME="11871">&#160;</A> function found in theLayers menu.  The selected text can be seen inFigure&nbsp;<A HREF="node73.html#f.rendering.gradient3">8.6</A>(a).<P>Figure&nbsp;<A HREF="node73.html#f.rendering.gradient4">8.7</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.gradient4">&#160;</A><A NAME="11875">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.7:</STRONG>Rendering a Beveled Look</CAPTION><TR><TD><IMG SRC="img295.gif"ALT="Figure 8.7"></TD></TR></TABLE></DIV><BR>shows the application of a gradient to the selected text (note thatfor clarity the visibility of the Marching Ants has been toggled off).Figure&nbsp;<A HREF="node73.html#f.rendering.gradient4">8.7</A>(b) shows that the <TT>Shapeburst(angular)</TT> gradient has been chosen, andFigure&nbsp;<A HREF="node73.html#f.rendering.gradient4">8.7</A>(a) displays the resulting beveledeffect that this creates with the text.<P>Normally, gradients are applied to images by clicking and dragging inthe image window.  The two points defined by where the mouse wasclicked and where it was released specify the orientation and theextent of the applied gradient.  The curious thing about Shapeburstgradients, however, is that the result does not depend on where themouse is clicked, nor on where it is released.  It just fills theactive region with a shapeburst, regardless of how the mouse is used.<P>The way in which a shapeburst gradient transitions from the foregroundto background color can be controlled by the type of shapeburst.  Asshown in Figure&nbsp;<A HREF="node73.html#f.rendering.gradient1">8.4</A>, there are three differentshapeburst types: angular, spherical, and dimpled.  <TT>Shapeburst(spherical)</TT> produces the roundest bevel and <TT>Shapeburst(dimpled)</TT> the sharpest.  <TT>Shapeburst (angular)</TT> is a compromisebetween the two.<P>The result in Figure&nbsp;<A HREF="node73.html#f.rendering.gradient4">8.7</A> can be made to look alot jazzier by applying another shapeburst gradient to the Backgroundlayer.  The result of applying the <TT>Shapeburst (spherical)</TT>gradient to the Background layer is shown inFigure&nbsp;<A HREF="node73.html#f.rendering.gradient5">8.8</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.gradient5">&#160;</A><A NAME="11890">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.8:</STRONG>The Beveled Text on a Rendered Background</CAPTION><TR><TD><IMG SRC="img296.gif"ALT="Figure 8.8"></TD></TR></TABLE></DIV><BR>The gradient's foreground color is red and the background color is black.Figure&nbsp;<A HREF="node73.html#f.rendering.gradient5">8.8</A>(b) shows the corresponding Layersdialog.<P><HR><H1><A NAME="SECTION001630000000000000000">&#160;</A><A NAME="11897">&#160;</A><A NAME="11898">&#160;</A><A NAME="11899">&#160;</A><A NAME="11900">&#160;</A><A NAME="11901">&#160;</A><A NAME="11902">&#160;</A><BR>8.3 The <TT>Emboss</TT> and <TT>Bump map</TT> Filters</H1><P>There are two filters that are particularly useful for rendering.These are <TT>Emboss</TT> and <TT>Bump map</TT>.<P>The <TT>Emboss</TT> filter, found in <TT>Image:Filters/Distorts</TT>,creates the effect that an image is embossed into a thin metal plate.Figure&nbsp;<A HREF="node74.html#f.rendering.emboss1">8.9</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.emboss1">&#160;</A><A NAME="12382">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.9:</STRONG>The <TT> Emboss</TT> Filter Dialog</CAPTION><TR><TD><IMG SRC="img297.gif"ALT="Figure 8.9"></TD></TR></TABLE></DIV><BR>illustrates the use of the filter for a very simple case.Figure&nbsp;<A HREF="node74.html#f.rendering.emboss1">8.9</A>(a) shows an image that was createdusing a radial gradient, and Figure&nbsp;<A HREF="node74.html#f.rendering.emboss1">8.9</A>(b) showsthe corresponding dialog for the <TT>Emboss</TT> filter.  The dialogconsists of a preview, two radio buttons labeled Emboss and Bumpmap,and three sliders called Azimuth, Elevation, and Depth.<P>The three sliders in the filter dialog control the embossing effect,and Figure&nbsp;<A HREF="node74.html#f.rendering.emboss2">8.10</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.emboss2">&#160;</A><A NAME="12384">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.10:</STRONG>Geometric View of the <TT> Emboss</TT> Filter Options</CAPTION><TR><TD><IMG SRC="img298.gif"ALT="Figure 8.10"></TD></TR></TABLE></DIV><BR>shows a 3D scene that defines the effect of each one.  In the scenethere is a pyramid object illuminated by a light<A NAME="11922">&#160;</A> source.  Two angles, the Azimuth and Elevation,define the position of the light with respect to the pyramid.  TheAzimuth describes the light source's angular position in thehorizontal plane, similar to a compass bearing.  The Elevation is theangular measure of the source above the plane.<P>When the light source is on one side of the object, the other sidemust be in shadow, as shown in Figure&nbsp;<A HREF="node74.html#f.rendering.emboss2">8.10</A>.  Whenthe Elevation is 90<SUP><I>o</I></SUP>, the light source is positioned verticallyover the object, and all faces are equally well illuminated, whicheliminates the shadow.  There is, however, more reflected light comingfrom surfaces that are perpendicular to the rays of light than fromthose that are oblique.  Thus, Azimuth and Elevation control thedirection of light and shadow.<P>``Wait a minute!  That's fine for a 3D object,'' you might say. ``Butwe are working with flat images...how does <TT>Emboss</TT> determinethe relative angles for something that, in reality, is completelyflat?''  I was hoping you would ask.  Figure&nbsp;<A HREF="node74.html#f.rendering.emboss4">8.11</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.emboss4">&#160;</A><A NAME="12386">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.11:</STRONG>How <TT> Emboss</TT> is Applied to a 2D Image: Magnitudes of the Gradient Vectors</CAPTION><TR><TD><IMG SRC="img299.gif"ALT="Figure 8.11"></TD></TR></TABLE></DIV><BR>shows the radial gradient from Figure&nbsp;<A HREF="node74.html#f.rendering.emboss1">8.9</A>(a) ina 3D context.  That is, the image is 2D, but an imaginary light sourceis positioned over it at some azimuth and elevation.  The little redarrows shown in the image plane explain how the filter embosses theimage.<P>The red arrows, called gradient vectors,<A NAME="11932">&#160;</A> arecomputed for each pixel in the image (only three are shown inFigure&nbsp;<A HREF="node74.html#f.rendering.emboss4">8.11</A>).  For each pixel, the gradient isdrawn in the direction that pixel values decrease the fastest, and thelength of the arrow is determined by the amplitude of that change.Thus, in Figure&nbsp;<A HREF="node74.html#f.rendering.emboss4">8.11</A>, there are two arrows eachpointing from their pixels in the direction of greatest change, andone is longer than the other because its slope of change is greater.The third arrow is just a dot because it is located in a region wherethere is no change in pixel value.  Its length is zero.<P>The <TT>Emboss</TT> filter works by computing the amount each pixel'sgradient vector projects along the vector from the pixel to the lightsource.  You can see that the gradient vector labeled <EM>a</EM> inFigure&nbsp;<A HREF="node74.html#f.rendering.emboss4a">8.12</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.emboss4a">&#160;</A><A NAME="12388">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.12:</STRONG>How <TT> Emboss</TT> is Applied to a 2D Image: Directions of the Gradient Vectors</CAPTION><TR><TD><IMG SRC="img300.gif"ALT="Figure 8.12"></TD></TR></TABLE></DIV><BR>has a positive projection onto the vector pointing towards the lightsource.  Alternatively, the gradient vector labeled <EM>b</EM> has a negativeprojection because it points away from the light source.  Finally, thegradient vector labeled <EM>c</EM> has no component along the direction to thelight source.  Its projection is zero.<P>Gradient arrows that have a large positive projection in the lightsource direction are mapped to lighter grays up to the maximumprojection, which is mapped to white.  Gradient arrows that havenegative projections are mapped to darker grays up to the maximumnegative projection, which is mapped to black.  Pixels whose gradientarrows have no component in the light source direction are mapped tothe midtone gray, <!-- MATH: $127^R 127^G 127^B$ -->127<SUP><I>R</I></SUP> 127<SUP><I>G</I></SUP> 127<SUP><I>B</I></SUP>.  Exactly how much light or darkis used in the map depends on the third slider control, labeled Depthin the <TT>Emboss</TT> dialog (see Figures&nbsp;<A HREF="node74.html#f.rendering.emboss1">8.9</A>(b)and <A HREF="node74.html#f.rendering.emboss2">8.10</A>).  A Depth value of zero produces noshadow, and a large value produces a deep, well-defined one.<P>Referring back to Figure&nbsp;<A HREF="node74.html#f.rendering.emboss1">8.9</A>(a), the Azimuthslider is set to zero.  This means that the light source is positionedto the right of the image.  Furthermore, the Elevation slider is setto 45<SUP><I>o</I></SUP>, meaning that the left side of the image is in the shadowzone.  This agrees with the vector analysis given earlier.  The pixelson the left side of Figure&nbsp;<A HREF="node74.html#f.rendering.emboss1">8.9</A>(a) have gradientvectors that point away from the light source, and so these pixels aremapped to darker values.  The pixel values on the right side havegradient vectors pointing towards the light source, so their pixelsare mapped to lighter values.  The result is the embossed image lookslike a cone, which can be seen in the image preview area inFigure&nbsp;<A HREF="node74.html#f.rendering.emboss1">8.9</A>(b).<P>So much for the theory.  How about an example?  Figure&nbsp;<A HREF="node74.html#f.rendering.emboss3">8.13</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.emboss3">&#160;</A><A NAME="12390">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.13:</STRONG>Example of Using the <TT> Emboss</TT> Filter</CAPTION><TR><TD><IMG SRC="img301.gif"ALT="Figure 8.13"></TD></TR></TABLE></DIV><BR>illustrates the photo of a daisy, andFigure&nbsp;<A HREF="node74.html#f.rendering.emboss3">8.13</A>(c) shows the result of applying the<TT>Emboss</TT> filter to it.  The filter options are shown inFigure&nbsp;<A HREF="node74.html#f.rendering.emboss3">8.13</A>(b).  The result is impressive.Figure&nbsp;<A HREF="node74.html#f.rendering.emboss3">8.13</A>(c) shows a version of the daisy thatappears to be embossed into a thin sheet of metal.<P>You should note that, although the result of the <TT>Emboss</TT> filteris a grayscale, it is still an RGB image.  Furthermore, it isimportant to know that <TT>Emboss</TT> does not work on images with analpha channel.  The alpha channel must be removed by choosing <TT>Flatten Image</TT> from the Layers menu before theimage can be embossed.  <TT>Flatten Image</TT> is described in moredetail in Section&nbsp;<A HREF="node33.html#s2.flatten">2.7.2</A>.<P>A filter that works in a manner similar to <TT>Emboss</TT> is <TT>Bumpmap</TT>,<A NAME="11968">&#160;</A> which is located in the <TT>Image:Filters/Map</TT> menu.  The <TT>Bump map</TT> filter is more versatilethan <TT>Emboss</TT>, and it is very useful for rendering (seeSections&nbsp;<A HREF="node77.html#s8.carved">8.6</A> and<A HREF="node78.html#s8.chiseled">8.7</A> for two interesting applications of bumpmapping).<P>The <TT>Bump map</TT> filter works by embossing one image and thenmultiplying the result with another image.  This creates the effect ofembedding the texture of the first image into the second.  Thefilter's dialog has many options that control the final effect.<P>Figures&nbsp;<A HREF="node74.html#f.rendering.bumpmap1">8.14</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.bumpmap1">&#160;</A><A NAME="11977">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.14:</STRONG>Cape Cod from Space and a Pattern Texture</CAPTION><TR><TD><IMG SRC="img302.gif"ALT="Figure 8.14"></TD></TR></TABLE></DIV><BR>and <A HREF="node74.html#f.rendering.bumpmap2">8.15</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.bumpmap2">&#160;</A><A NAME="12393">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.15:</STRONG>Applying the <TT> Bump map</TT> Filter to Cape Cod</CAPTION><TR><TD><IMG SRC="img303.gif"ALT="Figure 8.15"></TD></TR></TABLE></DIV><BR>illustrate an example of using <TT>Bump map</TT>.Figure&nbsp;<A HREF="node74.html#f.rendering.bumpmap1">8.14</A>(a) shows a photo from space of CapeCod in the great state of Massachusetts, andFigure&nbsp;<A HREF="node74.html#f.rendering.bumpmap1">8.14</A>(b) shows a small image created byfilling with a pattern selected from the <TT>Pattern Selection</TT>dialog.  These two images are the raw materials used by <TT>Bump map</TT>in what follows.<P>Figure&nbsp;<A HREF="node74.html#f.rendering.bumpmap2">8.15</A>(a) shows the <TT>Bump map</TT> dialog,and Figure&nbsp;<A HREF="node74.html#f.rendering.bumpmap2">8.15</A>(b) shows the result of applyingthe filter to Figure&nbsp;<A HREF="node74.html#f.rendering.bumpmap1">8.14</A>(a) using the image inFigure&nbsp;<A HREF="node74.html#f.rendering.bumpmap1">8.14</A>(b) as the embossing map.  As youcan see in Figure&nbsp;<A HREF="node74.html#f.rendering.bumpmap2">8.15</A>(a), the <TT>Bump map</TT>filter dialog has a few more options than the <TT>Emboss</TT> filter.The most important is the menu labeled Bump map (not to be confusedwith the filter name).  Clicking on this menu provides a list of allthe layers in all open images, and the image layer chosen in this menuis the one that is used as the embossing map.  However, unlike therestriction of the <TT>Emboss</TT> filter, <TT>Bump map</TT> allows anylayer, with or without an alpha channel, to be used.  The <TT>Bumpmap</TT> dialog also has all the usual options for embossing: Azimuth,Elevation, and Depth.<P><TT>Bump map</TT> also has a number of additional options.  There are XOffset and Y Offset, which are useful for positioning the embossingimage with respect to the embossed one.  There is also the Waterleveloption which is only useful if the embossing image has an alphachannel.  In this case, the embossing is applied as a function of thealpha and Waterlevel values.  Low values of alpha diminish theembossing effect, and high values increase it.  This is modulated bythe value of Waterlevel.  High values of Waterlevel accentuate thealpha channel effect, and low values proportionally diminish it.<P>The Ambient<A NAME="12004">&#160;</A> option inthe <TT>Bump map</TT> dialog controls the relative strength of thedirectional light source (refer back toFigure&nbsp;<A HREF="node74.html#f.rendering.emboss2">8.10</A>).  An ambient<A NAME="12007">&#160;</A>light source is one that shines equally from all directions.  This isthe kind of illumination that is useful in a photography studio, whereall shadows on a subject must be eliminated.  A strong ambient lightsource cancels the effect of a directional one.  A directional lightsource creates shadows because it illuminates a scene from a singledirection, but the more ambient light there is, the weaker the shadowmaking effect of the directional light becomes.  Thus, you can use theAmbient option in the <TT>Bump map</TT> dialog to control the relativeamount of directional light and, in so doing, control the strength ofthe shadows.<P>Multiplying an embossing map with an image produces a result that isdarker than either of the first two.  This is a natural result ofimage multiplication (see the description of the <TT>Multiply</TT>blending mode in Section&nbsp;<A HREF="node55.html#s5.blending-modes">5.6</A>).  The Compensate forDarkening checkbox reduces this effect.  The Invert Bumpmap checkboxsimply inverts the relationship of shadow and light in the embossingmap.<P>Finally, there are three radio buttons that control the multiplicationprocess.  These are labeled Linear Map, Spherical Map, and SinusoidalMap.  The Linear Map option does a straight multiply of the embossingmap with the image.  The Sinusoidal and Spherical Map options,however, act somewhat like the <TT>Curves</TT> tool (seeSection&nbsp;<A HREF="node61.html#s6.curves">6.2.1</A>).  That is, the effect of the embossing map iswarped according to a curve.  The sinusoidal curve provides morecontrast to the midtone embossing values and the spherical curve moreto the shadow and highlight values.  This may sound a littlecomplicated, but it isn't.  Just play around with them, and you'll seeright away what they do.<P><HR><H1><A NAME="SECTION001640000000000000000">&#160;</A><A NAME="s8.shadows">&#160;</A><A NAME="12015">&#160;</A><A NAME="12016">&#160;</A><BR>8.4 Shadows</H1><P>A shadow is just a dark silhouette of an object, but with a somewhatfuzzy edge to account for the diffraction of the illuminating lightsource.<A NAME="12017">&#160;</A>  Furthermore, depending on thelocation of the source of light, a shadow is somewhat displaced withrespect to the object.  You can construct very convincing shadows inthe GIMP.  These are surprisingly useful rendering tools in imagemanipulation, and this section explains how to make them.<P>To make a shadow for an image object you must have a selection of it.The following describes the steps needed to create the selectedregion's shadow:<DL COMPACT><DT>1.<DD>Cut the selected region by typing <TT>C-x</TT> in the image window.  Thisplaces the selection into the default buffer.<DT>2.<DD>Create a new transparent layer by clicking on the <TT>New Layer</TT>button in the Layers dialog and choosing the Transparent option.<DT>3.<DD>Paste the contents of the default buffer by typing <TT>C-v</TT> in theimage window.  This places the paste into a floating selection.Anchor the float to the new layer by clicking on the <TT>Anchor</TT>button in the Layers dialog.<DT>4.<DD>Duplicate the new layer by clicking on the <TT>Duplicate Layer</TT>button in the Layers dialog.  The duplicated layer is placed above theoriginal layer in the layer stack.<DT>5.<DD>Name the duplicated layer Object and the original layerShadow.<DT>6.<DD>Make the Shadow layer active by clicking on its thumbnail in theLayers dialog, toggle on the Keep Trans. checkbox in the Layersdialog, and use the <TT>Bucket Fill</TT> tool with its Threshold set to255 to fill the image object with black or some other appropriate,dark color.<DT>7.<DD>Toggle off the Keep Trans. checkbox in the Layers dialog, use <TT>Gaussian Blur (IIR)</TT><A NAME="12026">&#160;</A> found in the<TT>Image:Filters/Blur</TT> menu to blur the Shadow layer, and use <TT>Offset</TT><A NAME="12029">&#160;</A> from the <TT>Image:Image/Transforms</TT>menu to shift it.<DT>8.<DD>Use the Opacity slider in the Layers dialog to give the shadow anappropriate degree of transparency.</DL>This procedure is often referred to as making a drop shadow.<A NAME="12032">&#160;</A><A NAME="12033">&#160;</A><P>An example of creating a drop shadow is now presented using the precedingrecipe.  Figure&nbsp;<A HREF="node75.html#f.rendering.drop1">8.16</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.drop1">&#160;</A><A NAME="12036">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.16:</STRONG>A Daisy Selection</CAPTION><TR><TD><IMG SRC="img304.gif"ALT="Figure 8.16"></TD></TR></TABLE></DIV><BR>illustrates a photo of a daisy.  Using techniques fromChapters&nbsp;<A HREF="node35.html#c3.selections">3</A> and<A HREF="node42.html#c4.masks">4</A> a selection of the daisy is made and, as shown inFigure&nbsp;<A HREF="node75.html#f.rendering.drop1">8.16</A>(b), this is used to cut away thedaisy's background.  (Note: the cut produces a transparent backgroundonly if the original image layer has an alpha channel.  For more onalpha channels see Section&nbsp;<A HREF="node44.html#s4.create-layer-mask">4.2.1</A>.)  The Layersdialog in Figure&nbsp;<A HREF="node75.html#f.rendering.drop1">8.16</A>(c) shows that the Daisy layerhas been duplicated and that the lower layer has been labeled DaisySilhouette.<P>The remaining steps in the creation of the shadow are now easy.  TheDaisy Silhouette layer is filled with black using the <TT>BucketFill</TT> tool (don't forget to set Threshold to 255 in the <TT>BucketFill</TT> dialog).  The blurring<A NAME="12047">&#160;</A> can be performedwith any of the blur functions from the <TT>Image:Filters/Blur</TT> menu(but make sure that the Keep Trans. button in the Layers dialog istoggled off before applying one).  Here, <TT>Gaussian Blur (IIR)</TT> isused with a radius of 20.<A NAME="tex2html276" HREF="footnode.html#foot12396"><SUP>8.1</SUP></A>  This is followed by using <TT>Offset</TT><A NAME="12054">&#160;</A>, which can be applied by typing C-S-o in the image window.The offset parameters are set to 15 for both the X and Y components,and the Wrap-Around radio button is toggled off.  The result is shownin Figure&nbsp;<A HREF="node75.html#f.rendering.drop3">8.17</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.drop3">&#160;</A><A NAME="12058">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.17:</STRONG>Filling, Blurring, and Offsetting Creates the Shadow</CAPTION><TR><TD><IMG SRC="img305.gif"ALT="Figure 8.17"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node75.html#f.rendering.drop3">8.17</A>(b) and (c) show the dialogs for the<TT>Gaussian Blur (IIR)</TT> and <TT>Offset</TT> filters used in thisexample.<P>All that remains is to place the flower and shadow over an appropriatebackground.  This could be anything: a solid color, an image pattern,or a photograph.  Figure&nbsp;<A HREF="node75.html#f.rendering.drop4">8.18</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.drop4">&#160;</A><A NAME="12067">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.18:</STRONG>The Final Drop Shadow</CAPTION><TR><TD><IMG SRC="img306.gif"ALT="Figure 8.18"></TD></TR></TABLE></DIV><BR>illustrates the daisy on a light blue background.  The Layers dialogin Figure&nbsp;<A HREF="node75.html#f.rendering.drop4">8.18</A>(b) shows the placement of the bluelayer at the bottom of the image stack.  This layer was created byclicking on the <TT>New Layer</TT> button in the Layers dialog,positioning it to the bottom of the layer stack, and using the <TT>Bucket Fill</TT> tool to give it the desired color.<P>By the way, the shadow produced using this technique can be made tolook more diffuse by making it moretransparent.  Simply make the shadow layer active in the Layers dialogand set the desired value of transparency using the Opacity slider.<P>A technique very similar to making drop shadows is that of makingpunchouts.<A NAME="12074">&#160;</A><A NAME="12075">&#160;</A>  A dropshadow creates the illusion of an image object floating above abackground.  The punchout is also a shadow technique but gives theillusion that part of the background has been cut away casting ashadow on yet another background behind.  This is the effect you wouldsee by holding a stencil slightly in front of a wall.  The lightshining through the stencil casts a shadow that can be seen throughthe stencil's hole, against the wall.<P>Like for drop shadows, to make a punchout for an image object you musthave a selection of it.  The procedure for making apunchout is similarto that for making a drop shadow, but with a couple of twists.  Tomake a punchout in the shape of a selected image region follow thesesteps:<DL COMPACT><DT>1.<DD>Set the default colors by typing <TT>d</TT> in the image window.<DT>2.<DD>Create a new layer by clicking on the <TT>New Layer</TT> button in theLayers dialog, and select Foreground as the Layer Fill Type in the <TT>New Layer Options</TT> dialog.  This fills the new layer with black.<DT>3.<DD>Make sure that the new layer is active in the Layers dialog, and fillthe selected region with white using the <TT>Bucket Fill</TT> tool.Label this layer Shadow.<DT>4.<DD>Cancel the selection by typing <TT>C-S-a</TT> in the image window, andcreate a layer mask for the Shadow layer by choosing <TT>Add LayerMask</TT><A NAME="12083">&#160;</A> from the Layers menu.<DT>5.<DD>Make the Shadow layer active by clicking on its thumbnail in theLayers dialog, and copy it to the default buffer by typing <TT>C-c</TT>in the image window.<DT>6.<DD>Make the layer mask of the Shadow layer active by clicking on thelayer mask's thumbnail in the Layers dialog, paste the defaultbuffer's contents by typing <TT>C-v</TT> in the image window, and anchorthe resulting float to the layer mask by typing <TT>C-h</TT> in the imagewindow.<DT>7.<DD>Make the Shadow layer active, blur it with <TT>Gaussian Blur(IIR)</TT>,<A NAME="12088">&#160;</A> and shift it with <TT>Offset</TT>.<A NAME="12090">&#160;</A></DL>This creates the punchout effect.<P>An example of making a punchout is now presented.  The exampledeviates slightly from the steps described in the preceding list.Figure&nbsp;<A HREF="node75.html#f.rendering.punchout1">8.19</A><BR><DIV ALIGN="CENTER"><A NAME="f.rendering.punchout1">&#160;</A><A NAME="12094">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.19:</STRONG>Lightning Strike!</CAPTION><TR><TD><IMG SRC="img307.gif"ALT="Figure 8.19"></TD></TR></TABLE></DIV><BR>shows an impressive flash of lightning across a deep purple sky.  Youcan just imagine the powerful clap of thunder that's coming.  But incase you can't, we're going to drive the message home by punching itout of the photo.<P>We begin by setting the default colors by typing <TT>d</TT> and thenswitching the background and foreground colors by typing <TT>x</TT> inthe image window.  A new layer is created by opening the Layers dialogand clicking on the <TT>New Layer</TT> button.  The Background radiobutton is selected from the <TT>New Layer Options</TT> dialog.  This setsthe new layer to black.  For this example the new layer is labeledInverse Text.<P>The <TT>Text</TT> tool is now invoked by clicking on its icon in theToolbox and then clicking in the image window.  This brings up the<TT>Text</TT> tool dialog shown in Figure&nbsp;<A HREF="node75.html#f.rendering.punchout2">8.20</A>(c).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.punchout2">&#160;</A><A NAME="12106">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.20:</STRONG>Placing Some Text</CAPTION><TR><TD><IMG SRC="img308.gif"ALT="Figure 8.20"></TD></TR></TABLE></DIV><BR>The Brushstroke font has been chosen with a height of 100 pixels, and,because the goal of choosing this font is to get a rough punchouteffect, the Antialiasing option has been turned off, as shown in the<TT>Text</TT> tool's <TT>Tool Options</TT> dialog(Figure&nbsp;<A HREF="node75.html#f.rendering.punchout2">8.20</A>(d)).  Clicking on the OK button inthe <TT>Text</TT> tool dialog places the text into a floating selection.Because the <TT>Active Foreground Color</TT> is white, so is the newlycreated text.<P>Cutting the floating selection with <TT>C-x</TT> and then pasting it backwith <TT>C-v</TT> centers the text before it is anchored into the layerbelow by clicking on the <TT>Anchor</TT> button in the Layers dialog.This makes a layer with white text on a black background.Figure&nbsp;<A HREF="node75.html#f.rendering.punchout2">8.20</A>(a) shows the image window, andFigure&nbsp;<A HREF="node75.html#f.rendering.punchout2">8.20</A>(b) shows the corresponding Layersdialog at this stage in the example.<P>The procedure is almost complete.  If we were making a drop shadow,the new layer would be blurred and offset.  However, for the punchout,we first copy the Inverse Text layer into its own layer mask.  This isdone in the following steps:<DL COMPACT><DT>1.<DD>Make the Inverse Text layer active by clicking on its thumbnail in theLayers dialog.<DT>2.<DD>Copy the Inverse Text image contents to the default buffer by typing<TT>C-c</TT> in the image window.<DT>3.<DD>Create a layer mask by choosing <TT>Add Layer Mask</TT><A NAME="12123">&#160;</A> from the Layers menu.<DT>4.<DD>Paste the default buffer contents by typing <TT>C-v</TT> in the imagewindow.<DT>5.<DD>Anchor the resulting floating selection to the layer mask by clickingon the <TT>Anchor</TT> button in the Layers dialog.</DL>The result is shown in Figure&nbsp;<A HREF="node75.html#f.rendering.punchout3">8.21</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.punchout3">&#160;</A><A NAME="12129">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.21:</STRONG>Creating the Layer Mask</CAPTION><TR><TD><IMG SRC="img309.gif"ALT="Figure 8.21"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node75.html#f.rendering.punchout3">8.21</A>(b) shows the corresponding Layersdialog.<P>The final step is to blur and offset the text in the Inverse Textlayer.  To do this, the Inverse Text layer is made active by clickingon its thumbnail in the Layers dialog.  This layer is then blurredusing the <TT>Gaussian Blur (IIR)</TT> filter with a radius of 8 andshifted using <TT>Offset</TT> with values of 4 for both X and Y.  Theresult is shown in Figure&nbsp;<A HREF="node75.html#f.rendering.punchout4">8.22</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.punchout4">&#160;</A><A NAME="12138">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.22:</STRONG>The Final Punchout</CAPTION><TR><TD><IMG SRC="img310.gif"ALT="Figure 8.22"></TD></TR></TABLE></DIV><BR>The blurred and offset inverted text now appears as a shadow seenthrough a stencil punched out of the photo.Figures&nbsp;<A HREF="node75.html#f.rendering.punchout4">8.22</A>(b) and (c) show the dialogs forthe <TT>Gaussian Blur (IIR)</TT> and <TT>Offset</TT> filters used in thisexample.<P><HR><H1><A NAME="SECTION001650000000000000000">&#160;</A><A NAME="s8.proj1">&#160;</A><A NAME="12147">&#160;</A><A NAME="12148">&#160;</A><A NAME="12149">&#160;</A><A NAME="12150">&#160;</A><A NAME="12151">&#160;</A><BR>8.5 Rendering Project I: Drop Shadow and Punchout</H1><P>To illustrate some of the techniques discussed in this chapter, let'sapply them to a project using the image shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk1">8.23</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.space-walk1">&#160;</A><A NAME="12154">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.23:</STRONG>Original Image and Color Corrected Selection of Astronaut</CAPTION><TR><TD><IMG SRC="img311.gif"ALT="Figure 8.23"></TD></TR></TABLE></DIV><BR>The astronaut in this image is selected from its background usingvarious methods from Chapters&nbsp;<A HREF="node35.html#c3.selections">3</A> and <A HREF="node42.html#c4.masks">4</A>.After the selection, methods described in Section&nbsp;<A HREF="node60.html#s6.tonal-range">6.1</A>are used to improve the tonal range, and the result is shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk1">8.23</A>(b).<P>This project uses a drop shadow and a punchout to create a compositionwith our astronaut.  The goal is to create the effect that he hasextracted himself from the 2D plane and is wandering off on his own.To start, the selected astronaut is placed over a blue-gray layer.  Theresult of this is shown in Figure&nbsp;<A HREF="node76.html#f.rendering.space-walk2">8.24</A>(a),<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.space-walk2">&#160;</A><A NAME="12164">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.24:</STRONG>Making a Gray-Blue Background Layer and Creating a ChannelMask from the Astronaut's Alpha Channel</CAPTION><TR><TD><IMG SRC="img312.gif"ALT="Figure 8.24"></TD></TR></TABLE></DIV><BR>and the associated Layers dialog is shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk2">8.24</A>(b).<P>The most important element of the project is the outline of theastronaut because this is used to create both the shadow and thepunchout effects.  Thus, the next step is to save the outline as achannel mask.  This is done by making the Astronaut layer active,applying the <TT>Alpha to Selection</TT><A NAME="12170">&#160;</A> function found in the Layers menu, and then using <TT>Saveto Channel</TT><A NAME="12172">&#160;</A> from the <TT>Image:Select</TT> menu.  This creates the channel mask shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk2">8.24</A>(c).  After the save-to-channeloperation, it is important to cancel the selection by typing <TT>C-S-a</TT> in the image window.<P>The punchout is made first.  This is begun by copying the astronautmask and pasting it into a new layer.  This new layer, labeled Punchout,is positioned between the Blue Gray Background layer and the Astronautlayer as shown in Figure&nbsp;<A HREF="node76.html#f.rendering.space-walk3">8.25</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.space-walk3">&#160;</A><A NAME="12178">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.25:</STRONG>Starting the Punchout</CAPTION><TR><TD><IMG SRC="img313.gif"ALT="Figure 8.25"></TD></TR></TABLE></DIV><BR>To create the punchout, this new layer is copied into its own layer maskas shown in Figure&nbsp;<A HREF="node76.html#f.rendering.space-walk3">8.25</A>(b).  <P>All that remains to finish the punchout effect is to blur the image inthe Punchout layer and to offset it.Figure&nbsp;<A HREF="node76.html#f.rendering.space-walk4">8.26</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.space-walk4">&#160;</A><A NAME="12185">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.26:</STRONG>Finishing the Punchout</CAPTION><TR><TD><IMG SRC="img314.gif"ALT="Figure 8.26"></TD></TR></TABLE></DIV><BR>shows that a value of 20 is chosen in the <TT>Gaussian Blur (IIR)</TT>dialog, and Figure&nbsp;<A HREF="node76.html#f.rendering.space-walk4">8.26</A>(b) shows that valuesof 8 and 4 have been chosen in the <TT>Offset</TT><A NAME="12192">&#160;</A>dialog.  The result is shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk4">8.26</A>(c).  Note that, for the punchoutto be seen in Figure&nbsp;<A HREF="node76.html#f.rendering.space-walk4">8.26</A>(c), the visibilityof the Astronaut layer has been toggled off, as shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk4">8.26</A>(d).<P>Before moving to the next stage of the project, let's give thepunchout a bit more pizzazz by inserting an interesting image pattern.To do this, the Punchout layer is duplicated by first clicking on itsthumbnail in the Layers dialog, and then clicking on the DuplicateLayer button.  This creates a layer called Punchout Copy just abovethe original.  The image part of the Punchout layer is made active byclicking on its thumbnail. This layer is now filled with the pinkmarble pattern from the <TT>Pattern Selection</TT> dialog (seeFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk5">8.27</A>(c)).  This is done using the <TT>Bucket Fill</TT> tool, where the fill type is set to Pattern Fill and theThreshold is set to 255.  Finally, the Mode menu for the Punchout Copylayer is set to <TT>Multiply</TT>, as shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk5">8.27</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.space-walk5">&#160;</A><A NAME="12202">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.27:</STRONG>Jazzing up the Punchout with a Pattern Image Background</CAPTION><TR><TD><IMG SRC="img315.gif"ALT="Figure 8.27"></TD></TR></TABLE></DIV><BR>This produces the result shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk5">8.27</A>(a), which makes it appear as ifthe wall behind the Background layer is made of pink marble.<P>The final step of this project is to rotate the astronaut, repositionhim, and give him a drop shadow.  To do this, he is first made visibleby clicking on the Eye icon of the Astronaut layer in the Layersdialog.  The rest is detailed in the following steps:<DL COMPACT><DT>1.<DD>Rotate the astronaut using the <TT>Transform</TT> tool.<DT>2.<DD>Move the astronaut to a new position using the <TT>Move</TT> tool.<DT>3.<DD>Duplicate the Astronaut layer, creating a layer labeled AstronautCopy.<DT>4.<DD>Set the threshold of the <TT>Bucket Fill</TT> tool to 255 and use it tofill the Astronaut layer with black.<DT>5.<DD>Blur the Astronaut layer with <TT>Gaussian Blur (IIR)</TT>.<DT>6.<DD>Offset the Astronaut layer an appropriate amount.</DL>The final result is shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk-final">8.28</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.space-walk-final">&#160;</A><A NAME="12215">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.28:</STRONG>The Final Rendered Image</CAPTION><TR><TD><IMG SRC="img316.gif"ALT="Figure 8.28"></TD></TR></TABLE></DIV><BR>The resulting Layers dialog is shown inFigure&nbsp;<A HREF="node76.html#f.rendering.space-walk-final">8.28</A>(b).<P><HR><H1><A NAME="SECTION001660000000000000000">&#160;</A><A NAME="s8.carved">&#160;</A><A NAME="12222">&#160;</A><A NAME="12223">&#160;</A><A NAME="12224">&#160;</A><A NAME="12225">&#160;</A><A NAME="12226">&#160;</A><BR>8.6 Rendering Project II: A Carved Stencil</H1><P>This project describes a rendering effect that looks like carving intowood.  It makes use of bumpmapping and shadows.<P>The technique creates the carved effect using two layers.Figure&nbsp;<A HREF="node77.html#f.rendering.carved1">8.29</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.carved1">&#160;</A><A NAME="12229">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.29:</STRONG>The Two Layers Used to Create the Carved Rendering Effect</CAPTION><TR><TD><IMG SRC="img317.gif"ALT="Figure 8.29"></TD></TR></TABLE></DIV><BR>shows the first layer, a bit-mapped image of a boat.Figure&nbsp;<A HREF="node77.html#f.rendering.carved1">8.29</A>(b) shows the second layer, abackground inserted under the bitmap and filled, using the <TT>BucketFill</TT> tool, with a wood pattern from the <TT>Pattern Selection</TT>dialog.  The visibility of the boat layer has been toggled off so thatthe pattern can be seen.  Figure&nbsp;<A HREF="node77.html#f.rendering.carved1">8.29</A>(c)illustrates the disposition of the two layers in the Layers dialog.<P>The first step in creating the carved effect is to obtain a selectionof the boat's outline.  Since the bitmap of the boat consists of onlytwo colors, black and white, this is most easily done with the <TT>ByColor</TT> selection tool found in the <TT>Image:Select</TT> menu (seeSection&nbsp;<A HREF="node38.html#s3.by-color">3.3.11</A>).  The resulting selection is used to createan inset<A NAME="12240">&#160;</A> for the carved effect.<P>What is an inset?  It is just the Wood Background layer darkenedslightly within the perimeter of the boat selection.  This helpscreate the illusion that this part of the image is recessed, or inset,into the wood.  Figure&nbsp;<A HREF="node77.html#f.rendering.carved2">8.30</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.carved2">&#160;</A><A NAME="12243">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.30:</STRONG>Creating an Inset</CAPTION><TR><TD><IMG SRC="img318.gif"ALT="Figure 8.30"></TD></TR></TABLE></DIV><BR>shows the Marching Ants of the selection.  The selection is seenfloating over the Wood Background layer because the Eye icon in theBoat layer has been toggled off as shown inFigure&nbsp;<A HREF="node77.html#f.rendering.carved2">8.30</A>(b).  Notice that the color of thewood seems a little darker inside the selection.  This darkening wascreated by sliding the middle Input Slider control of the <TT>Levels</TT>tool slightly to the right in the Value channel.  After this step, theselection is canceled by typing <TT>C-S-a</TT> in the image window.<P>The next step is to apply the <TT>Bump map</TT><A NAME="12251">&#160;</A><A NAME="12252">&#160;</A>filter to the Wood Background layer using the bitmap of the Boat layeras the embossing map.  Before doing this, the bitmap of the boat isblurred slightly because it improves the effect of the bumpmapping.Figure&nbsp;<A HREF="node77.html#f.rendering.carved3">8.31</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.carved3">&#160;</A><A NAME="12411">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.31:</STRONG>Creating the Carved Effect Using <TT> Bump map</TT></CAPTION><TR><TD><IMG SRC="img319.gif"ALT="Figure 8.31"></TD></TR></TABLE></DIV><BR>shows the result of applying <TT>Gaussian Blur(IIR)</TT><A NAME="12260">&#160;</A> with a radius of 3 pixels tothe bitmap of the Boat layer, and Figure&nbsp;<A HREF="node77.html#f.rendering.carved3">8.31</A>(b)shows the <TT>Bump map</TT> dialog.  As already stated, the bitmap of theBoat layer has been chosen as the embossing map.  The other <TT>Bumpmap</TT> filter parameters are as shown inFigure&nbsp;<A HREF="node77.html#f.rendering.carved3">8.31</A>(b).  Note that the Compensate fordarkening checkbox has been toggled on.  The result of the <TT>Bumpmap</TT> filter is shown in Figure&nbsp;<A HREF="node77.html#f.rendering.carved3">8.31</A>(c).<P>At this point, the result shown in Figure&nbsp;<A HREF="node77.html#f.rendering.carved3">8.31</A>(c)already looks carved.  However, the effect can be accentuated bymaking clever use of a punchout.  The idea is that the perimeter ofthe carving should cast a punchout-like shadow onto the inset.  Toachieve the effect, the colors of the Boat layer need to be inverted,the layer must be copied into its own layer mask, and the layer must beblurred and offset.  The following list summarizes these steps:<DL COMPACT><DT>1.<DD>Invert the colors of the Boat layer using <TT>Invert</TT> from the <TT>Image:Image/Colors</TT> menu.<DT>2.<DD>Copy the Boat layer to the default buffer by typing <TT>C-c</TT> in the imagewindow.<DT>3.<DD>Create a layer mask for the Boat layer.<DT>4.<DD>Paste the contents of the default buffer by typing <TT>C-v</TT> inthe image window.<DT>5.<DD>Anchor the resulting floating selection into the layer mask byclicking on the <TT>Anchor</TT> button in the Layers dialog.<DT>6.<DD>Make the Boat layer active by clicking on its thumbnail in the Layersdialog.<DT>7.<DD>Blur and offset the Boat layer using <TT>Gaussian Blur (IIR)</TT> with aradius of 5, and <TT>Offset</TT><A NAME="12276">&#160;</A> the layer by 5 inX and Y.</DL>These steps produce the image shown in Figure&nbsp;<A HREF="node77.html#f.rendering.carved4">8.32</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.carved4">&#160;</A><A NAME="12280">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.32:</STRONG>Making the Punchout Effect</CAPTION><TR><TD><IMG SRC="img320.gif"ALT="Figure 8.32"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node77.html#f.rendering.carved4">8.32</A>(b) shows the associated Layersdialog.  <P>Notice that the creation of the punchout has turned the inset white.To recover the dark colored wood of the inset the Boat layer is madeactive and the <TT>Multiply</TT> mode is selected from the Mode menu inthe Layers dialog.  As a final finesse, the shadow from the punchoutis made a bit more diffuse by setting the Opacity slider, in theLayers dialog, to 65%.  The final carved result is shown inFigure&nbsp;<A HREF="node77.html#f.rendering.carved5">8.33</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.carved5">&#160;</A><A NAME="12414">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.33:</STRONG>Using the <TT> Multiply</TT> Mode and the Opacity Slider toObtain the Final Carved Effect</CAPTION><TR><TD><IMG SRC="img321.gif"ALT="Figure 8.33"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node77.html#f.rendering.carved5">8.33</A>(b) shows the associated Layersdialog.<P><HR><H1><A NAME="SECTION001670000000000000000">&#160;</A><A NAME="s8.chiseled">&#160;</A><A NAME="12295">&#160;</A><A NAME="12296">&#160;</A><A NAME="12297">&#160;</A><A NAME="12298">&#160;</A><BR>8.7 Rendering Project III: Chiseled Text</H1><P>This project describes a nice rendering effect that creates theillusion of chiseling into stone.  The example is illustrated usingtext, however, it can be applied to any shape.  The chiseling effectis created using gradients, bumpmapping, and shadows--basically allthe rendering tools discussed in this chapter.<P>The finished project will consist of three layers.  The backgroundlayer will contains an image pattern, in this case pink marble.  Thetop layer will contain text filled with the same image pattern andbumpmapped to make it look chiseled.  The middle layer will be a dropshadow for the text.<P>To begin, a new image of dimensions <!-- MATH: $600\times 100$ --><IMG WIDTH="89" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img322.gif" ALT="$600\times 100$">pixels is created.It is then filled, using the <TT>Bucket Fill</TT> tool, with the pinkmarble pattern from the <TT>Pattern Selection</TT> dialog.  This layer islabeled Marble Background in the Layers dialog and is shown inFigure&nbsp;<A HREF="node78.html#f.rendering.chiseled1">8.34</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.chiseled1">&#160;</A><A NAME="12303">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.34:</STRONG>Creating the Background, Text, and Drop Shadow for the Chiseled Effect</CAPTION><TR><TD><IMG SRC="img323.gif"ALT="Figure 8.34"></TD></TR></TABLE></DIV><BR>The next step is to create some black text on a transparent layerabove the Marble Background layer.  <P>The transparent layer is made by clicking on the <TT>New Layer</TT>button in the Layers dialog, and the text is created by, first,selecting black as the <TT>Active Foreground Color</TT>, and, then,invoking the <TT>Text</TT> tool.  The <TT>Text</TT> tool is used to placethe word CHISELED, in the Engraver font, at a size of 72 pixels, intoa floating selection.  Cutting and repasting the float perfectlycenters the text in the image window.  It is then anchored to thetransparent layer beneath it by clicking on the <TT>Anchor</TT> button inthe Layers dialog.  This layer is labeled Text in the Layers dialog,and the resulting image is illustrated inFigure&nbsp;<A HREF="node78.html#f.rendering.chiseled1">8.34</A>(b).<P>The drop shadow<A NAME="12313">&#160;</A> is createdby duplicating the Text layer, blurring it with <TT>Gaussian Blur(IIR)</TT><A NAME="12315">&#160;</A> using a radius of 5 pixels,and then applying <TT>Offset</TT><A NAME="12317">&#160;</A> with the valuesof 3 pixels for both the X and Y directions.  This layer is thenpositioned between the Text and Marble Background layers using thepositioning buttons in the Layers dialog button bar.  This layer islabeled Text Shadow in the Layers dialog.  The result is shown inFigure&nbsp;<A HREF="node78.html#f.rendering.chiseled1">8.34</A>(c).<P>The next step is to fill the text in the Text layer with a shapeburstgradient.<A NAME="12319">&#160;</A>  For this, the layeris made active by clicking on its thumbnail in the Layers dialog, andthe text is selected using the <TT>Alpha to Selection</TT><A NAME="12321">&#160;</A> function from the Layers menu.  Setting the <TT>Active Foreground Color</TT> and the <TT>Active Background Color</TT> towhite and black, respectively, the <TT>Gradient</TT> tool is used to fillthe text with a <TT>Shapeburst (angular)</TT> gradient.  The selection isthen canceled by typing <TT>C-S-a</TT> in the image window, and theresult is shown in Figure&nbsp;<A HREF="node78.html#f.rendering.chiseled2">8.35</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.chiseled2">&#160;</A><A NAME="12329">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.35:</STRONG>Using the Shapeburst Gradient on the Text Layer</CAPTION><TR><TD><IMG SRC="img324.gif"ALT="Figure 8.35"></TD></TR></TABLE></DIV><BR>The associated Layers dialog is shown inFigure&nbsp;<A HREF="node78.html#f.rendering.chiseled2">8.35</A>(b).<P>The project is now almost complete.  What remains is the applicationof the shapeburst filled text as an embossing map to the marblebackground layer.  This is done, of course, using <TT>Bumpmap</TT>.<A NAME="12335">&#160;</A><A NAME="12336">&#160;</A>  The MarbleBackground layer is made active by clicking on its thumbnail in theLayers dialog and the <TT>Bump map</TT> filter is invoked.  The filterdialog illustrated in Figure&nbsp;<A HREF="node78.html#f.rendering.chiseled3">8.36</A>(b)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.chiseled3">&#160;</A><A NAME="12418">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.36:</STRONG>Creating the Chiseled Effect Using <TT> Bump map</TT></CAPTION><TR><TD><IMG SRC="img325.gif"ALT="Figure 8.36"></TD></TR></TABLE></DIV><BR>shows the parameters used and Figure&nbsp;<A HREF="node78.html#f.rendering.chiseled3">8.36</A>(a)shows the resulting effect on the Marble Background layer.  Note thatthe visibility of the Text and Text Shadow layers has been toggled offso the chiseled text can be seen in the figure.<P>All that remains to complete this project is to move the chiseled textto the top layer of the stack.  This is done in the following steps:<DL COMPACT><DT>1.<DD>Make the Text layer active by clicking on its thumbnail in the Layersdialog.<DT>2.<DD>Select the text using the <TT>Alpha to Selection</TT><A NAME="12347">&#160;</A> function from the Layers menu.<DT>3.<DD>Make the Marble Background layer active by clicking on its thumbnailin the Layers dialog, and copy the chiseled text into a buffer bytyping <TT>C-c</TT> in the image window.  Due to the selection obtainedin step (2) only the chiseled text is copied to the buffer.<DT>4.<DD>Cancel the selection by typing <TT>C-S-a</TT> in the image window.<DT>5.<DD>Make the Text layer active by clicking on its thumbnail in the Layersdialog, and paste the buffer contents to a floating selection bytyping <TT>C-v</TT> in the image window.<DT>6.<DD>Anchor the float to the Text layer by clicking on the <TT>Anchor</TT>button in the Layers dialog.</DL>The result is shown in Figure&nbsp;<A HREF="node78.html#f.rendering.chiseled4">8.37</A>(a),<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.chiseled4">&#160;</A><A NAME="12355">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.37:</STRONG>Copying and Pasting the Chiseled Text to the Top Layer</CAPTION><TR><TD><IMG SRC="img326.gif"ALT="Figure 8.37"></TD></TR></TABLE></DIV><BR>and the Layers dialog is shown inFigure&nbsp;<A HREF="node78.html#f.rendering.chiseled4">8.37</A>(b).<P>As a final flourish, the chiseled text is lightened somewhat to makeit more prominent against the marble background.  This is done bymaking the Text layer active and, as shown inFigure&nbsp;<A HREF="node78.html#f.rendering.chiseled5">8.38</A>(b), by adjusting the middle controlof the input slider of the <TT>Levels</TT> tool dialog.Figure&nbsp;<A HREF="node78.html#f.rendering.chiseled5">8.38</A>(b)<BR><DIV ALIGN="CENTER"><A NAME="f.rendering.chiseled5">&#160;</A><A NAME="12421">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 8.38:</STRONG>Lightening the Text with the <TT> Levels</TT> Tool to Produce theFinal Chiseled Effect</CAPTION><TR><TD><IMG SRC="img327.gif"ALT="Figure 8.38"></TD></TR></TABLE></DIV><BR>shows the resulting settings in the <TT>Levels</TT> dialog, andFigure&nbsp;<A HREF="node78.html#f.rendering.chiseled5">8.38</A>(a) shows the final effect.<HR><H1><A NAME="SECTION001700000000000000000">&#160;</A><A NAME="c9.web-centric">&#160;</A><BR>9. Web-Centric GIMP</H1><P>The GIMP has many powerful tools for creating interesting and usefulgraphic components for Web pages.  In this chapter, you will learn howthe GIMP can be used to create animated GIFs, clickable image maps,fancy type styles, and tileable backgrounds, all of which areimportant features for dynamic, exciting Web pages.  The chapterfinishes with a discussion on how to best prepare color images to beviewed on the Web using a standard Web browser.<P><BR><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS">&#160;</A><UL><LI><A NAME="tex2html1995" HREF="node80.html">9.1 Web Animations</A><UL><LI><A NAME="tex2html1996" HREF="node80.html#SECTION001711000000000000000">9.1.1 Using GIF Files for Animation</A><LI><A NAME="tex2html1997" HREF="node80.html#SECTION001712000000000000000">9.1.2 GIMP Layers Can Behave Like Animation Frames</A><LI><A NAME="tex2html1998" HREF="node80.html#SECTION001713000000000000000">9.1.3 Saving Animations to GIF</A><LI><A NAME="tex2html1999" HREF="node80.html#SECTION001714000000000000000">9.1.4 A Second Example of Creating a GIF Animation</A><LI><A NAME="tex2html2000" HREF="node80.html#SECTION001715000000000000000">9.1.5 Animation Optimization</A><LI><A NAME="tex2html2001" HREF="node80.html#SECTION001716000000000000000">9.1.6 IWarp</A></UL><LI><A NAME="tex2html2002" HREF="node81.html">9.2  Clickable Image Maps</A><LI><A NAME="tex2html2003" HREF="node82.html">9.3 Type Effects</A><LI><A NAME="tex2html2004" HREF="node83.html">9.4 Tileable Backgrounds</A><LI><A NAME="tex2html2005" HREF="node84.html">9.5 Web-Safe Color</A><UL><LI><A NAME="tex2html2006" HREF="node84.html#SECTION001751000000000000000">9.5.1 Types of Color Distortion</A><LI><A NAME="tex2html2007" HREF="node84.html#SECTION001752000000000000000">9.5.2 Low-Color Systems and Web Browser <BR>Color Palettes</A><LI><A NAME="tex2html2008" HREF="node84.html#SECTION001753000000000000000">9.5.3 Converting to Indexed Color</A><LI><A NAME="tex2html2009" HREF="node84.html#SECTION001754000000000000000">9.5.4 What Is the Best Choice?</A></UL><LI><A NAME="tex2html2010" HREF="node85.html">9.6 Semi-Transparency and Indexed Images</A><LI><A NAME="tex2html2011" HREF="node86.html">9.7 Which Format GIF or JPEG?</A></UL><!--End of Table of Child-Links--><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html2024" HREF="node80.html#SECTION001711000000000000000">9.1.1 Using GIF Files for Animation</A><LI><A NAME="tex2html2025" HREF="node80.html#SECTION001712000000000000000">9.1.2 GIMP Layers Can Behave Like Animation Frames</A><LI><A NAME="tex2html2026" HREF="node80.html#SECTION001713000000000000000">9.1.3 Saving Animations to GIF</A><LI><A NAME="tex2html2027" HREF="node80.html#SECTION001714000000000000000">9.1.4 A Second Example of Creating a GIF Animation</A><LI><A NAME="tex2html2028" HREF="node80.html#SECTION001715000000000000000">9.1.5 Animation Optimization</A><LI><A NAME="tex2html2029" HREF="node80.html#SECTION001716000000000000000">9.1.6 IWarp</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001710000000000000000">&#160;</A><A NAME="13116">&#160;</A><A NAME="13117">&#160;</A><BR>9.1 Web Animations</H1><P>A graphic tool often seen on Web pages is the ubiquitous, animatedGIF.<A NAME="13118">&#160;</A>  This is an image fileformat that can contain a sequence of frames combining text, images,and timing information to create a flip-book-like movie.  As you willsee in this chapter animated GIFs are easy to create, edit, and viewin the GIMP.<P><H2><A NAME="SECTION001711000000000000000">9.1.1 Using GIF Files for Animation</A></H2> <P>The GIMP can save animations to several different file formats, butwhen making animations for the Web, the choice is limited to GIFs.GIF stands for Graphics Interchange Format<A NAME="13120">&#160;</A>, and GIF format files support a number of features that areparticularly useful for Web graphics.<P>First, GIF is an eight-bit-per-pixel format, which means that withcareful planning a GIF can be almost always properly displayed onsystems providing only eight bits of color (seeSection&nbsp;<A HREF="node84.html#s9.webcentric.colorsafe">9.5</A>).  Second, GIFs allow fortransparency, a feature not supported by JPEG (Joint PhotographicExperts Group), the other principle file format forimages<A NAME="13122">&#160;</A> on the Web.  Third, GIFs supportinterlacing which may be of interest for the transmission of imagesover low bandwidth networks.  Finally, the GIF format supports layersand attached layer timing information.  This last feature is the oneexploited for GIF animations.<P><H2><A NAME="SECTION001712000000000000000">&#160;</A><A NAME="13124">&#160;</A><A NAME="13125">&#160;</A><BR>9.1.2 GIMP Layers Can Behave Like Animation Frames</H2><P>Animations are sequences of images that can be played according totiming information attached to each frame.  The GIMP has built-insupport for animations because each layer in an image can be treatedas an animation frame by the GIMP.  The GIMP supports this equivalenceby allowing timing information to be attached to layers, by providinga tool for playing layered images as animations, and by supporting theconversion<A NAME="13126">&#160;</A><A NAME="13127">&#160;</A> of layeredimages to Indexed format and output as GIF files.<P>Figure&nbsp;<A HREF="node80.html#f.web_centric.first-anim1">9.1</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.first-anim1">&#160;</A><A NAME="13130">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.1:</STRONG>Example of Some GIMP Animation Features</CAPTION><TR><TD><IMG SRC="img328.gif"ALT="Figure 9.1"></TD></TR></TABLE></DIV><BR>illustrates some of the GIMP's built in animation features.Figure&nbsp;<A HREF="node80.html#f.web_centric.first-anim1">9.1</A>(a) shows an image that consistsof five layers.  The organization of the layers is seen in the Layersdialog shown in Figure&nbsp;<A HREF="node80.html#f.web_centric.first-anim1">9.1</A>(b).  This imageis constructed by creating an image with a white background, and thenadding four new layers, each one containing, in sequence, one of thefour letters G, I, M, and P.  The letters were colored using the <TT>Bucket Fill</TT> tool.The animation sequence is illustrated here:<P><DIV ALIGN="CENTER"><IMG  ALIGN="CENTER" SRC="first-anim1.gif" ALT="Animation"></DIV><P>(Note: The animation can be turned off by clicking on the Stopbutton of your browser.)Notice that each layer is named and that the names contain timinginformation<A NAME="13138">&#160;</A> used for theframe animation.  The timing information is indicated by the text inthe format (<EM>XXXX</EM>ms), where XXXX is a 1 to 4 digit number, and msindicates that the units of the number are in milliseconds.  Theparentheses are a required part of the format.  Thus, for thisexample, the Background layer appears empty for 1 second (1000ms)followed by the four letters appearing at intervals of 100ms, 400ms,600ms, and 800ms.  Name and timing information is added to each layerby double-clicking the layer title area to the right of the thumbnailas described in Section&nbsp;<A HREF="node27.html#s2.layers-dialog">2.1.1</A>.<P>The animation in Figure&nbsp;<A HREF="node80.html#f.web_centric.first-anim1">9.1</A>(a) can beviewed in the GIMP using the <TT>Animation Playback</TT> tool found inthe <TT>Image:Filters/Animation</TT> menu.  As you can see inFigure&nbsp;<A HREF="node80.html#f.web_centric.first-anim1">9.1</A>(c), the tool consists of aPlay/Stop button, a Step button, which allows the animation to bestepped along a frame at a time, and a Rewind button, which can beused to set the animation back to the first frame.  This last buttonis particularly useful if the animation consists of a very largenumber of frames.  The <TT>Animation Playback</TT><A NAME="13146">&#160;</A> tool plays the animation associated to the image usingthe timing information as specified in the name of each layer.  Notethat there is also a progress bar that shows the animation's currentframe number.<P>By default, GIMP animations sequentially present frames using theCombine mode.<A NAME="13147">&#160;</A>  This means that aseach new frame is displayed, it is stacked on the previous one.  Thus,if a new frame is partially transparent the previous frame can be seenthrough its transparent parts.  This is not the traditional movieparadigm for animation, which, instead of combining frames, replaceseach frame with a new one.  Consequently, although the frames inFigure&nbsp;<A HREF="node80.html#f.web_centric.first-anim1">9.1</A> all consist of single letterson a transparent field, the animation spells out the word GIMP aletter at a time on the white background of the first layer.<P>Figure&nbsp;<A HREF="node80.html#f.web_centric.first-anim2">9.2</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.first-anim2">&#160;</A><A NAME="13151">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.2:</STRONG>Example of Replace Mode</CAPTION><TR><TD><IMG SRC="img329.gif"ALT="Figure 9.2"></TD></TR></TABLE></DIV><BR>illustrates the same example as inFigure&nbsp;<A HREF="node80.html#f.web_centric.first-anim1">9.1</A> except now each layer usesReplace<A NAME="13156">&#160;</A> instead of Combine modein the animation sequence.  The Layers dialog inFigure&nbsp;<A HREF="node80.html#f.web_centric.first-anim2">9.2</A>(b) shows that the Replace modeis specified by typing the text <TT>(replace)</TT> in the title field ofeach layer.  The <TT>Animation Playback</TT> tool shown inFigure&nbsp;<A HREF="node80.html#f.web_centric.first-anim2">9.2</A>(c) shows the animation at thesame point in the sequence as before.  However, now, due to Replacemode being used, the white background and the red letter G are notvisible.  There is only the green letter I on a transparentbackground.  This is the traditional movie paradigm for animation.The new animation sequence is shown here:<P><DIV ALIGN="CENTER"><IMG  ALIGN="CENTER" SRC="first-anim2.gif" ALT="Animation"></DIV><P>(Note: The animation can be turned off by clicking on the Stopbutton of your browser.)The explicit use of Combine mode can be made by typing the text <TT>(combine)</TT> instead of <TT>(replace)</TT> in a layer title.  The two modescan be used together in an animation with some frames replacing andothers combining.<P><H2><A NAME="SECTION001713000000000000000">&#160;</A><A NAME="13165">&#160;</A><A NAME="13166">&#160;</A><BR>9.1.3 Saving Animations to GIF</H2><P>The GIMP allows animations to be made in RGB and Grayscale formats,but an animation must be converted to Indexedformat<A NAME="13167">&#160;</A> before it can besaved as a GIF.  Trying to save to GIF without being in Indexed formatgenerates an <TT>Export File</TT> dialog message that provides the userwith information and options to correctly save the image.<P>Properly converting an image to Indexed format is accomplished withthe function <TT>Indexed</TT><A NAME="13170">&#160;</A> found in the <TT>Image:Image/Mode</TT> menu.  This brings up the <TT>Indexed ColorConversion</TT> dialog<A NAME="13173">&#160;</A> shown inFigure&nbsp;<A HREF="node80.html#f.web_centric.first-anim3">9.3</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.first-anim3">&#160;</A><A NAME="13176">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.3:</STRONG>Converting to Indexed</CAPTION><TR><TD><IMG SRC="img330.gif"ALT="Figure 9.3"></TD></TR></TABLE></DIV><BR>This dialog has two main option areas.  The first covers the Paletteoptions and the second covers the Dither options.  The default optionsusually work fine, but if a particular conversion to Indexed formathas problems, refer to Section&nbsp;<A HREF="node84.html#s9.webcentric.colorsafe">9.5</A>, whichdiscusses web-safe color palettes and covers these dialog options indetail.<P>After an image has been converted to Indexed, it can be saved in GIFformat.  This is accomplished by choosing <TT>Image:File/SaveAs</TT><A NAME="13182">&#160;</A> which brings up the <TT>Save Image</TT>dialog<A NAME="13184">&#160;</A> shown inFigure&nbsp;<A HREF="node80.html#f.web_centric.gif-save">9.4</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.gif-save">&#160;</A><A NAME="13187">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.4:</STRONG>Saving an Animation as a GIF File</CAPTION><TR><TD><IMG SRC="img331.gif"ALT="Figure 9.4"></TD></TR></TABLE></DIV><BR>The GIMP automatically saves the file in GIF format if the nameentered into the entry box at the bottom of the dialog ends with the<TT>.gif</TT> extension.  Alternatively, GIF can be selected from theSave Options menu.  This automatically attaches the <TT>.gif</TT>extension to whatever name has been typed into the entry box.<P>Clicking the OK button in the <TT>Save Image</TT> dialog brings up the<TT>Save as GIF</TT> options dialog<A NAME="13195">&#160;</A> shown inFigure&nbsp;<A HREF="node80.html#f.web_centric.gif-save">9.4</A>(b).  Because the image to be savedis multi-layered, the Animated GIF Options are available.  These arenot enabled for single layer images.  The first option specifieswhether the animation will loop continuously or not.  Looping is thedefault.  The next option is an entry box that specifies the time perframe for frames that have not been explicitly specified.  The defaultis 100ms.  For the examples in Figures&nbsp;<A HREF="node80.html#f.web_centric.first-anim1">9.1</A>and<A HREF="node80.html#f.web_centric.first-anim2">9.2</A>,the timing information is given for each layer, so this option isirrelevant for these layers. Finally, the animation mode, eitherReplace or Combine, can be selected for all frames that have not beenexplicitly specified.  The I Don't Care option defaults to Combinemode.<P><H2><A NAME="SECTION001714000000000000000">&#160;</A><A NAME="s9.shuttle-animation">&#160;</A><A NAME="13201">&#160;</A><BR>9.1.4 A Second Example of Creating a GIF Animation</H2><P>The compositing techniques discussed in Chapter&nbsp;<A HREF="node65.html#c7.compositing">7</A>provide you with many tools for creating animated GIFs.  In thissection, an example of creating an animation illustrates how you canuse some simple techniques to generate sophisticatedanimations.<P>The animation scenario has the space shuttle flying from an earthorbit to a distant landing on the planet's surface.  The animation iscreated by compositing the four separate images shown inFigure&nbsp;<A HREF="node80.html#f.web_centric.anim-raw">9.5</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.anim-raw">&#160;</A><A NAME="13205">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.5:</STRONG>Clockwise from the Top Left, Four Views of the Space Shuttle:(a) Rear, (b) 2/3 Profile, (c) 1/3 Profile, and (d) Full Profile</CAPTION><TR><TD><IMG SRC="img332.gif"ALT="Figure 9.5"></TD></TR></TABLE></DIV><BR>on the background image shown in Figure&nbsp;<A HREF="node80.html#f.web_centric.anim-raw2">9.6</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.anim-raw2">&#160;</A><A NAME="13211">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.6:</STRONG>Image to Be Used as Background to Shuttle Landing</CAPTION><TR><TD><IMG SRC="img333.gif"ALT="Figure 9.6"></TD></TR></TABLE></DIV><BR><P>The first step is to prepare the images inFigures&nbsp;<A HREF="node80.html#f.web_centric.anim-raw">9.5</A> and<A HREF="node80.html#f.web_centric.anim-raw2">9.6</A>.  The image inFigure&nbsp;<A HREF="node80.html#f.web_centric.anim-raw2">9.6</A> is cropped to the desired size,and each of the shuttle images in Figure&nbsp;<A HREF="node80.html#f.web_centric.anim-raw">9.5</A>are selected from their backgrounds and placed into individual layersof a single image, as shown in Figure&nbsp;<A HREF="node80.html#f.web_centric.preparation2">9.7</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.preparation2">&#160;</A><A NAME="13640">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.7:</STRONG>Preparation of the Raw Shuttle Images and Creation of theShuttle Image Clip Book<A NAME="13221">&#160;</A><A NAME="13222">&#160;</A></CAPTION><TR><TD><IMG SRC="img334.gif"ALT="Figure 9.7"></TD></TR></TABLE></DIV><BR>Placing the shuttle images into a single clip book is a technique alsoused in Section&nbsp;<A HREF="node66.html#s7.compositing.proj1">7.1</A>, and it is a convenienttool for organizing, using, and re-using a collection of images thatare to be composited together.<P>The next step composites the shuttle images fromFigure&nbsp;<A HREF="node80.html#f.web_centric.preparation2">9.7</A> into the cropped backgroundimage from Figure&nbsp;<A HREF="node80.html#f.web_centric.anim-raw2">9.6</A>.  The goal is to dothis in a way that makes the shuttle look as if it is flying on atrajectory from its orbit in space to a landing point on the surfaceof the earth.  The approach is to show the shuttle at various aspectswhile it distances itself from the viewer.<P>The primary tools used to achieve the desired result are the <TT>Transform</TT> tool and the <TT>Move</TT> tool.  Figure&nbsp;<A HREF="node80.html#f.web_centric.animation-sequence1">9.8</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.animation-sequence1">&#160;</A><A NAME="13233">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.8:</STRONG>Sequence of Shuttle Layers Used to Make the Animation Sequence</CAPTION><TR><TD><IMG SRC="img335.gif"ALT="Figure 9.8"></TD></TR></TABLE></DIV><BR>shows how the shuttle images fromFigure&nbsp;<A HREF="node80.html#f.web_centric.preparation2">9.7</A> are composited onto thebackground image.  Each of the seven shuttle images is obtained bycopying and pasting from the shuttle picture clip book.  Each shuttleimage is scaled to the appropriate size using the <TT>Transform</TT> tooland positioned with the <TT>Move</TT> tool.  In some cases, the <TT>Transform</TT> tool is also used to rotate the shuttle.  These operationsare repeated until the desired composition is achieved.  Because eachshuttle image is on a separate layer, I was able to fine-tune thepositioning and scaling operations to my satisfaction.<P>To give the shuttle landing a final special effect, an additionallayer showing a reflected glint of light is created.  This is intendedto represent the shuttle entering the earth's atmosphere.  The effectis created by duplicating the background layer of the earth andrunning the <TT>SuperNova</TT><A NAME="13242">&#160;</A><A NAME="13243">&#160;</A> filter found in the <TT>Image:Filters/Light Effects</TT> menu.The dialog for this filter is shown inFigure&nbsp;<A HREF="node80.html#f.web_centric.supernova">9.9</A>(b).<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.supernova">&#160;</A><A NAME="13643">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.9:</STRONG>Adding the <TT> SuperNova</TT> Light Effect</CAPTION><TR><TD><IMG SRC="img336.gif"ALT="Figure 9.9"></TD></TR></TABLE></DIV><BR>The dialog allows the choice of color for the SuperNova effect, whichis set by entering numeric values for the red, green, and bluecomponents.  The values shown inFigure&nbsp;<A HREF="node80.html#f.web_centric.supernova">9.9</A>(b) produce a white flash with aradius of 5 pixels and 20 spokes or rays.  The filter allows theposition of the effect to be interactively chosen, which is done byclicking and dragging the cross hairs in the image thumbnail to thedesired location.  Alternatively, you can enter the positionnumerically in the X and Y entry boxes.  The result of using thefilter is shown in Figure&nbsp;<A HREF="node80.html#f.web_centric.supernova">9.9</A>(a).<P>The animation is now almost complete.  One more step is necessarybefore it can be saved as a GIF file.  The current state of theanimation consists of the background, a duplicate background with theSuperNova effect, and seven transparent layers with various shuttleimages.  This is shown in Figure&nbsp;<A HREF="node80.html#f.web_centric.merge">9.10</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.merge">&#160;</A><A NAME="13255">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.10:</STRONG>Merging Each Shuttle Frame with a Background</CAPTION><TR><TD><IMG SRC="img337.gif"ALT="Figure 9.10"></TD></TR></TABLE></DIV><BR><P>The problem with Figure&nbsp;<A HREF="node80.html#f.web_centric.merge">9.10</A>(a) is that neitherthe Replace nor Combine modes will create the desired animation withthe layer frames as shown.  In Replace mode, the animation would showa frame of the earth, then a frame with the earth showing theSuperNova effect, and then seven frames, each empty except for theshuttle.  Alternatively, the animation obtained by using the Combinemode would show the earth, then a SuperNova effect on the earth,followed by a sequence of shuttles that appear one at a time but thatonly disappear at the end of the animation sequence.  Neither of theseis what we want.<P>To produce an animation that runs correctly, it is necessary to giveeach layer frame a copy of the Earth layer.  This is done byduplicating the Earth layer seven times and then merging each copywith a shuttle frame.  Section&nbsp;<A HREF="node33.html#s2.merging">2.7.1</A> describes how to dothis using the <TT>Merge Down</TT> function.The result of merging the seven background layers with the sevenshuttle frames is shown in the Layers dialog illustrated inFigure&nbsp;<A HREF="node80.html#f.web_centric.merge">9.10</A>(b).  Also shown, the layer with theSuperNova effect has been moved to the top of the layer stack (thefinal animation frame), and the timing information of the layer at thebottom of the stack (the first animation frame) has been set to2000ms.  Thus, the final animation sequence remains in the bottomlayer for 2 seconds, followed by a sequence of eight frames showingthe shuttle's trajectory into the atmosphere, and, finally, showingthe top frame, which displays the burst of light from the <TT>SuperNova</TT> effect.<P>The following figure illustrates the entire animation sequence:<P><DIV ALIGN="CENTER"><IMG  ALIGN="CENTER" SRC="shuttle-animation-opt.gif" ALT="Animation"></DIV><P>(Note: The animation can be turned off by clicking on the Stopbutton of your browser.)<H2><A NAME="SECTION001715000000000000000">&#160;</A><A NAME="13266">&#160;</A><A NAME="13267">&#160;</A><A NAME="13268">&#160;</A><A NAME="13269">&#160;</A><BR>9.1.5 Animation Optimization</H2><P>Saving an animation to GIF format can create large files, especiallyif the animation has many frames.  For example, the space shuttleanimation discussed in the previous section consists of an image whosedimensions are <!-- MATH: $476\times 182$ --><IMG WIDTH="89" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img338.gif" ALT="$476\times 182$">pixels and has 9 frames.  This is animage consisting of 780 thousand pixels.  Due to compression builtinto the GIF image format, this saves to a 389 kilobyte file.However, the file size can still be significantly reduced by takingadvantage of the high degree of redundancy in the image.<P>The redundancy is due to this animation changing very little fromframe to frame.  In fact, the background is always the same, and onlythe position and shape of the shuttle is changing.  The function <TT>Animation Optimize</TT><A NAME="13271">&#160;</A> in the <TT>Image:Filters/Animation</TT> menu takes advantage of this and can greatlyreduce the size of the resulting file.  It does this by differencingframes and only saving the non-zero values.  The original animation isreconstructed by adding the differenced frames back into thebackground.<P>For the space shuttle animation, the file is reduced from 389 to 163kilobytes if the <TT>Animation Optimize</TT> option is applied afterconversion to Indexed format.  If it is applied to the image in RGBmode, before conversion to Indexed format, an additional savings isrealized and the resulting file only occupies 106 kilobytes on thedisk.  This improvement might not be general, and for projects wherefile size is important (as it is for low bandwidth networkconnections), it is advisable to experiment with the two methods.<P><H2><A NAME="SECTION001716000000000000000">&#160;</A><A NAME="13275">&#160;</A><A NAME="13276">&#160;</A><A NAME="13277">&#160;</A><A NAME="13278">&#160;</A><BR>9.1.6 IWarp</H2><P>The <TT>IWarp</TT> filter, found in the<TT>Image:Filters/Distorts</TT> menu, can interactively warp parts of animage and then automatically generate an animation thatmorphs from the original image to the warped one.This can be useful for creating certain types of animations.<P>Figure&nbsp;<A HREF="node80.html#f.web_centric.iwarp1">9.11</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.iwarp1">&#160;</A><A NAME="13647">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.11:</STRONG>The <TT> IWarp</TT> Filter</CAPTION><TR><TD><IMG SRC="img339.gif"ALT="Figure 9.11"></TD></TR></TABLE></DIV><BR>illustrates an image of Canadian geese, andFigure&nbsp;<A HREF="node80.html#f.web_centric.iwarp1">9.11</A>(b) shows the dialog for the <TT>IWarp</TT> filter.  The dialog opens in the Settings tab, which offers anumber of options.  The Deform Radius and Deform Amount sliderscontrol the size and intensity of the warping effect, and the type ofwarping is selected using one of the Move, Remove, Grow, Shrink, SwirlCCW, or Swirl CW radio buttons.  The warping is applied by clickingand dragging in the thumbnail of the image.  The selected warping modeis applied in the region around the mouse cursor; the size of theregion of application is specified by the Radius slider.  In thisexample, the Move warping function is applied, and the mouse isclicked in the middle of the head of the central goose.  Dragging themouse vertically upwards creates the distortion shown in the dialog'sthumbnail in Figure&nbsp;<A HREF="node80.html#f.web_centric.iwarp1">9.11</A>(b).<P>To automatically convert the distortion into an animation, click onthe Animate tab in the dialog.  The dialog corresponding to this tabis shown in Figure&nbsp;<A HREF="node80.html#f.web_centric.iwarp2">9.12</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.iwarp2">&#160;</A><A NAME="13649">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.12:</STRONG>Using the <TT> IWarp</TT> Automated Animation Feature</CAPTION><TR><TD><IMG SRC="img340.gif"ALT="Figure 9.12"></TD></TR></TABLE></DIV><BR>The animation is created by clicking the Animate checkbox and thenusing the slider to choose the number of frames to use.  This createsa sequence that morphs from the original image to the distorted one.If the Reverse radio button is clicked, the animation goes from thedistorted image to the original.  If the Ping Pong radio button ischosen, the animation starts with the original image, animates to thedistorted, and then returns to the original.  This last optiongenerates twice the number of frames selected by the Number of Framesslider.  Choosing the Ping Pong animation option for the example withthe Canadian goose produces an animation where the goose stretches itsneck up, perhaps to get a better look around, before returning to itsoriginal state.The result is shown here:<P><DIV ALIGN="CENTER"><IMG  ALIGN="CENTER" SRC="iwarp.gif" ALT="Animation"></DIV><P>(Note: The animation can be turned off by clicking on the Stopbutton of your browser.)<HR><H1><A NAME="SECTION001720000000000000000">&#160;</A><A NAME="s9.imagemap">&#160;</A><A NAME="13299">&#160;</A><A NAME="13300">&#160;</A><A NAME="13301">&#160;</A><A NAME="13302">&#160;</A><BR>9.2  Clickable Image Maps</H1><P>A common graphical device on the Web is the clickable image map.  Aclickable image map is a graphic that has multiple hyperlinks, and,perhaps, Java scripts, associated to a single image.  Such an imageallows the Web designer to associate links and dynamic actions tographical cues.  <P>As an example, one use of a clickable image map might be for a travelagency offering vacation packages to different exotic locations aroundthe world.  A clickable image map of the world could be constructed tocontain hyperlinks cued to the location of a mouse click on the map.For example, clicking on France might send the user to another webpage giving details of vacation packages, sites to see, places tostay, and restaurants to try when visiting Paris.  Clicking onVenezuela would send the user to pages on Caracas, and so on.<P>Clickable image maps are very useful devices for the Web because theyrepresent an alternate, graphical means of navigating to other pages.One problem, however, is that they can be difficult to construct.  Foreach hyperlink, a region of the image must be defined that activatesthe link when the mouse is clicked in it.  This region is defined by apolygon, which in turn is specified by a set of pairs of coordinatesgiving the locations of the polygon's vertices.  The difficulty comesfrom trying to determine the coordinate values.  For an image mapcontaining many hyperlinks associated to complicated regions, the taskof assembling these points can be quite arduous.<P>Fortunately, the <TT>ImageMap</TT><A NAME="13304">&#160;</A> plug-in, foundin the <TT>Image:Filters/Web</TT> menu, allows you to graphically inputthe vertices of polygonal regions by drawing directly on the image.The plug-in also allows you to easily assign hyperlinks and Javascripts to the regions.  When finished, the plug-in automaticallywrites the HTML file that displays the newly created image map.  Allthe positional information about vertices for the map regions iswritten into this file along with the hyperlinks and references to theJava scripts associated with the regions.<P>The initial description of how the <TT>ImageMap</TT> plug-in works isbased on the blank image shown in Figure&nbsp;<A HREF="node81.html#f.web_centric.blank1">9.13</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.blank1">&#160;</A><A NAME="13652">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.13:</STRONG>The <TT> ImageMap</TT> Plug-in</CAPTION><TR><TD><IMG SRC="img341.gif"ALT="Figure 9.13"></TD></TR></TABLE></DIV><BR>A blank image is not terribly useful as a practical image map but isgreat for illustrating how the <TT>ImageMap</TT> plug-in works.Figure&nbsp;<A HREF="node81.html#f.web_centric.blank1">9.13</A>(b) illustrates the <TT>ImageMap</TT>dialog, which consists of three main areas.  There is the DrawingCanvas, where the image that the map is being created for is shown.Because the image in Figure&nbsp;<A HREF="node81.html#f.web_centric.blank1">9.13</A>(a) is blank,the canvas area shows a white background.  To the left of the DrawingCanvas, is the toolbar containing the selection and editing functionicons.  These are used to draw the outlines of regions in the imagethat will become the clickable zones.  Finally, there is the RegionList, which is located to the right of the Drawing Canvas area.  Thisis used to organize and edit the list of drawn regions.<P>The <TT>ImageMap</TT> selection tools are used to define the clickableregions.  The selection tool choices are rectangular, circular, andpolygonal.  Of the three, the polygon tool is the most general becauseit allows for the most complex shapes to be selected.Figure&nbsp;<A HREF="node81.html#f.web_centric.blank2">9.14</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.blank2">&#160;</A><A NAME="13320">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.14:</STRONG>Selecting a Polygon Region</CAPTION><TR><TD><IMG SRC="img342.gif"ALT="Figure 9.14"></TD></TR></TABLE></DIV><BR>illustrates an irregular shape made with the polygon selection tool.The shape is made by clicking on the polygon selection tool button andthen by clicking on points in the Drawing Canvas area.  Each pointbecomes a new vertex of the polygon.  The selection is terminated, andthe polygon fully defined when the left mouse button isdouble-clicked.<P>As soon as an area like the polygon inFigure&nbsp;<A HREF="node81.html#f.web_centric.blank2">9.14</A>(a) has been defined, the <TT>Settings</TT><A NAME="13326">&#160;</A> dialog appears as shown inFigure&nbsp;<A HREF="node81.html#f.web_centric.blank2">9.14</A>(b).  This is used to specify thehyperlink associated to the selected area.  As you can see from thedialog, any valid Web link can be specified.  In this example, the text<A NAME="tex2html311" HREF="http://www.gimp.org" target="new"><TT>http://www.gimp.org</TT></A>hasbeen entered as the link.  In addition, informational text has beenadded to the Comment field at the bottom of the dialog.  The<TT>Settings</TT> dialog allows the polygon to be edited and Java scriptsto be associated with the selected area.  These functionalities areaccessed by clicking on the relevant tabs shown in the dialog.<P>Figure&nbsp;<A HREF="node81.html#f.web_centric.blank3">9.15</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.blank3">&#160;</A><A NAME="13333">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.15:</STRONG>Managing the Selected Regions</CAPTION><TR><TD><IMG SRC="img343.gif"ALT="Figure 9.15"></TD></TR></TABLE></DIV><BR>shows the <TT>ImageMap</TT> dialog after several areas have beenselected.  The three areas are each shown in the Region List, and theactive one is highlighted in blue.  The editing tools can be used tomodify any of the areas in the Region List.  You can make a particulararea active by clicking on it, you can delete the active area byclicking on the button displaying the red, X icon, and you can bringup the area's <TT>Settings</TT> dialog by clicking on the button showingthe pencil icon.<P>As seen in Figure&nbsp;<A HREF="node81.html#f.web_centric.blank3">9.15</A>(a), the points of theactive region are displayed as red squares.  It is possible to insert,delete, or move these points.  Choosing the Arrow icon from theselection tools, any point can be moved by clicking and dragging it.A point can be deleted by right-clicking it, which brings up the menushown in Figure&nbsp;<A HREF="node81.html#f.web_centric.blank3">9.15</A>(b).  A point can be addedto a line segment by right-clicking it, which brings up the menu shownin Figure&nbsp;<A HREF="node81.html#f.web_centric.blank3">9.15</A>(c).<P>After all the desired areas have been selected and hyperlinks defined,you can save the work by clicking on the floppy disk icon or selecting the <TT>Save As</TT> function from the File menu.  Thisbrings up a dialog that allows a file name to be entered.  Thisshould be a file whose extension ends in <TT>.html</TT> or <TT>.htm</TT>.<P>A more realistic example of the <TT>ImageMap</TT> plug-in's use isillustrated with the image shown inFigure&nbsp;<A HREF="node81.html#f.web_centric.image-map1">9.16</A>(a).<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.image-map1">&#160;</A><A NAME="13657">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.16:</STRONG>Map of the Southeast United States and the <TT> ImageMap</TT> Dialog</CAPTION><TR><TD><IMG SRC="img344.gif"ALT="Figure 9.16"></TD></TR></TABLE></DIV><BR>This image is a map of the south-eastern United States.  Each of theten states is designated by its two-letter abbreviation: FL forFlorida, GA for Georgia, AL for Alabama, and so on.  The goal is tocreate an image map having a separate hyperlink for each state.Figure&nbsp;<A HREF="node81.html#f.web_centric.image-map1">9.16</A>(b) shows the <TT>ImageMap</TT>dialog with the image from Figure&nbsp;<A HREF="node81.html#f.web_centric.image-map1">9.16</A>(a)loaded into the Drawing Canvas area.  The outline of each state caneasily be made using the polygon selection tool.  When all the stateshave been delineated, and when the final result is saved it producesthe following file:<P><PRE>&lt;IMGSRC="/home/cbunks/PROJECTS/GIMP/BOOK/08-WEB_CENTRIC/Figures/southeast-usa.gif"WIDTH=482 HEIGHT=428 BORDER=0 USEMAP="#"&gt;&lt;MAP NAME=""&gt;&lt;!-- #$-:Image Map file created by GIMP Imagemap Plugin --&gt;&lt;!-- #$-:GIMP Imagemap Plugin by Maurits Rijk --&gt;&lt;!-- #$-:Please do not edit lines starting with "#$" --&gt;&lt;!-- #$VERSION:1.1 --&gt;&lt;!-- #$AUTHOR:Carey Bunks --&gt;&lt;AREA SHAPE="POLY" COORDS="6,91,10,178,21,183,21,195,98,195,113,144,128,107,113,104,120,92" HREF="http://www.good-travel.com/arkansas.html"&gt;&lt;AREA SHAPE="POLY" COORDS="21,197,21,234,32,252,22,291,49,292,69,299,75,295,101,312,117,307,131,308,150,312,142,298,120,281,138,276,130,255,83,253,100,197" HREF="http://www.good-travel.com/louisiana.html"&gt;&lt;AREA SHAPE="POLY" COORDS="119,136,172,135,174,276,140,277,132,255,85,253" HREF="http://www.good-travel.com/missouri.html"&gt;&lt;AREA SHAPE="POLY" COORDS="119,136,269,127,288,106,334,74,168,83,170,88,136,93" HREF="http://www.good-travel.com/tennessee"&gt;&lt;AREA SHAPE="POLY" COORDS="139,91,170,90,170,81,285,75,319,43,295,28,293,12,274,18,251,4,243,4,243,12,232,18,218,39,209,33,186,48,171,46,157,65,145,68" HREF="http://www.good-travel.com/kentucky.html"&gt;&lt;AREA SHAPE="POLY" COORDS="173,272,200,271,190,248,261,247,261,208,235,130,170,133" HREF="http://www.good-travel.com/alabama.html"&gt;&lt;AREA SHAPE="POLY" COORDS="237,132,263,213,266,254,342,255,342,245,357,247,367,207,305,139,292,135,296,126" HREF="http://www.good-travel.com/georgia.html"&gt;&lt;AREA SHAPE="POLY" COORDS="300,127,296,133,365,205,420,146,388,120,357,122,351,113,317,117" HREF="http://www.good-travel.com/south-carolina.html"&gt;&lt;AREA SHAPE="POLY" COORDS="333,74,270,124,304,124,314,117,354,112,360,120,386,120,423,145,433,145,440,127,465,111,459,97,479,78,468,60" HREF="http://www.good-travel.com/north-carolina.html"&gt;&lt;AREA SHAPE="POLY" COORDS="195,253,198,271,227,271,257,288,284,275,318,303,328,303,329,345,347,365,360,395,388,416,404,410,408,367,385,317,355,249,342,248,342,259,335,259,335,255,266,256,259,249" HREF="http://www.good-travel.com/florida.html"&gt;&lt;/MAP&gt;</PRE>As you can see, each of the areas defined in the <TT>ImageMap</TT> dialogis specified by an <TT>AREA</TT> hypertext markup tag.  This tag containsthe coordinates of the polygon region and the text of the associatedhyperlink.The example described above can be viewed as an HTML document byclicking<A NAME="tex2html312" HREF="image-map.html">here.</A>HTML files created with <TT>ImageMap</TT> can be reloaded and edited bythe plug-in.  Normally, this is done by reloading the original imageinto the GIMP, running the <TT>ImageMap</TT> plug-in on the image, andthen loading the saved imagemap file using the <TT>Open</TT> command fromthe plug-in's <TT>File</TT> menu.Figure&nbsp;<A HREF="node81.html#f.web_centric.southeast-usa2">9.17</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.southeast-usa2">&#160;</A><A NAME="13367">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.17:</STRONG>The Image Map Reloaded onto a White Background</CAPTION><TR><TD><IMG SRC="img345.gif"ALT="Figure 9.17"></TD></TR></TABLE></DIV><BR>shows the result of doing this with the HTML file created forFigure&nbsp;<A HREF="node81.html#f.web_centric.image-map1">9.16</A>.  However, instead of runningthe <TT>ImageMap</TT> plug-in on the original map image, it is done on ablank image having the same dimensions as the map.  This allows you toclearly see the loaded imagemap regions against the white background.Doing this has no practical application, but it is a nice way ofillustrating the results of the example.  Note that the Region Listarea shows that each of the 10 states has an entry.  Clicking on anentry in this list highlights the region in the Drawing Canvas, as isillustrated for the state of Alabama inFigure&nbsp;<A HREF="node81.html#f.web_centric.southeast-usa2">9.17</A>.<P>As a final note, with a Web browser, you can open the HTML filecreated by <TT>ImageMap</TT> to verify that it is working correctly.  Ifnecessary, you can edit the HTML file directly with a text editor.Figure&nbsp;<A HREF="node81.html#f.web_centric.netscape">9.18</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.netscape">&#160;</A><A NAME="13377">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.18:</STRONG>Map of the Southeast United States Seen in Netscape</CAPTION><TR><TD><IMG SRC="img346.gif"ALT="Figure 9.18"></TD></TR></TABLE></DIV><BR>shows how the clickable image map for the preceding example displaysin the Netscape Navigator Web browser.  Notice that the mouse cursor,represented by the small left-pointing hand, is located at the lowertip of the state of Florida.  The fact that the mouse cursor appearsas a hand means that it is over an active HTML link, and at the bottomof the browser window you can see the associated hyperlink in the linkinformation field.<P>The <TT>ImageMap</TT> plug-in has many other features.  This book is notthe appropriate place to cover this plug-in in detail.  However, mostof the features are not difficult to discover, and you should be ableto determine their use with a little experimentation.<P><HR><H1><A NAME="SECTION001730000000000000000">&#160;</A><A NAME="13383">&#160;</A><A NAME="13384">&#160;</A><BR>9.3 Type Effects</H1><P>Type effects can give a Web page character.  They are a great way tomake Web page logos and titles, and they introduce stylistic elementsthat say something about the content of your page.  The GIMP canproduce great type effects, and the best news is that many effectshave been automated with scripts,<A NAME="13385">&#160;</A> using ascripting language called Script-Fu.<A NAME="13386">&#160;</A><P>Figure&nbsp;<A HREF="node82.html#f.web_centric.script-fu">9.19</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.script-fu">&#160;</A><A NAME="13389">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.19:</STRONG>The Collection of Script-Fu Text Effect Scripts</CAPTION><TR><TD><IMG SRC="img347.gif"ALT="Figure 9.19"></TD></TR></TABLE></DIV><BR>shows that the scripts for creating type effects are contained in the<TT>Toolbox:Xtns/Script-Fu/Logos</TT> menu.  There are 27 differenteffects in the <TT>Logos</TT> menu.  This section presents one of them.<P>Figure&nbsp;<A HREF="node82.html#f.web_centric.script-fu2">9.20</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.script-fu2">&#160;</A><A NAME="13663">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.20:</STRONG>The <TT> 3D Outline</TT> Script and Helper Dialogs</CAPTION><TR><TD><IMG SRC="img348.gif"ALT="Figure 9.20"></TD></TR></TABLE></DIV><BR>shows the dialog for the <TT>3D Outline</TT><A NAME="13402">&#160;</A>script.  In this dialog, you can specify the text to be rendered, thefont and size (in pixels) of the text, and an image pattern that isused to create the 3D outline.  The dialog contains defaults for eachof these.  For this example, the text string default is The Gimp.<P>Figure&nbsp;<A HREF="node82.html#f.web_centric.script-fu2">9.20</A> shows how the defaults can bechanged.  For example, the default font used in this example isRootsheavy but other fonts can be chosen using the <TT>Text</TT> tool.As shown in Figure&nbsp;<A HREF="node82.html#f.web_centric.script-fu2">9.20</A>(b) the <TT>Text</TT>tool can be invoked directly from the <TT>3D-Outline</TT> dialog byclicking on the Font menu button.  The image pattern can also bechanged interactively by clicking on the Pattern menu button (thebutton with the three dots).  This brings up the <TT>PatternSelection</TT><A NAME="13409">&#160;</A> dialog shown inFigure&nbsp;<A HREF="node82.html#f.web_centric.script-fu2">9.20</A>(c).  The small image squares inthe dialog are thumbnails of each available pattern.  To get a largerview of a pattern, use the mouse to click and hold on the pattern ofinterest.  This displays a larger thumbnail of the pattern, as shownin Figure&nbsp;<A HREF="node82.html#f.web_centric.script-fu2">9.20</A>(d).<P>The result of running the <TT>3D Outline</TT> script is shown inFigure&nbsp;<A HREF="node82.html#f.web_centric.script-fu3">9.21</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.script-fu3">&#160;</A><A NAME="13665">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.21:</STRONG>Result of Running the <TT> 3D Outline</TT> Script-Fu Script</CAPTION><TR><TD><IMG SRC="img349.gif"ALT="Figure 9.21"></TD></TR></TABLE></DIV><BR>Note that caution is required when using the Script-Fu scripts togenerate text effects.  Typically, text effects are constructed ofmultiple layers, many with layer masks (for example, seeSection&nbsp;<A HREF="node78.html#s8.chiseled">8.7</A>).  Before using a result obtained using theautomated logo scripts, it is usually necessary to flatten the imagebefore saving it to a JPEG or GIF file format.  This can be done bychoosing <TT>Flatten Image</TT> from the Layers menu.<P><HR><H1><A NAME="SECTION001740000000000000000">&#160;</A><A NAME="13422">&#160;</A><A NAME="13423">&#160;</A><A NAME="13424">&#160;</A><BR>9.4 Tileable Backgrounds</H1><P>Most Web browsers can use a small image to construct a tiledbackground for Web pages.  Normally the background image should besubtle enough to avoid interfering with text and other graphics, andthis usually means that the image should be seamlessly tileable.Seamless means that you should not be able to see the edges betweenadjacent copies of the image.<P>Any image can be made to tile seamlessly in the GIMP.  The <TT>MakeSeamless</TT><A NAME="13426">&#160;</A><A NAME="13427">&#160;</A>plug-in found in the <TT>Image:Filters/Map</TT> menu does the trick.Figure&nbsp;<A HREF="node83.html#f.web_centric.seamless">9.22</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.seamless">&#160;</A><A NAME="13667">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.22:</STRONG>Using the Plug-in <TT> Make Seamless</TT></CAPTION><TR><TD><IMG SRC="img350.gif"ALT="Figure 9.22"></TD></TR></TABLE></DIV><BR>illustrates the use of this plug-in.Figure&nbsp;<A HREF="node83.html#f.web_centric.seamless">9.22</A>(a) shows a small image of a fish,and Figure&nbsp;<A HREF="node83.html#f.web_centric.seamless">9.22</A>(b) shows the result of usingthe <TT>Make Seamless</TT> plug-in on it.  The effect of tiling with themodified image can be tested by running the <TT>Tile</TT><A NAME="13439">&#160;</A><A NAME="13440">&#160;</A> plug-in (the <TT>Tile</TT>plug-in is also found in the <TT>Image:Filters/Map</TT> menu).  The <TT>Tile</TT> plug-in tiles an image horizontally and vertically a specifiednumbers of times.  The result of using <TT>Tile</TT> on the image inFigure&nbsp;<A HREF="node83.html#f.web_centric.seamless">9.22</A>(b) is shown inFigure&nbsp;<A HREF="node83.html#f.web_centric.seamless">9.22</A>(c).  The image is displayed as a<IMG WIDTH="50" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img351.gif" ALT="$2\times 2$">tiled array with some white text placed over it.  The textwas made using the Beta Dance font at a size of 150 pixels.<P><HR><!--Table of Child-Links--><A NAME="CHILD_LINKS"><strong>Subsections</strong></A><UL><LI><A NAME="tex2html2078" HREF="node84.html#SECTION001751000000000000000">9.5.1 Types of Color Distortion</A><LI><A NAME="tex2html2079" HREF="node84.html#SECTION001752000000000000000">9.5.2 Low-Color Systems and Web Browser <BR>Color Palettes</A><LI><A NAME="tex2html2080" HREF="node84.html#SECTION001753000000000000000">9.5.3 Converting to Indexed Color</A><LI><A NAME="tex2html2081" HREF="node84.html#SECTION001754000000000000000">9.5.4 What Is the Best Choice?</A></UL><!--End of Table of Child-Links--><HR><H1><A NAME="SECTION001750000000000000000">&#160;</A><A NAME="s9.webcentric.colorsafe">&#160;</A><A NAME="13449">&#160;</A><A NAME="13450">&#160;</A><A NAME="13451">&#160;</A><BR>9.5 Web-Safe Color</H1><P>A problem with the exchange of images on the Internet is that not allcomputers have the capability of displaying a large number of colorssimultaneously.  For example, a computer using a display resolution of<!-- MATH: $1024\times 768$ --><IMG WIDTH="99" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img12.gif" ALT="$1024\times 768$">and using 1 byte (8 bits)<A NAME="13452">&#160;</A> of colorper pixel requires at least 0.786 Mb of RAM on the video adapter card.Such a system is capable of displaying only 2<SUP>8</SUP>=256 colorssimultaneously.<P>Alternatively, a system that is using 2 bytes (16 bits)<A NAME="13453">&#160;</A> per pixel can display <!-- MATH: $2^{16}=65,536$ -->2<SUP>16</SUP>=65,536 colors, and 3 bytes (24bits)<A NAME="13455">&#160;</A> per pixel can display <!-- MATH: $2^{24}=16,777,216$ -->2<SUP>24</SUP>=16,777,216colors.  Thus, the available color palette grows significantly on a 16bits-per-pixel (bpp) system.  A 24 bpp system is known as a true orhigh color system.  However, the demands on the video adapter forthese systems also grows.  A 16 bpp system on a <!-- MATH: $1024\times 768$ --><IMG WIDTH="99" HEIGHT="36" ALIGN="MIDDLE" BORDER="0" SRC="img12.gif" ALT="$1024\times 768$">pixeldisplay requires about 1.6 Mb of video RAM and a 24 bpp systemrequires 2.4 Mb.<P>Many video adapter cards have only 1 Mb or less of RAM.  Although thisis less and less common with current computers being delivered with upto 32 Mb of video RAM, there are still many legacy machines that havesmaller quantities.  The consequence is that an image containing morethan 256 colors cannot be faithfully displayed on machines with onlyan 8 bpp color depth.  Some of the original colors in the image willhave to be replaced because of the lack of a sufficient number ofavailable colors on the displaying system.  This replacement createscolor distortion in the displayed image.<P>The GIMP uses 24 bits per pixel to represent color, 8 bits for each ofthe R, G, and B channels.  Thus, the GIMP can easily generate imagesthat have color distortion when displayed on low color systems.  Thisis a concern for the Web designer who wants to ensure an accuraterepresentation of color for his or her graphics.  This sectiondiscusses the issues of preparing web-safe color graphics and how toachieve this in the GIMP.<P><H2><A NAME="SECTION001751000000000000000">&#160;</A><A NAME="s9.color-distortion">&#160;</A><A NAME="13459">&#160;</A><A NAME="13460">&#160;</A><BR>9.5.1 Types of Color Distortion</H2><P>Color distortion occurs when the monitor is already displaying all thecolors it can, and a request for a new color is made.  The leastsophisticated way of handling this request is by colorclipping.<A NAME="13461">&#160;</A><A NAME="13462">&#160;</A>This approach displays new colors using the closest color from thepalette already being displayed.  For images with subtle colorshading, this can give rise to banding<A NAME="13463">&#160;</A>, which is also called posterization<A NAME="13464">&#160;</A>.  An example of this type of color distortion isshown in Figure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.color-distortion">&#160;</A><A NAME="13467">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.23:</STRONG>Clipping and Dithering Color Distortions</CAPTION><TR><TD><IMG SRC="img352.gif"ALT="Figure 9.23"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A>(a) shows the originalimage and Figure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A>(b) the sameimage on a system with insufficient colors.You can plainly see the banding of colors in this image.<P>The other type of color distortion is called dithering<A NAME="13473">&#160;</A>.  Although dithering is a color distortion, thisis not a bug, it's a feature!  Dithering is a technique used tosimulate unavailable colors by spatially mixing the available ones asa mesh of small dots.  The idea is that color dithering is morevisually acceptable than color banding.Figure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A>(c) illustrates the effectof dithering.  Figure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A>(f) shows azoomed version of Figure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A>(c) sothat you can see the mix of small dots used to simulate unavailablecolors.  Compare this zoomed image with the zooms of the original andcolor clipped images shown inFigure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A>(d) and (e), respectively.<P>Figure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A> shows that dithering is amuch more sophisticated approach to the problem of color distortionthan is banding.  For continuous gradients of color, the rule seems tobe that the dithering approach is superior.  However, there arecaveats to this rule.  To see why, you need to understand howdithering works.  A simple illustration is shown inFigure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A>, where<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.dithering">&#160;</A><A NAME="13481">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.24:</STRONG>Illustration of Using Dithering to Simulate a Color</CAPTION><TR><TD><IMG SRC="img353.gif"ALT="Figure 9.24"></TD></TR></TABLE></DIV><BR>a crude dithering scheme is employed using the <TT>Checkerboard</TT><A NAME="13486">&#160;</A><A NAME="13487">&#160;</A>plug-in (found in <TT>Image:Filters/Render/Pattern</TT> menu).  The <TT>Checkerboard</TT> dialog is shown inFigure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A>(b).  This plug-in creates acheckerboard pattern in the active layer using the colors specified bythe <TT>Active Foreground Color</TT> and the <TT>Active BackgroundColor</TT>.  Figure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A>(a) shows that thesecolors have been set to red and green.<P>Figure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A>(b) shows that a 1-pixel checksize is being used by the <TT>Checkerboard</TT> plug-in.  The result is asimulated dither of the color yellow, as you can see inFigure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A>(c).  That the resulting ditheredcolor is yellow follows from the discussions of the RGB colorspace inSection&nbsp;<A HREF="node50.html#s5.rgb-colorspace">5.1</A>.  The vector sum of red and greenin the RGB cube yields yellow.<P>A zoomed version of Figure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A>(c) is shownin Figure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A>(d).  This plainly shows thered and green checks.  For comparison purposes, a pure yellow is shownin Figure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A>(e).  The example shown inFigure&nbsp;<A HREF="node84.html#f.web_centric.dithering">9.24</A> is exaggerated because it isnever necessary to dither two colors as distant from each other in thecolor cube as are red and green.  However, it nicely illustrates howdithering works.<P>The dithering algorithms used in the GIMP are far more sophisticatedthan that illustrated in our checkerboard example.  In the GIMP,several dithering algorithms are available including theFloyd-Steinberg algorithm.<A NAME="13502">&#160;</A>The main feature of Floyd-Steinberg dithering is that it uses apseudo-random spatial distribution of up to three colors to simulatean unavailable color.  Figure&nbsp;<A HREF="node84.html#f.web_centric.color-distortion">9.23</A>(f)clearly shows the pseudo-random nature of Floyd-Steinberg dithering.In many cases, it is this pseudo-random aspect of Floyd-Steinbergdithering that improves the overall perception of a dithered colorimage...but not always.  See Section&nbsp;<A HREF="node84.html#s9.best-choice">9.5.4</A> for moreon this subject.<P><H2><A NAME="SECTION001752000000000000000">&#160;</A><A NAME="13506">&#160;</A><A NAME="13507">&#160;</A><BR>9.5.2 Low-Color Systems and Web Browser <BR>Color Palettes</H2><P>A low color system provides only 8 bits of color per pixel, whichallows only 256 colors to be simultaneously displayed.  When used onlow-color systems, Web browsers must choose how to representunavailable colors.  Browsers such as Netscape Navigator and InternetExplorer use color palette systems that are similar but not identical.The colors that these two browsers have in common are known as theweb-safe color palette[<A HREF="node87.html#weinman">12</A>].  Any designer that is concerned with avoiding colordistortion must be aware of this special palette and how to use it.<P>The web-safe color palette consists of combinations of the six values0, 51, 102, 153, 204, 255 in each of the three colors red, green, andblue.  Thus, using notation introduced inSection&nbsp;<A HREF="node50.html#s5.rgb-colorspace">5.1</A>, <!-- MATH: $51^R 204^G 153^B$ -->51<SUP><I>R</I></SUP> 204<SUP><I>G</I></SUP> 153<SUP><I>B</I></SUP> is a color fromthe web-safe color palette, and <!-- MATH: $52^R 204^G 153^B$ -->52<SUP><I>R</I></SUP> 204<SUP><I>G</I></SUP> 153<SUP><I>B</I></SUP> is not. The totalnumber of colors in the palette is 6<SUP>3</SUP>=216.  The reason six valuesare used is because seven would create too many colors for a low-colorsystem (that is, 7<SUP>3</SUP>=343).  What happens to the remaining 40 colorsavailable on a low color system?  They are used for system specificcolors, and these uses differ for Mac and PC and for NetscapeNavigator and Internet Explorer.  The bottom line is you can't rely onthem.<P>If you are using the GIMP's drawing and painting tools to creategraphics from scratch and you desire the result to be web-safe, itwould be useful to have a palette of the 216 web-safe colors to workwith.  You could use this palette to select the colors for yourgraphics, knowing that the result will be the same on most allsystems, low color or not.  The GIMP has a variety of predefined colorpalettes available in the <TT>Color Palette</TT> dialog found in the <TT>Image:Dialogs/Palette</TT> menu or which can be obtained by typing <TT>C-p</TT> in the image or toolbox windows.<P>Of interest is the GIMP's Web color palette<A NAME="13513">&#160;</A> shown in Figure&nbsp;<A HREF="node84.html#f.web_centric.web-palette">9.25</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.web-palette">&#160;</A><A NAME="13516">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.25:</STRONG>Web-Safe Color Palette</CAPTION><TR><TD><IMG SRC="img354.gif"ALT="Figure 9.25"></TD></TR></TABLE></DIV><BR>The Web palette illustrates the 216 web-safe colors that can be usedon low color systems without fear of color distortion.  However,because the colors are disorganized in this palette, it is of limiteduse as a tool for creative design.  A palette that organizes colors byhue, saturation, and value would be much more useful.<P>The VisiBone palettes at<A NAME="tex2html321" HREF="http://www.visibone.com/swatches" target="new"><TT>http://www.visibone.com/swatches</TT></A>are just such tools.  The VisiBone2<A NAME="13522">&#160;</A><A NAME="13523">&#160;</A> palette isillustrated in Figure&nbsp;<A HREF="node84.html#f.web_centric.visibone">9.26</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.visibone">&#160;</A><A NAME="13526">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.26:</STRONG>The VisiBone2 Web-Safe Color Palette</CAPTION><TR><TD><IMG SRC="img355.gif"ALT="Figure 9.26"></TD></TR></TABLE></DIV><BR>The VisiBone2 palette has exactly the same web-safe colors as theGIMP's Web palette, but the advantage is that its colors are organizedinto a logical color wheel.  It is much easier to pick out colors ofcommon hue, saturation, and value with the VisiBone2 palette than itis for the Web palette.<P><H2><A NAME="SECTION001753000000000000000">&#160;</A><A NAME="13531">&#160;</A><A NAME="13532">&#160;</A><A NAME="13533">&#160;</A><BR>9.5.3 Converting to Indexed Color</H2><P>For display on 8-bit (low-color) systems, the best way to control thecolor in an image is to convert it to Indexed format.Figure&nbsp;<A HREF="node84.html#f.web_centric.convert2indexed">9.27</A>(a)<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.convert2indexed">&#160;</A><A NAME="13536">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.27:</STRONG>The Indexed Color Conversion Dialog</CAPTION><TR><TD><IMG SRC="img356.gif"ALT="Figure 9.27"></TD></TR></TABLE></DIV><BR>illustrates the <TT>Indexed Color Conversion</TT> dialog which is invokedby the <TT>Indexed</TT><A NAME="13542">&#160;</A> function found in the<TT>Image:Image/Mode</TT> menu.<P>The dialog allows the choice of three types of palettes.  The firstoption, Generate Optimal Palette, is based on the colors actually inthe image.  The number of colors used in this palette can be specifiedup to a maximum of 256.  <P>The second option, Use Custom Palette, allows you to select from alarge collection of palettes including user-defined ones.  The namesof the GIMP's standard palettes are shown inFigure&nbsp;<A HREF="node84.html#f.web_centric.convert2indexed">9.27</A>(b) and (c).  The defaultcustom palette, Web, is optimized for display on low-color systemsusing browsers such as Netscape Navigator or Internet Explorer.  Thisconsists of the 216 color, web-safe color palette illustrated inFigure&nbsp;<A HREF="node84.html#f.web_centric.web-palette">9.25</A>.  Choosing this optionguarantees that the resulting indexed image will display with the samecolors on almost all systems.<P>The final palette option choice, shown inFigure&nbsp;<A HREF="node84.html#f.web_centric.convert2indexed">9.27</A>, is the Use Black/White(1-bit) Palette.  This option converts the image to a true black andwhite (no grays) Indexed format.<P>The second area in the <TT>Indexed Color Conversion</TT> dialog is fordithering options.  The following are the choices:<UL><LI>No colour dithering<LI>Positioned colour dithering<LI>Floyd-Steinberg colour dithering (reduced colour bleeding)<LI>Floyd-Steinberg colour dithering (normal)</UL>Normal Floyd-Steinberg dithering is the default.  Some experimentationmight be necessary to find the best conversion to Indexed, especially ifthe image consists of smooth color variations and large solid colorregions.  Read on!<P><H2><A NAME="SECTION001754000000000000000">&#160;</A><A NAME="s9.best-choice">&#160;</A><BR>9.5.4 What Is the Best Choice?</H2><P>Given that the designer chooses to limit the color palette to onethat is web-safe, converting to Indexed format still requires makingchoices about the type of color distortion that is acceptable when itcan't be avoided.  Usually the choice depends on the type of image tobe displayed.<P>If the image is a photograph, or one that has smooth color variations,chances are good that there are more than 256 colors in the image, andmany will not be from the web-safe palette.  Normally the colordistortion to photos on an 8-bit display is not noticeable, and itcould be argued that it is fruitless to convert the image to anIndexed format under these conditions.  However, when photographs aremixed with other graphic materials the argument is no longer valid.Under these circumstances, the best choice is to dither.  This isillustrated in Figure&nbsp;<A HREF="node84.html#f.web_centric.choose">9.28</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.choose">&#160;</A><A NAME="13554">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.28:</STRONG>Choosing the Type of Color Distortion for Images with Smooth ColorVariations</CAPTION><TR><TD><IMG SRC="img357.gif"ALT="Figure 9.28"></TD></TR></TABLE></DIV><BR><P>Figure&nbsp;<A HREF="node84.html#f.web_centric.choose">9.28</A>(a) shows a splash screen used withversion 1.0.4 of the GIMP.  A dithered version of the splash screen,obtained using the web-safe color palette, is shown inFigure&nbsp;<A HREF="node84.html#f.web_centric.choose">9.28</A>(b).  A color clipped version of thesplash screen using the same palette is shown inFigure&nbsp;<A HREF="node84.html#f.web_centric.choose">9.28</A>(c).  Due to the heavy banding seenin Figure&nbsp;<A HREF="node84.html#f.web_centric.choose">9.28</A>(c), the color distortion due todithering, seen in Figure&nbsp;<A HREF="node84.html#f.web_centric.choose">9.28</A>(b), seems muchmore acceptable.  This example shows that for images with smoothlyvarying color, the dithered solution is better becauseclipping<A NAME="13563">&#160;</A><A NAME="13564">&#160;</A>gives rise to a strongly objectionable color distortion.<P>If the image is not a photograph and does not have smoothly varyingvariations in color but rather large regions of constant color, thestrategy is completely different.  This is illustrated in Figure&nbsp;<A HREF="node84.html#f.web_centric.fws150">9.29</A>.<BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.fws150">&#160;</A><A NAME="13567">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.29:</STRONG>Choosing for Images with Large Uniform Color Regions</CAPTION><TR><TD><IMG SRC="img358.gif"ALT="Figure 9.29"></TD></TR></TABLE></DIV><BR>Figure&nbsp;<A HREF="node84.html#f.web_centric.fws150">9.29</A>(a) shows a graphic designcelebrating the <!-- MATH: $150^{\mbox{th}}$ --><IMG WIDTH="54" HEIGHT="26" ALIGN="BOTTOM" BORDER="0" SRC="img359.gif" ALT="$150^{\mbox{th}}$">anniversary of the creation of theU.S. Department of the Interior.  This design is constructed of fourmain colors: black, white, a blue consisting of <!-- MATH: $46^R 110^G 207^B$ -->46<SUP><I>R</I></SUP> 110<SUP><I>G</I></SUP> 207<SUP><I>B</I></SUP>,and a yellow consisting of <!-- MATH: $241^R 214^G 47^B$ -->241<SUP><I>R</I></SUP> 214<SUP><I>G</I></SUP> 47<SUP><I>B</I></SUP>.  There are other colorsin the image, but they are there for antialiasing<A NAME="13573">&#160;</A>(see Section&nbsp;<A HREF="node36.html#s3.anti-aliasing">3.1.2</A>) and sharpness (seeSection&nbsp;<A HREF="node63.html#s6.unsharp-mask">6.4.1</A>).  From the previous discussion, you cansee that the blue and the yellow are not from the web-safe palette,which only take RGB components from the set of values <!-- MATH: $[0, 51, 102,153, 204, 255]$ -->[0, 51, 102,153, 204, 255].  This means that some color distortion will beintroduced if the image is saved to Indexed format with the web-safepalette.  Indeed, Figure&nbsp;<A HREF="node84.html#f.web_centric.fws150">9.29</A>(b) shows theresult of applying Floyd-Steinberg dithering, andFigure&nbsp;<A HREF="node84.html#f.web_centric.fws150">9.29</A>(c) shows the result of colorclipping.<P>The dithering in Figure&nbsp;<A HREF="node84.html#f.web_centric.fws150">9.29</A>(b) produces a veryundesirable effect.  The blue and yellow regions both suffer fromunsightly color speckle.  On the other hand, the color clipped versionin Figure&nbsp;<A HREF="node84.html#f.web_centric.fws150">9.29</A>(c) produces a blue and a yellowthat are slightly different than those of the original.  Nevertheless,it is likely that this result is preferable because it preserves thehomogeneity of the large, uniform color regions.<P>In conclusion, images that have a lot of detail and subtle colorvariations are better served by dithering than color clipping.Alternatively, images that have broad uniform color regions shouldavoid dithering and use color clipping.  For images that consist of amix of the two conditions, some experimentation is necessary.Unfortunately there are sometimes no easy choices.<P><HR><H1><A NAME="SECTION001760000000000000000">&#160;</A><A NAME="13581">&#160;</A><A NAME="13582">&#160;</A><A NAME="13583">&#160;</A><A NAME="13584">&#160;</A><BR>9.6 Semi-Transparency and Indexed Images</H1><P>Semi-transparency presents a particularly knotty problem whenconverting an image to Indexed format.  This is a problem for indexedimages because they only support alpha values of 0 (fully transparent)and 255 (fully opaque).  When converting to Indexed format, partiallytransparent pixels (that is, with alpha values in the range 1 to 254)have their alpha values forced to 0 or 255.  This is a problem forantialiasing<A NAME="13585">&#160;</A> (see Section&nbsp;<A HREF="node36.html#s3.anti-aliasing">3.1.2</A>)and for the general use of transparency in indexed images.<P>Fortunately, there is a solution.  The <TT>Semi-Flatten</TT><A NAME="13588">&#160;</A><A NAME="13589">&#160;</A><A NAME="13590">&#160;</A> plug-in is a work-around for theproblem of semi-transparency in indexed images.  This filter, found inthe <TT>Image:Filters/Colors</TT> menu, requires knowing the backgroundcolor that will be used beneath the semi-transparent image.  If youcan't determine the background color in advance, the <TT>Semi-Flatten</TT> filter cannot help you.<P>To use the <TT>Semi-Flatten</TT> filter, you must determine the colorthat will be behind the semi-transparent image and you must specify itin the <TT>Active Background Color</TT> patch in the Toolbox window.  The<TT>Color Picker</TT><A NAME="13596">&#160;</A> tool can be useful fordetermining colors, and although the <TT>Color Picker</TT> automaticallysets the <TT>Active Foreground Color</TT> you can easily toggle thiscolor to the background by clicking on the <TT>Switch Colors</TT> icon(the two-headed arrow above the foreground/background color patches inthe Toolbox).  The semi-flattening process combines the <TT>ActiveBackground Color</TT> with the layer colors in proportion to the layer'salpha values.<P>As an example, Figure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat1">9.30</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.semi-flat1">&#160;</A><A NAME="13603">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.30:</STRONG>Antialiased Text After Conversion to Indexed...Yeeeks!</CAPTION><TR><TD><IMG SRC="img360.gif"ALT="Figure 9.30"></TD></TR></TABLE></DIV><BR>illustrates how a conversion to Indexed format ruins the antialiasingof some text.  Figure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat1">9.30</A>(a) shows atransparent layer containing the letter K from the Comicscartoon fontat a size of 275 pixels.  Antialiasing was turned on when the text wascreated; however, when this image is converted to indexed format theantialiasing is lost, as can be more plainly seen when the letter isplaced over a yellow background.  This is shown inFigure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat1">9.30</A>(b).  The jagged staircase effectis clearly visible at the edges of the letter.Figure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat1">9.30</A>(c) shows the disposition of thetwo layers in the Layers dialog.	Figure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat2">9.31</A><BR><DIV ALIGN="CENTER"><A NAME="f.web_centric.semi-flat2">&#160;</A><A NAME="13679">&#160;</A><TABLE WIDTH="50%"><CAPTION><STRONG>Figure 9.31:</STRONG>Using <TT> Semi-Flatten</TT> to Preserve the Effect of Semi-Transparency</CAPTION><TR><TD><IMG SRC="img361.gif"ALT="Figure 9.31"></TD></TR></TABLE></DIV><BR>shows how using <TT>Semi-Flatten</TT> resolves the antialiasing problem.Figure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat2">9.31</A>(a) displays the Toolbox window,which shows that the <TT>Active Background Color</TT> patch has been setto the yellow color seen in Figure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat1">9.30</A>(b).Figure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat2">9.31</A>(b) shows a zoomed version of theresult after applying <TT>Semi-Flatten</TT> toFigure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat1">9.30</A>(a).  The edges of the letter Know show that the semi-transparent pixels that were used forantialiasing have taken on color values between the black of theletter and the yellow of the <TT>Active Background Color</TT>.  Pixelsthat were fully transparent have remained so.  The result of placingthis layer over a yellow background layer is shown inFigure&nbsp;<A HREF="node85.html#f.web_centric.semi-flat2">9.31</A>(c).  You can see that theantialiasing effect has been conserved.<P><HR><H1><A NAME="SECTION001770000000000000000">&#160;</A><A NAME="13626">&#160;</A><A NAME="13627">&#160;</A><A NAME="13628">&#160;</A><A NAME="13629">&#160;</A><BR>9.7 Which Format GIF or JPEG?</H1><P>There are two image file formats that can be interpreted by all majorWeb browsers: GIF and JPEG.  The question is which one is better?  Theanswer is <EM>it depends</EM>.  For Web safe color, the answer is clear.Only GIF images can guarantee that almost every monitor will be ableto display your image as you composed it on your own computer.  Thisshould be taken with a small grain of salt because the color balanceof every monitor is a little different.  However, within limits, GIFcan provide pretty uniform access to your Web images if you follow theadvice given in this chapter.<P>JPEG, on the other hand, is an image format that has two majorfeatures.  The first is it saves images in 24-bit color.  Forphotographs where there are typically subtle variations in color, 24bits is required to get a high fidelity representation of the image.Of course, out on the Internet, only those who have high-color (16 or 24bpp) systems can see the image as it was originallycomposed.  The image is dithered for those with low-color (8 bpp)systems.<P>Alternatively, using only 8 bits of color for a photo is almostcertainly insufficient to represent all its color variation.  Thus,converting the image to GIF requires dithering anyway.  The conclusionis that, for most images having a high degree of color variation,which includes most photographs of real world scenes, the use of JPEGis clearly preferable.  It allows those with high-color systems toview the image as it was originally prepared; whereas the degradationin image quality for those with low color systems is similar whetherthe image is in GIF or JPEG format.<P>The second major feature of JPEG files is that they can provide a highdegree of perceptually optimized imagecompression.<A NAME="13631">&#160;</A>  This is usefulespecially for Web site designers concerned about the overallbandwidth required to view their site.  JPEG image files can achievemuch greater levels of compression than GIF files can.  Furthermore,the degree to which an image is compressed using JPEG can be specifiedby the user.  Thus, for any particular image, it is possible, bymaking several tries, to find just the right balance betweenminimizing the file size and maintaining the visual integrity of theimage.<P>The conclusion is that for images with subtle variations, such as mostphotographs of real world scenes, use JPEG.  For images that containonly a small number of colors, such as those created using the GIMP'spainting or rendering tools, use a web-safe color palette and save asa GIF.<P><HR> <H2><A NAME="SECTIONREF">Bibliography</A></H2><DL COMPACT><DD><P><P></P><DT><A NAME="raymond"><STRONG>1</STRONG></A><DD> Eric S. Raymond, The New Hacker's Dictionary, <!-- MATH: $3^{\mbox{rd}}$ --><IMG WIDTH="35" HEIGHT="26" ALIGN="BOTTOM" BORDER="0" SRC="img362.gif" ALT="$3^{\mbox{rd}}$">Edition, MIT Press, 1996.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/0262680920/gimpsavvycom" target="new"><img border=0 src="ref-images/raymond.gif"><P></P><DT><A NAME="kylander"><STRONG>2</STRONG></A><DD> Karin and Olof S. Kylander, <EM>The GIMP User Manual</EM>, <A NAME="tex2html327" HREF="http://manual.gimp.org" target="new">http://manual.gimp.org</A>.<P><P></P><DT><A NAME="kylander2"><STRONG>3</STRONG></A><DD> Olof Kylander and Karin Kylander, <EM>GIMP: The Official Handbook</EM>, The Coriolis Group, 1999.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/1576105202/gimpsavvycom" target="new"><img border=0 src="ref-images/kylander.gif"></a><P></P><DT><A NAME="poynton"><STRONG>4</STRONG></A><DD> Charles A. Poynton, <EM>Frequently Asked Questionsabout Color</EM>,<A NAME="tex2html328" HREF="http://www.inforamp.net/~poynton/ColorFAQ.html" target="new">http://www.inforamp.net/~poynton/ColorFAQ.html</A><P><P></P><DT><A NAME="pratt"><STRONG>5</STRONG></A><DD> William K. Pratt, <EM>Digital Image Processing</EM>, JohnWiley &amp; Sons, New York, 1991.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/0471857661/gimpsavvycom" target="new"><img border=0 src="ref-images/pratt.gif"></a><P></P><DT><A NAME="margulis"><STRONG>6</STRONG></A><DD> Dan Margulis, <EM>Professional Photoshop 5: TheClassic Guide to Color Correction </EM>, John Wiley &amp; Sons, 1998.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/047132308X/gimpsavvycom" target="new"><img border=0 src="ref-images/margulis.gif"></a><P></P><DT><A NAME="adams1"><STRONG>7</STRONG></A><DD> Ansel Adams, Robert Baker (Contributor), <EM>The Negative (Ansel Adams Photography, Book 2)</EM>, Little Brown &amp; Co, Reprint 1995, ISBN: 0821221868.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/0821221868/gimpsavvycom" target="new"><img border=0 src="ref-images/adams_negative.gif"></a><P></P><DT><A NAME="adams2"><STRONG>8</STRONG></A><DD> Ansel Adams, Robert Baker (Contributor), <EM>The Print (Ansel Adams Photography, Book 3)</EM>, Little Brown &amp; Co, Reprint 1995, ISBN: 0821221876.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/0821221876/gimpsavvycom" target="new"><img border=0 src="ref-images/adams_print.gif"></a><P></P><DT><A NAME="haun"><STRONG>9</STRONG></A><DD> Gregory Cosmo Haun <EM>Photoshop Collage Techniques</EM>, Hayden Books, Indianapolis, Indiana, 1997.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/1568303491/gimpsavvycom" target="new"><img border=0 src="ref-images/haun.gif"></a><P></P><DT><A NAME="haynes"><STRONG>10</STRONG></A><DD> Barry Haynes and Wendy Crumpler <EM>Photoshop 4Artistry</EM>, New Riders Publishing, Indianapolis, Indiana, 1997.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/1562058959/gimpsavvycom" target="new"><img border=0 src="ref-images/haynes.gif"></a><P></P><DT><A NAME="lai"><STRONG>11</STRONG></A><DD> David Lai and Greg Simsic, <EM>Photoshop 4 Type Magic</EM>,Hayden Books, 1997.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/1568303807/gimpsavvycom" target="new"><img border=0 src="ref-images/simsic.gif"></a><P></P><DT><A NAME="weinman"><STRONG>12</STRONG></A><DD> Lynda Weinman and Bruce Heavin and Ali Karp, <EM>Coloring Web Graphics</EM>, New Riders Publishing, 1996.<br><br><a href="http://www.amazon.com/exec/obidos/ASIN/1562058185/gimpsavvycom" target="new"><img border=0 src="ref-images/weinman.gif"></a></DL><P><P><HR><H1><A NAME="SECTION001900000000000000000">&#160;</A><A NAME="a2.resources">&#160;</A><A NAME="14347">&#160;</A><A NAME="14348">&#160;</A><A NAME="14349">&#160;</A><BR>10. GIMP Resources</H1><P>There are many online resources that can be used to get additionalinformation about the GIMP.  The best place is the GIMP's home page,which can be found at<A NAME="14350">&#160;</A><A NAME="14351">&#160;</A><PRE><a href="http://www.gimp.org" target="new">http://www.gimp.org</a></PRE>This Web site is full of information and resources for the GIMP.  Itcontains FAQs, information about GIMP internals, installation help,and developer info.  It is also a source for downloading both thecurrent stable and developer's versions of the GIMP as well as thearchive of patterns, palettes, brushes, gradients, fonts, and scripts.Finally, this site also points to other sites displaying GIMP art andother important links.<P>Two other sites that are related to <TT>www.gimp.org</TT> are<PRE><a href="http://registry.gimp.org" target="new">http://registry.gimp.org</a><a href="http://manual.gimp.org" target="new">http://manual.gimp.org</a></PRE>The first site is the repository for GIMP plug-in filters.  This iswhere the latest versions of new and old filters can be found.  Thesecond site is the online reference manual written by Olof and KarinKylander.  This manual is also available as a printed book.  See[<A HREF="node87.html#kylander2">3</A>]. <P>A great place to ask questions about the GIMP is on thenewsgroup<A NAME="14358">&#160;</A><A NAME="14359">&#160;</A><A NAME="14360">&#160;</A><PRE>Comp.graphics.apps.gimp</PRE>This is the place to look for answers to questions about the GIMP.  Asusual with newsgroups, it is considered polite to look through olderpostings for an answer before blindly posting your question, whichmight have already come up three times this week.<P>As for news and developments about the GIMP, there is no better placethan GIMP News, which is found at <PRE><a href="http://www.xach.com/gimp/news/index.html" target="new">http://www.xach.com/gimp/news/index.html</a></PRE>This page will keep you abreast of everything going on in the GIMPworld.  It's a great place for us GIMP junkies. ;-)<P>Finally, much useful information is probably available right on yourmachine as man pages.<A NAME="14365">&#160;</A>  Try checking out<PRE>% man gimp</PRE>for plenty of additional information.<HR><H1><A NAME="SECTION002000000000000000000">&#160;</A><A NAME="a1.keyboard-shortcuts">&#160;</A><A NAME="14382">&#160;</A><A NAME="14383">&#160;</A><BR>11. Keyboard Shortcuts</H1><P>The GIMP has a set of default keyboard shortcuts that are documentedhere.  All the defaults are contained in a file in the directory<code>~/.gimp</code> found in the user's home directory.  The first time theGIMP is run this file is created and named <TT>menurc</TT>. You canmodify the keyboard shortcuts<A NAME="14385">&#160;</A> byadding new ones or changing default entries to suit personal tastes.There are two ways to change the defaults.  The first is by editingthe file <TT>menurc</TT>.  This is a good method when you want a majorreorganization of the default keystrokes.  The second method isinteractive and produces a single addition or change while working inthe GIMP.  You do this by placing the mouse cursor over the menu itemand then typing the desired keystrokes.  As you type the keystrokesthey appear to the right of the menu entry.  The next time thefunction is to be used, it can be invoked by the new shortcut.<P>In the following tables, all the keyboard shortcuts are executed bytyping them in the image window.  A shortcut consists of a keystroke,perhaps in conjunction with the Shift, Control, or Alt modifier keys.The modifier keys are designated by <TT>S</TT> for Shift, <TT>C</TT> forControl, and <TT>A</TT> for Alt.  Thus, the shortcut <TT>C-S-i</TT>, whichproduces the <TT>Info Window</TT>, is composed by simultaneously holdingdown the Control and Shift keys and then typing the letter <TT>i</TT>.<P><BR><DIV ALIGN="CENTER"><A NAME="14395">&#160;</A><A NAME="14394">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.1:</STRONG>The Toolbox Functions</CAPTION><TR><TD ALIGN="LEFT">Tool Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">Airbrush<A NAME="14398">&#160;</A></TD><TD ALIGN="CENTER">a</TD><TD ALIGN="LEFT">Image:Tools/Airbrush</TD></TR><TR><TD ALIGN="LEFT">Bezier Select<A NAME="14399">&#160;</A></TD><TD ALIGN="CENTER">b</TD><TD ALIGN="LEFT">Image:Tools/Bezier Select</TD></TR><TR><TD ALIGN="LEFT">Blend<A NAME="14400">&#160;</A></TD><TD ALIGN="CENTER">l</TD><TD ALIGN="LEFT">Image:Tools/Blend</TD></TR><TR><TD ALIGN="LEFT">Bucket Fill<A NAME="14401">&#160;</A></TD><TD ALIGN="CENTER">S-b</TD><TD ALIGN="LEFT">Image:Tools/Bucket Fill</TD></TR><TR><TD ALIGN="LEFT">Clone<A NAME="14402">&#160;</A></TD><TD ALIGN="CENTER">c</TD><TD ALIGN="LEFT">Image:Tools/Clone</TD></TR><TR><TD ALIGN="LEFT">Color Picker<A NAME="14403">&#160;</A></TD><TD ALIGN="CENTER">o</TD><TD ALIGN="LEFT">Image:Tools/Color Picker</TD></TR><TR><TD ALIGN="LEFT">Convolve<A NAME="14404">&#160;</A></TD><TD ALIGN="CENTER">v</TD><TD ALIGN="LEFT">Image:Tools/Convolve</TD></TR><TR><TD ALIGN="LEFT">Crop &amp; Resize<A NAME="14405">&#160;</A></TD><TD ALIGN="CENTER">S-c</TD><TD ALIGN="LEFT">Image:Tools/Crop &amp; Resize</TD></TR><TR><TD ALIGN="LEFT">Default Colors<A NAME="14406">&#160;</A></TD><TD ALIGN="CENTER">d</TD><TD ALIGN="LEFT">Image:Tools/Default Colors</TD></TR><TR><TD ALIGN="LEFT">Dodge &amp; Burn<A NAME="14407">&#160;</A></TD><TD ALIGN="CENTER">S-d</TD><TD ALIGN="LEFT">Image:Tools/DodgeBurn</TD></TR><TR><TD ALIGN="LEFT">Ellipse Select<A NAME="14408">&#160;</A></TD><TD ALIGN="CENTER">e</TD><TD ALIGN="LEFT">Image:Tools/Ellipse Select</TD></TR><TR><TD ALIGN="LEFT">Eraser<A NAME="14409">&#160;</A></TD><TD ALIGN="CENTER">S-e</TD><TD ALIGN="LEFT">Image:Tools/Eraser</TD></TR><TR><TD ALIGN="LEFT">Flip<A NAME="14410">&#160;</A></TD><TD ALIGN="CENTER">S-f</TD><TD ALIGN="LEFT">Image:Tools/Flip</TD></TR><TR><TD ALIGN="LEFT">Free Select (Lasso)<A NAME="14411">&#160;</A><A NAME="14412">&#160;</A></TD><TD ALIGN="CENTER">f</TD><TD ALIGN="LEFT">Image:Tools/Free Select</TD></TR><TR><TD ALIGN="LEFT">Fuzzy Select (Magic Wand)<A NAME="14413">&#160;</A><A NAME="14414">&#160;</A></TD><TD ALIGN="CENTER">z</TD><TD ALIGN="LEFT">Image:Tools/Fuzzy Select</TD></TR><TR><TD ALIGN="LEFT">Ink<A NAME="14415">&#160;</A></TD><TD ALIGN="CENTER">k</TD><TD ALIGN="LEFT">Image:Tools/Ink</TD></TR><TR><TD ALIGN="LEFT">Intelligent Scissors<A NAME="14416">&#160;</A></TD><TD ALIGN="CENTER">i</TD><TD ALIGN="LEFT">Image:Tools/Intelligent Scissors</TD></TR><TR><TD ALIGN="LEFT">Magnify<A NAME="14417">&#160;</A></TD><TD ALIGN="CENTER">S-m</TD><TD ALIGN="LEFT">Image:Tools/Magnify</TD></TR><TR><TD ALIGN="LEFT">Move<A NAME="14418">&#160;</A></TD><TD ALIGN="CENTER">m</TD><TD ALIGN="LEFT">Image:Tools/Move</TD></TR><TR><TD ALIGN="LEFT">Paintbrush<A NAME="14419">&#160;</A></TD><TD ALIGN="CENTER">p</TD><TD ALIGN="LEFT">Image:Tools/Paintbrush</TD></TR><TR><TD ALIGN="LEFT">Pencil<A NAME="14420">&#160;</A></TD><TD ALIGN="CENTER">S-p</TD><TD ALIGN="LEFT">Image:Tools/Pencil</TD></TR><TR><TD ALIGN="LEFT">Rectangle Select<A NAME="14421">&#160;</A></TD><TD ALIGN="CENTER">r</TD><TD ALIGN="LEFT">Image:Tools/Rect Select</TD></TR><TR><TD ALIGN="LEFT">Smudge<A NAME="14422">&#160;</A></TD><TD ALIGN="CENTER">S-s</TD><TD ALIGN="LEFT">Image:Tools/Smudge</TD></TR><TR><TD ALIGN="LEFT">Swap Colors<A NAME="14423">&#160;</A></TD><TD ALIGN="CENTER">x</TD><TD ALIGN="LEFT">Image:Tools/Swap Colors</TD></TR><TR><TD ALIGN="LEFT">Text<A NAME="14424">&#160;</A></TD><TD ALIGN="CENTER">t</TD><TD ALIGN="LEFT">Image:Tools/Text</TD></TR><TR><TD ALIGN="LEFT">Transform<A NAME="14425">&#160;</A></TD><TD ALIGN="CENTER">S-t</TD><TD ALIGN="LEFT">Image:Tools/Transform</TD></TR><TR><TD ALIGN="LEFT">XinputAirbrush<A NAME="14426">&#160;</A></TD><TD ALIGN="CENTER">S-a</TD><TD ALIGN="LEFT">Image:Tools/XinputAirbrush</TD></TR></TABLE></DIV><BR><P><BR><DIV ALIGN="CENTER"><A NAME="14431">&#160;</A><A NAME="14430">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.2:</STRONG>View Menu Functions</CAPTION><TR><TD ALIGN="LEFT">Function Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">Info Window<A NAME="14434">&#160;</A><A NAME="14435">&#160;</A></TD><TD ALIGN="CENTER">C-S-i</TD><TD ALIGN="LEFT">Image:View/Info Window</TD></TR><TR><TD ALIGN="LEFT">Nav. Window<A NAME="14436">&#160;</A></TD><TD ALIGN="CENTER">C-S-n</TD><TD ALIGN="LEFT">Image:View/Nav. Window</TD></TR><TR><TD ALIGN="LEFT">Shrink Wrap<A NAME="14437">&#160;</A></TD><TD ALIGN="CENTER">C-e</TD><TD ALIGN="LEFT">Image:View/Shrink Wrap</TD></TR><TR><TD ALIGN="LEFT">Toggle Guides<A NAME="14438">&#160;</A></TD><TD ALIGN="CENTER">C-S-t</TD><TD ALIGN="LEFT">Image:View/Toggle Guides</TD></TR><TR><TD ALIGN="LEFT">Toggle Rulers<A NAME="14439">&#160;</A></TD><TD ALIGN="CENTER">C-S-r</TD><TD ALIGN="LEFT">Image:View/Toggle Rulers</TD></TR><TR><TD ALIGN="LEFT">Toggle Selection<A NAME="14440">&#160;</A></TD><TD ALIGN="CENTER">C-t</TD><TD ALIGN="LEFT">Image:View/Toggle Selection</TD></TR><TR><TD ALIGN="LEFT">Toggle Statusbar<A NAME="14441">&#160;</A></TD><TD ALIGN="CENTER">C-S-s</TD><TD ALIGN="LEFT">Image:View/Toggle Statusbar</TD></TR><TR><TD ALIGN="LEFT">Zoom In<A NAME="14442">&#160;</A></TD><TD ALIGN="CENTER">=</TD><TD ALIGN="LEFT">Image:View/Zoom In</TD></TR><TR><TD ALIGN="LEFT">Zoom Out<A NAME="14443">&#160;</A></TD><TD ALIGN="CENTER">-</TD><TD ALIGN="LEFT">Image:View/Zoom Out</TD></TR><TR><TD ALIGN="LEFT">1:1<A NAME="14444">&#160;</A></TD><TD ALIGN="CENTER">1</TD><TD ALIGN="LEFT">Image:View/Zoom/1:1</TD></TR></TABLE></DIV><BR><P><BR><DIV ALIGN="CENTER"><A NAME="14449">&#160;</A><A NAME="14448">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.3:</STRONG>Select Menu Functions</CAPTION><TR><TD ALIGN="LEFT">Function Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">All<A NAME="14452">&#160;</A></TD><TD ALIGN="CENTER">C-a</TD><TD ALIGN="LEFT">Image:Select/All</TD></TR><TR><TD ALIGN="LEFT">Feather<A NAME="14453">&#160;</A></TD><TD ALIGN="CENTER">C-S-f</TD><TD ALIGN="LEFT">Image:Select/Feather</TD></TR><TR><TD ALIGN="LEFT">Float<A NAME="14454">&#160;</A></TD><TD ALIGN="CENTER">C-S-l</TD><TD ALIGN="LEFT">Image:Select/Float</TD></TR><TR><TD ALIGN="LEFT">Invert<A NAME="14455">&#160;</A></TD><TD ALIGN="CENTER">C-i</TD><TD ALIGN="LEFT">Image:Select/Invert</TD></TR><TR><TD ALIGN="LEFT">None<A NAME="14456">&#160;</A></TD><TD ALIGN="CENTER">C-S-a</TD><TD ALIGN="LEFT">Image:Select/None</TD></TR><TR><TD ALIGN="LEFT">Sharpen<A NAME="14457">&#160;</A></TD><TD ALIGN="CENTER">C-S-h</TD><TD ALIGN="LEFT">Image:Select/Sharpen</TD></TR></TABLE></DIV><BR><P><BR><DIV ALIGN="CENTER"><A NAME="14462">&#160;</A><A NAME="14461">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.4:</STRONG>File Menu Functions</CAPTION><TR><TD ALIGN="LEFT">Function Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">Close<A NAME="14465">&#160;</A></TD><TD ALIGN="CENTER">C-w</TD><TD ALIGN="LEFT">Image:File/Close</TD></TR><TR><TD ALIGN="LEFT">New<A NAME="14466">&#160;</A></TD><TD ALIGN="CENTER">C-n</TD><TD ALIGN="LEFT">Image:File/New</TD></TR><TR><TD ALIGN="LEFT">Open<A NAME="14467">&#160;</A></TD><TD ALIGN="CENTER">C-o</TD><TD ALIGN="LEFT">Image:File/Open</TD></TR><TR><TD ALIGN="LEFT">Quit<A NAME="14468">&#160;</A></TD><TD ALIGN="CENTER">C-q</TD><TD ALIGN="LEFT">Image:File/Quit</TD></TR><TR><TD ALIGN="LEFT">Save<A NAME="14469">&#160;</A></TD><TD ALIGN="CENTER">C-s</TD><TD ALIGN="LEFT">Image:File/Save</TD></TR></TABLE></DIV><BR><P><BR><DIV ALIGN="CENTER"><A NAME="14474">&#160;</A><A NAME="14473">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.5:</STRONG>Edit Menu Functions</CAPTION><TR><TD ALIGN="LEFT">Function Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">Clear<A NAME="14477">&#160;</A></TD><TD ALIGN="CENTER">C-k</TD><TD ALIGN="LEFT">Image:Edit/Clear</TD></TR><TR><TD ALIGN="LEFT">Copy<A NAME="14478">&#160;</A></TD><TD ALIGN="CENTER">C-c</TD><TD ALIGN="LEFT">Image:Edit/Copy</TD></TR><TR><TD ALIGN="LEFT">Copy Named<A NAME="14479">&#160;</A></TD><TD ALIGN="CENTER">C-S-c</TD><TD ALIGN="LEFT">Image:Edit/Copy Named</TD></TR><TR><TD ALIGN="LEFT">Cut<A NAME="14480">&#160;</A></TD><TD ALIGN="CENTER">C-x</TD><TD ALIGN="LEFT">Image:Edit/Cut</TD></TR><TR><TD ALIGN="LEFT">Cut Named<A NAME="14481">&#160;</A></TD><TD ALIGN="CENTER">C-S-x</TD><TD ALIGN="LEFT">Image:Edit/Cut Named</TD></TR><TR><TD ALIGN="LEFT">Fill<A NAME="14482">&#160;</A></TD><TD ALIGN="CENTER">C-.</TD><TD ALIGN="LEFT">Image:Edit/Fill</TD></TR><TR><TD ALIGN="LEFT">Paste<A NAME="14483">&#160;</A></TD><TD ALIGN="CENTER">C-v</TD><TD ALIGN="LEFT">Image:Edit/Paste</TD></TR><TR><TD ALIGN="LEFT">Paste Named<A NAME="14484">&#160;</A></TD><TD ALIGN="CENTER">C-S-v</TD><TD ALIGN="LEFT">Image:Edit/Paste Named</TD></TR><TR><TD ALIGN="LEFT">Redo<A NAME="14485">&#160;</A></TD><TD ALIGN="CENTER">C-r</TD><TD ALIGN="LEFT">Image:Edit/Redo</TD></TR><TR><TD ALIGN="LEFT">Undo<A NAME="14486">&#160;</A></TD><TD ALIGN="CENTER">C-z</TD><TD ALIGN="LEFT">Image:Edit/Undo</TD></TR></TABLE></DIV><BR><P><BR><DIV ALIGN="CENTER"><A NAME="14491">&#160;</A><A NAME="14490">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.6:</STRONG>Layers Menu Functions</CAPTION><TR><TD ALIGN="LEFT">Function Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">Anchor Layer<A NAME="14494">&#160;</A></TD><TD ALIGN="CENTER">C-h</TD><TD ALIGN="LEFT">Image:Layers/Anchor Layer</TD></TR><TR><TD ALIGN="LEFT">Merge Visible Layers</TD><TD ALIGN="CENTER">C-m</TD><TD ALIGN="LEFT">Image:Layers/Merge Visible Layers</TD></TR></TABLE></DIV><BR><P><BR><DIV ALIGN="CENTER"><A NAME="14499">&#160;</A><A NAME="14498">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.7:</STRONG>Image Menu Functions</CAPTION><TR><TD ALIGN="LEFT">Function Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">Duplicate<A NAME="14502">&#160;</A></TD><TD ALIGN="CENTER">C-d</TD><TD ALIGN="LEFT">Image:Image/Duplicate</TD></TR><TR><TD ALIGN="LEFT">Offset<A NAME="14503">&#160;</A></TD><TD ALIGN="CENTER">C-S-o</TD><TD ALIGN="LEFT">Image:Image/Transforms/Offset</TD></TR><TR><TD ALIGN="LEFT">Grayscale<A NAME="14504">&#160;</A></TD><TD ALIGN="CENTER">A-g</TD><TD ALIGN="LEFT">Image:Image/Mode/Grayscale</TD></TR><TR><TD ALIGN="LEFT">Indexed<A NAME="14505">&#160;</A></TD><TD ALIGN="CENTER">A-i</TD><TD ALIGN="LEFT">Image:Image/Mode/Indexed</TD></TR><TR><TD ALIGN="LEFT">RGB<A NAME="14506">&#160;</A></TD><TD ALIGN="CENTER">A-r</TD><TD ALIGN="LEFT">Image:Image/Mode/RGB</TD></TR></TABLE></DIV><BR><P><BR><DIV ALIGN="CENTER"><A NAME="14511">&#160;</A><A NAME="14510">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.8:</STRONG>Dialogs</CAPTION><TR><TD ALIGN="LEFT">Dialog Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">Brushes<A NAME="14514">&#160;</A></TD><TD ALIGN="CENTER">C-S-b</TD><TD ALIGN="LEFT">Image:Dialogs/Brushes</TD></TR><TR><TD ALIGN="LEFT">Gradients<A NAME="14515">&#160;</A></TD><TD ALIGN="CENTER">C-g</TD><TD ALIGN="LEFT">Image:Dialogs/Gradients</TD></TR><TR><TD ALIGN="LEFT">Layers &amp; Channels<A NAME="14516">&#160;</A></TD><TD ALIGN="CENTER">C-l</TD><TD ALIGN="LEFT">Image:Dialogs/Layers &amp; Channels</TD></TR><TR><TD ALIGN="LEFT">Palette<A NAME="14517">&#160;</A></TD><TD ALIGN="CENTER">C-p</TD><TD ALIGN="LEFT">Image:Dialogs/Palette</TD></TR><TR><TD ALIGN="LEFT">Patterns<A NAME="14518">&#160;</A></TD><TD ALIGN="CENTER">C-S-p</TD><TD ALIGN="LEFT">Image:Dialogs/Patterns</TD></TR></TABLE></DIV><BR><P><BR><DIV ALIGN="CENTER"><A NAME="14522">&#160;</A><A NAME="14523">&#160;</A><TABLE CELLPADDING=3 BORDER="1"><CAPTION><STRONG>Table B.9:</STRONG>Filter Menu Functions</CAPTION><TR><TD ALIGN="LEFT">Function Name</TD><TD ALIGN="CENTER">Keystroke</TD><TD ALIGN="LEFT">Full Path</TD></TR><TR><TD ALIGN="LEFT">Re-show last<A NAME="14526">&#160;</A></TD><TD ALIGN="CENTER">A-S-f</TD><TD ALIGN="LEFT">Image:Filters/Re-show last</TD></TR><TR><TD ALIGN="LEFT">Repeat last<A NAME="14527">&#160;</A></TD><TD ALIGN="CENTER">A-f</TD><TD ALIGN="LEFT">Image:Filters/Repeat last</TD></TR></TABLE></DIV><BR><P><HR><BR><H2><A NAME="SECTION002100000000000000000">Index</A></H2><HR><DL><DD><STRONG>16-bit color</STRONG> : <A HREF="node12.html#388">8.4.2</A> | <A HREF="node84.html#13453">17.5</A><DD><STRONG>1:1 (zoom magnification)</STRONG> : <A HREF="node89.html#14444">20</A><DD><STRONG>24-bit color</STRONG> : <A HREF="node12.html#389">8.4.2</A> | <A HREF="node84.html#13455">17.5</A><DD><STRONG>3D images</STRONG> : <A HREF="node71.html#11760">16</A><DD><STRONG>3D Outline script</STRONG> : <A HREF="node82.html#13402">17.3</A><DD><STRONG>8-bit color</STRONG> : <A HREF="node12.html#387">8.4.2</A> | <A HREF="node84.html#13452">17.5</A><DD><STRONG>active channel</STRONG> : <A HREF="node28.html#1960">10.2.1</A> | <A HREF="node43.html#5199">12.1.1</A> | <A HREF="node43.html#5201">12.1.1</A><DD><STRONG>active layer</STRONG> : <A HREF="node27.html#1913">10.1.1</A> | <A HREF="node35.html#3335">11</A> | <A HREF="node41.html#4064">11.6</A> | <A HREF="node43.html#5200">12.1.1</A><DD><STRONG>active layer mask</STRONG> : <A HREF="node44.html#5376">12.2.2</A><DD><STRONG>Add Alpha Channel function</STRONG> : <A HREF="node34.html#2515">10.8</A> | <A HREF="node44.html#5347">12.2.1</A><DD><STRONG>Add Layer Mask function</STRONG> : <A HREF="node44.html#5344">12.2.1</A> | <A HREF="node67.html#10548">15.2</A> | <A HREF="node69.html#10762">15.4</A> | <A HREF="node75.html#12083">16.4</A> | <A HREF="node75.html#12123">16.4</A><DD><STRONG>Add Mask Options dialog</STRONG> : <A HREF="node44.html#5361">12.2.1</A><DD><STRONG>Add Point mode button (Bezier paths)</STRONG> : <A HREF="node39.html#3906">11.4.2</A><DD><STRONG>Add to Selection function</STRONG> : <A HREF="node43.html#5281">12.1.5</A> | <A HREF="node43.html#5308">12.1.6</A><DD><STRONG>adding selections</STRONG> : <A HREF="node37.html#3603">11.2.1</A><DD><STRONG>Addition blending mode</STRONG> : <A HREF="node55.html#7264">13.6.2</A><DD><STRONG>Airbrush tool</STRONG> : <A HREF="node11.html#335">8.3</A> | <A HREF="node39.html#3935">11.4.4</A> | <A HREF="node45.html#5439">12.3.1</A> | <A HREF="node47.html#5758">12.5.1</A> | <A HREF="node57.html#7558">13.8.1</A> | <A HREF="node57.html#7603">13.8.2</A> | <A HREF="node68.html#10667">15.3</A> | <A HREF="node69.html#10807">15.4</A> | <A HREF="node89.html#14398">20</A><DD><STRONG>aliasing</STRONG> : <A HREF="node36.html#3528">11.1.2.1</A><DD><STRONG>aligning layers with guides</STRONG> : <A HREF="node32.html#2146">10.6.1.2</A><DD><STRONG>All (selection) function</STRONG> : <A HREF="node38.html#3658">11.3.2</A> | <A HREF="node89.html#14452">20</A><DD><STRONG>alpha channel</STRONG><DL><DD><STRONG>and anti-aliasing</STRONG> : <A HREF="node36.html#3531">11.1.2.1</A><DD><STRONG>converting to selections/channel masks/layer masks</STRONG> : <A HREF="node46.html#5705">12.4</A><DD><STRONG>creating</STRONG> : <A HREF="node44.html#5345">12.2.1</A><DD><STRONG>editing with layer mask</STRONG> : <A HREF="node44.html#5388">12.2.2</A> | <A HREF="node44.html#5388">12.2.2</A><DD><STRONG>has none</STRONG> : <A HREF="node28.html#1935">10.2</A><DD><STRONG>linked to layer mask</STRONG> : <A HREF="node44.html#5339">12.2</A><DD><STRONG>loaded into layer mask</STRONG> : <A HREF="node44.html#5362">12.2.1</A><DD><STRONG>recovering layer mask</STRONG> : <A HREF="node44.html#5421">12.2.2</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node34.html#2513">10.8</A></DL><DD><STRONG>Alpha to Selection function</STRONG> : <A HREF="node69.html#10857">15.4</A> | <A HREF="node73.html#11871">16.2</A> | <A HREF="node76.html#12170">16.5</A> | <A HREF="node78.html#12321">16.7</A> | <A HREF="node78.html#12347">16.7</A><DD><STRONG>ambient light</STRONG> : <A HREF="node51.html#7040">13.2</A> | <A HREF="node74.html#12007">16.3</A><DD><STRONG>Anchor Layer function</STRONG> : <A HREF="node30.html#2059">10.4</A> | <A HREF="node31.html#2128">10.5.3</A> | <A HREF="node34.html#2520">10.8</A> | <A HREF="node89.html#14494">20</A><DD><STRONG>anchoring floats</STRONG> : <A HREF="node31.html#2123">10.5.3</A><DD><STRONG>Animation Optimize function</STRONG> : <A HREF="node80.html#13271">17.1.5</A><DD><STRONG>Animation Playback tool</STRONG> : <A HREF="node80.html#13146">17.1.2</A><DD><STRONG>animations</STRONG> : <A HREF="node80.html#13116">17.1</A><DL><DD><STRONG>converting to Indexed format</STRONG> : <A HREF="node80.html#13167">17.1.3</A><DD><STRONG>Iwarp filter</STRONG> : <A HREF="node80.html#13275">17.1.6</A><DD><STRONG>optimization</STRONG> : <A HREF="node80.html#13266">17.1.5</A><DD><STRONG>saving to GIF format</STRONG> : <A HREF="node80.html#13165">17.1.3</A></DL><DD><STRONG>Ansel Adams</STRONG> : <A HREF="node59.html#8753">14</A><DD><STRONG>antialiasing</STRONG> : <A HREF="node36.html#3516">11.1.2.1</A> | <A HREF="node45.html#5645">12.3.5</A> | <A HREF="node84.html#13573">17.5.4</A> | <A HREF="node85.html#13585">17.6</A><DD><STRONG>Apply Layer Mask function</STRONG> : <A HREF="node44.html#5417">12.2.2</A><DD><STRONG>automatic creation of floats</STRONG> : <A HREF="node31.html#2103">10.5.1</A><DD><STRONG>background colors, switching with foreground colors</STRONG> : <A HREF="node16.html#948">9.1.4</A><DD><STRONG>backgrounds, tileable</STRONG> : <A HREF="node83.html#13422">17.4</A><DD><STRONG>balancing neutrals</STRONG> : <A HREF="node61.html#8934">14.2.2</A><DD><STRONG>banding, color distortion</STRONG> : <A HREF="node84.html#13463">17.5.1</A><DD><STRONG>Behind blending mode</STRONG> : <A HREF="node55.html#7225">13.6.1</A><DD><STRONG>Bezier Path tool</STRONG> : <A HREF="node11.html#339">8.3</A> | <A HREF="node32.html#2288">10.6.2.3</A> | <A HREF="node36.html#3452">11.1.1.4</A> | <A HREF="node40.html#3945">11.5.1</A> | <A HREF="node89.html#14399">20</A><DD><STRONG>Bezier paths</STRONG><DL><DD><STRONG>converting selections to</STRONG> : <A HREF="node38.html#3783">11.3.12</A><DD><STRONG>Paths dialog</STRONG> : <A HREF="node39.html#3857">11.4</A><DD><STRONG>title changing</STRONG> : <A HREF="node39.html#3881">11.4.1</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node41.html#4067">11.6</A></DL><DD><STRONG>bi-linear gradient</STRONG> : <A HREF="node73.html#11845">16.2</A><DD><STRONG>blending modes</STRONG> : <A HREF="node55.html#7178">13.6</A><DL><DD><STRONG>Destination Saturn project</STRONG> : <A HREF="node68.html#10644">15.3</A><DD><STRONG>for colorization</STRONG> : <A HREF="node57.html#7516">13.8.1</A><DD><STRONG>for creating shadows and highlights</STRONG> : <A HREF="node57.html#7573">13.8.2</A><DD><STRONG>Through the Looking Glass project</STRONG> : <A HREF="node67.html#10565">15.2</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node58.html#7618">13.9</A></DL><DD><STRONG>blending tools (gradients)</STRONG> : <A HREF="node45.html#5519">12.3.3</A> | <A HREF="node70.html#10940">15.5.3</A><DD><STRONG>blurring</STRONG><DL><DD><STRONG>Call of the Mermaid project</STRONG> : <A HREF="node69.html#10846">15.4</A><DD><STRONG>masks</STRONG> : <A HREF="node45.html#5642">12.3.5</A></DL><DD><STRONG>blurry images, sharpening</STRONG> : <A HREF="node63.html#9251">14.4</A><DD><STRONG>Border function</STRONG> : <A HREF="node38.html#3711">11.3.9</A> | <A HREF="node69.html#10843">15.4</A><DD><STRONG>boundaries</STRONG><DL><DD><STRONG>layers</STRONG> : <A HREF="node30.html#2091">10.4</A> | <A HREF="node32.html#2173">10.6.1.3</A><DD><STRONG>selections</STRONG> : <A HREF="node22.html#1155">9.7</A> | <A HREF="node38.html#3812">11.3.13</A><DD><STRONG>visibility</STRONG> : <A HREF="node32.html#2174">10.6.1.3</A> | <A HREF="node38.html#3813">11.3.13</A></DL><DD><STRONG>brightness</STRONG> : <A HREF="node51.html#7038">13.2</A> | <A HREF="node52.html#7064">13.3</A><DL><DD><STRONG>matching</STRONG> : <A HREF="node70.html#10917">15.5.2</A></DL><DD><STRONG>Brightness-Contrast tool</STRONG> : <A HREF="node61.html#9151">14.2.7.2</A><DD><STRONG>Brush Selection dialog</STRONG> : <A HREF="node16.html#962">9.1.4</A> | <A HREF="node45.html#5462">12.3.1</A> | <A HREF="node89.html#14514">20</A><DL><DD><STRONG>Mode menu</STRONG> : <A HREF="node45.html#5540">12.3.3</A> | <A HREF="node55.html#7190">13.6</A></DL><DD><STRONG>Bucket Fill tool</STRONG> : <A HREF="node11.html#342">8.3</A> | <A HREF="node36.html#3545">11.1.2.1</A> | <A HREF="node45.html#5449">12.3.1</A> | <A HREF="node57.html#7539">13.8.1</A> | <A HREF="node72.html#11769">16.1</A> | <A HREF="node89.html#14401">20</A><DD><STRONG>buffer</STRONG><DL><DD><STRONG>default</STRONG> : <A HREF="node22.html#1150">9.7</A> | <A HREF="node30.html#2035">10.4</A><DD><STRONG>named</STRONG> : <A HREF="node22.html#1161">9.7</A></DL><DD><STRONG>Bump map filter</STRONG> : <A HREF="node74.html#11899">16.3</A> | <A HREF="node74.html#11968">16.3</A> | <A HREF="node77.html#12251">16.6</A> | <A HREF="node78.html#12335">16.7</A><DD><STRONG>By Color selection tool</STRONG> : <A HREF="node38.html#3759">11.3.11</A> | <A HREF="node40.html#3962">11.5.1</A><DD><STRONG>Call of the Mermaid project</STRONG> : <A HREF="node69.html#10706">15.4</A><DD><STRONG>Canvas Size function</STRONG> : <A HREF="node32.html#2217">10.6.2.2</A><DD><STRONG>Carved Stencil project</STRONG> : <A HREF="node77.html#12222">16.6</A><DD><STRONG>center initiated selections</STRONG> : <A HREF="node37.html#3627">11.2.4</A><DD><STRONG>centering text</STRONG> : <A HREF="node73.html#11866">16.2</A><DD><STRONG>channel masks</STRONG> : <A HREF="node43.html#5177">12.1</A><DL><DD><STRONG>Channel Options dialog</STRONG> : <A HREF="node43.html#5244">12.1.4</A><DD><STRONG>Channels dialog</STRONG> : <A HREF="node28.html#1947">10.2.1</A> | <A HREF="node43.html#5181">12.1.1</A><DD><STRONG>Channels menu</STRONG> : <A HREF="node43.html#5261">12.1.5</A><DD><STRONG>combining</STRONG> : <A HREF="node43.html#5288">12.1.6</A><DD><STRONG>converting from selections</STRONG> : <A HREF="node43.html#5276">12.1.5</A><DD><STRONG>converting to a selection</STRONG> : <A HREF="node43.html#5279">12.1.5</A><DD><STRONG>converting to selections/alpha channels/layer masks</STRONG> : <A HREF="node46.html#5706">12.4</A><DD><STRONG>for refining selections</STRONG> : <A HREF="node47.html#5722">12.5.1</A><DD><STRONG>partially selected pixels</STRONG> : <A HREF="node43.html#5332">12.1.7</A><DD><STRONG>relationship with layers</STRONG> : <A HREF="node28.html#1933">10.2</A><DD><STRONG>saving selections to</STRONG> : <A HREF="node38.html#3734">11.3.10</A><DD><STRONG>tools for modifying</STRONG> : <A HREF="node45.html#5427">12.3</A><DD><STRONG>visibility</STRONG> : <A HREF="node43.html#5195">12.1.1</A></DL><DD><STRONG>Channel Options dialog</STRONG> : <A HREF="node43.html#5245">12.1.4</A><DD><STRONG>Channel to Selection function</STRONG> : <A HREF="node43.html#5278">12.1.5</A><DD><STRONG>Channels dialog</STRONG> : <A HREF="node28.html#1948">10.2.1</A> | <A HREF="node43.html#5182">12.1.1</A><DD><STRONG>Channels menu</STRONG> : <A HREF="node43.html#5262">12.1.5</A><DD><STRONG>Channels Palette</STRONG> : <A HREF="node43.html#5191">12.1.1</A><DD><STRONG>Checkerboard plug-in</STRONG> : <A HREF="node84.html#13486">17.5.1</A><DD><STRONG>Chiseled Text project</STRONG> : <A HREF="node78.html#12295">16.7</A><DD><STRONG>circular selections</STRONG> : <A HREF="node36.html#3385">11.1.1.1</A><DD><STRONG>Clear function</STRONG> : <A HREF="node89.html#14477">20</A><DD><STRONG>clickable image maps</STRONG> : <A HREF="node81.html#13299">17.2</A><DD><STRONG>clip books</STRONG> : <A HREF="node66.html#10377">15.1</A> | <A HREF="node80.html#13221">17.1.4</A> | <A HREF="node80.html#13221">17.1.4</A><DD><STRONG>clipping (color distortion)</STRONG> : <A HREF="node84.html#13461">17.5.1</A> | <A HREF="node84.html#13563">17.5.4</A><DD><STRONG>Clone tool</STRONG> : <A HREF="node11.html#344">8.3</A> | <A HREF="node62.html#9210">14.3</A> | <A HREF="node69.html#10822">15.4</A> | <A HREF="node70.html#10980">15.5.4</A> | <A HREF="node89.html#14402">20</A><DD><STRONG>Close function</STRONG> : <A HREF="node89.html#14465">20</A><DD><STRONG>CMY colorspace</STRONG> : <A HREF="node47.html#5958">12.5.3.3</A> | <A HREF="node53.html#7122">13.4</A><DD><STRONG>CMYK colorspace</STRONG> : <A HREF="node47.html#5960">12.5.3.3</A> | <A HREF="node53.html#7123">13.4</A><DD><STRONG>collage</STRONG> : <A HREF="node65.html#10369">15</A><DD><STRONG>Color Balance tool</STRONG> : <A HREF="node61.html#9125">14.2.7.1</A><DD><STRONG>Color blending mode</STRONG> : <A HREF="node55.html#7431">13.6.5</A> | <A HREF="node57.html#7525">13.8.1</A><DD><STRONG>color casts, removing</STRONG> : <A HREF="node61.html#8851">14.2</A><DL><DD><STRONG>balancing neutrals</STRONG> : <A HREF="node61.html#8936">14.2.2</A><DD><STRONG>Brightness-Contrast tool</STRONG> : <A HREF="node61.html#9152">14.2.7.2</A><DD><STRONG>case study</STRONG> : <A HREF="node64.html#9378">14.5</A><DD><STRONG>Color Balance tool</STRONG> : <A HREF="node61.html#9126">14.2.7.1</A><DD><STRONG>Curves tools</STRONG> : <A HREF="node61.html#8859">14.2.1</A><DD><STRONG>finding the shadow/midtone/highlight</STRONG> : <A HREF="node61.html#8999">14.2.3</A><DD><STRONG>Hue-Saturation tool</STRONG> : <A HREF="node61.html#9174">14.2.7.3</A><DD><STRONG>improving subject contrast</STRONG> : <A HREF="node61.html#9071">14.2.6</A><DD><STRONG>perturbation technique</STRONG> : <A HREF="node61.html#9035">14.2.5</A><DD><STRONG>reference colors</STRONG> : <A HREF="node61.html#9030">14.2.4</A></DL><DD><STRONG>color clipping</STRONG> : <A HREF="node84.html#13462">17.5.1</A> | <A HREF="node84.html#13564">17.5.4</A><DD><STRONG>color correction, creating panoramas</STRONG> : <A HREF="node70.html#10918">15.5.2</A><DD><STRONG>color depth, performance optimization</STRONG> : <A HREF="node12.html#440">8.4.5</A><DD><STRONG>Color Palette dialog</STRONG> : <A HREF="node16.html#995">9.1.4</A> | <A HREF="node89.html#14517">20</A><DD><STRONG>Color Palette Edit dialog</STRONG> : <A HREF="node16.html#1001">9.1.4</A><DD><STRONG>Color Picker tool</STRONG> : <A HREF="node11.html#333">8.3</A> | <A HREF="node57.html#7587">13.8.2</A> | <A HREF="node61.html#8945">14.2.2</A> | <A HREF="node61.html#8993">14.2.2</A> | <A HREF="node61.html#9142">14.2.7.1</A> | <A HREF="node64.html#9381">14.5</A> | <A HREF="node70.html#10926">15.5.2</A> | <A HREF="node85.html#13596">17.6</A> | <A HREF="node89.html#14403">20</A><DD><STRONG>color shifts, from Unsharp Mask</STRONG> : <A HREF="node63.html#9321">14.4.4</A><DD><STRONG>colorization, as a use of blending modes</STRONG> : <A HREF="node57.html#7517">13.8.1</A><DD><STRONG>colors</STRONG><DL><DD><STRONG>blending modes</STRONG> : <A HREF="node55.html#7179">13.6</A><DD><STRONG>brightness</STRONG> : <A HREF="node51.html#7039">13.2</A> | <A HREF="node52.html#7065">13.3</A><DD><STRONG>channel masks, changing</STRONG> : <A HREF="node43.html#5240">12.1.4</A><DD><STRONG>converting to grayscale</STRONG> : <A HREF="node54.html#7137">13.5</A><DD><STRONG>fleshtones</STRONG> : <A HREF="node61.html#9031">14.2.4</A><DD><STRONG>hue</STRONG> : <A HREF="node51.html#7027">13.2</A> | <A HREF="node51.html#7054">13.2</A> | <A HREF="node52.html#7101">13.3</A><DD><STRONG>inverting</STRONG> : <A HREF="node47.html#5752">12.5.1</A><DD><STRONG>lightness</STRONG> : <A HREF="node52.html#7081">13.3</A><DD><STRONG>luminance</STRONG> : <A HREF="node52.html#7078">13.3</A><DD><STRONG>primary</STRONG> : <A HREF="node49.html#6991">13</A><DD><STRONG>saturation</STRONG> : <A HREF="node51.html#7035">13.2</A> | <A HREF="node51.html#7056">13.2</A> | <A HREF="node52.html#7091">13.3</A><DD><STRONG>switching foreground and background</STRONG> : <A HREF="node16.html#950">9.1.4</A><DD><STRONG>tonal range</STRONG> : <A HREF="node60.html#8760">14.1</A><DD><STRONG>value</STRONG> : <A HREF="node51.html#7058">13.2</A> | <A HREF="node52.html#7080">13.3</A><DD><STRONG>Web-safe</STRONG> : <A HREF="node84.html#13449">17.5</A></DL><DD><STRONG>colorspaces</STRONG> : <A HREF="node49.html#6990">13</A><DL><DD><STRONG>CMY</STRONG> : <A HREF="node53.html#7124">13.4</A><DD><STRONG>CMYK</STRONG> : <A HREF="node53.html#7125">13.4</A><DD><STRONG>HSV</STRONG> : <A HREF="node51.html#7025">13.2</A><DD><STRONG>RGB</STRONG> : <A HREF="node50.html#6998">13.1</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node58.html#7620">13.9</A></DL><DD><STRONG>Combine mode, in animations</STRONG> : <A HREF="node80.html#13147">17.1.2</A><DD><STRONG>combining</STRONG><DL><DD><STRONG>channel masks</STRONG> : <A HREF="node43.html#5289">12.1.6</A><DD><STRONG>images</STRONG> : <A HREF="node30.html#2007">10.4</A> | <A HREF="node68.html#10599">15.3</A> | <A HREF="node69.html#10780">15.4</A><DD><STRONG>layers</STRONG> : <A HREF="node33.html#2476">10.7</A><DD><STRONG>selection tools</STRONG> : <A HREF="node40.html#3981">11.5.2</A><DD><STRONG>selections</STRONG> : <A HREF="node37.html#3600">11.2</A></DL><DD><STRONG>compositing</STRONG> : <A HREF="node65.html#10366">15</A><DL><DD><STRONG>Call of the Mermaid project</STRONG> : <A HREF="node69.html#10709">15.4</A><DD><STRONG>Destination Saturn project</STRONG> : <A HREF="node68.html#10600">15.3</A><DD><STRONG>Fish on Holiday project</STRONG> : <A HREF="node66.html#10374">15.1</A><DD><STRONG>Panoramas project</STRONG> : <A HREF="node70.html#10879">15.5</A><DD><STRONG>Space Shuttle Animation project</STRONG> : <A HREF="node80.html#13201">17.1.4</A><DD><STRONG>Through the Looking Glass project</STRONG> : <A HREF="node67.html#10470">15.2</A></DL><DD><STRONG>compression</STRONG><DL><DD><STRONG>with animation optimization</STRONG> : <A HREF="node80.html#13267">17.1.5</A><DD><STRONG>with JPEG file format</STRONG> : <A HREF="node86.html#13631">17.7</A></DL><DD><STRONG>conical (symmetric) gradients</STRONG> : <A HREF="node73.html#11839">16.2</A><DD><STRONG>contrast, improving</STRONG> : <A HREF="node61.html#8913">14.2.1</A> | <A HREF="node61.html#9079">14.2.6</A> | <A HREF="node64.html#9401">14.5</A><DD><STRONG>control curve</STRONG> : <A HREF="node61.html#8877">14.2.1</A><DD><STRONG>control curves</STRONG> : <A HREF="node61.html#8860">14.2.1</A><DD><STRONG>control handles (Bezier Path tool)</STRONG> : <A HREF="node36.html#3459">11.1.1.4</A><DD><STRONG>Control Point Mode buttons</STRONG> : <A HREF="node39.html#3902">11.4.2</A><DD><STRONG>control points</STRONG><DL><DD><STRONG>Bezier Paths</STRONG> : <A HREF="node36.html#3456">11.1.1.4</A><DD><STRONG>Curves tool</STRONG> : <A HREF="node61.html#8886">14.2.1</A></DL><DD><STRONG>converting</STRONG><DL><DD><STRONG>animations to Indexed format</STRONG> : <A HREF="node80.html#13126">17.1.2</A><DD><STRONG>between masks/selections/alpha channels</STRONG> : <A HREF="node46.html#5709">12.4</A><DD><STRONG>layer masks to alpha channels</STRONG> : <A HREF="node44.html#5418">12.2.2</A><DD><STRONG>layers masks to selections</STRONG> : <A HREF="node44.html#5424">12.2.2</A><DD><STRONG>selections</STRONG><DD><DL><DD><STRONG>to Bezier paths</STRONG> : <A HREF="node38.html#3784">11.3.12</A><DD><STRONG>to channel masks</STRONG> : <A HREF="node38.html#3735">11.3.10</A></DL><DD><STRONG>to grayscale</STRONG> : <A HREF="node54.html#7138">13.5</A><DD><STRONG>to Indexed color</STRONG> : <A HREF="node84.html#13531">17.5.3</A></DL><DD><STRONG>Convolve tool</STRONG> : <A HREF="node11.html#353">8.3</A> | <A HREF="node89.html#14404">20</A><DD><STRONG>Copy function</STRONG> : <A HREF="node22.html#1141">9.7</A> | <A HREF="node30.html#2016">10.4</A> | <A HREF="node30.html#2032">10.4</A> | <A HREF="node38.html#3825">11.3.14</A> | <A HREF="node89.html#14478">20</A><DD><STRONG>Copy Named function</STRONG> : <A HREF="node22.html#1171">9.7</A> | <A HREF="node89.html#14479">20</A><DD><STRONG>Copy Path function</STRONG> : <A HREF="node39.html#3923">11.4.3</A><DD><STRONG>Copy Visible function</STRONG> : <A HREF="node22.html#1160">9.7</A><DD><STRONG>copying</STRONG><DL><DD><STRONG>images</STRONG> : <A HREF="node30.html#2030">10.4</A> | <A HREF="node66.html#10397">15.1</A><DD><STRONG>selections</STRONG> : <A HREF="node38.html#3826">11.3.14</A></DL><DD><STRONG>copyright issues, digital images</STRONG> : <A HREF="node13.html#451">8.5</A><DD><STRONG>correcting color casts</STRONG> : <A HREF="node61.html#8852">14.2</A><DD><STRONG>creating layers</STRONG> : <A HREF="node29.html#1968">10.3.1</A><DD><STRONG>Crop tool</STRONG> : <A HREF="node11.html#349">8.3</A> | <A HREF="node32.html#2236">10.6.2.2</A> | <A HREF="node70.html#10970">15.5.4</A> | <A HREF="node89.html#14405">20</A><DD><STRONG>cube, colorspace</STRONG> : <A HREF="node49.html#6993">13</A> | <A HREF="node50.html#7000">13.1</A> | <A HREF="node51.html#7043">13.2</A> | <A HREF="node51.html#7060">13.2</A><DD><STRONG>cursor position</STRONG> : <A HREF="node11.html#281">8.3</A><DD><STRONG>Curves tool</STRONG> : <A HREF="node61.html#8861">14.2.1</A><DL><DD><STRONG>compared to Brightness-Contrast tool</STRONG> : <A HREF="node61.html#9153">14.2.7.2</A><DD><STRONG>compared to Color Balance tool</STRONG> : <A HREF="node61.html#9127">14.2.7.1</A><DD><STRONG>improving contrast</STRONG> : <A HREF="node61.html#9072">14.2.6</A><DD><STRONG>perturbation technique</STRONG> : <A HREF="node61.html#9036">14.2.5</A></DL><DD><STRONG>Cut function</STRONG> : <A HREF="node22.html#1144">9.7</A> | <A HREF="node30.html#2018">10.4</A> | <A HREF="node30.html#2038">10.4</A> | <A HREF="node38.html#3828">11.3.14</A> | <A HREF="node38.html#3835">11.3.14</A> | <A HREF="node89.html#14480">20</A><DD><STRONG>Cut Named function</STRONG> : <A HREF="node89.html#14481">20</A><DD><STRONG>Darken Only blending mode</STRONG> : <A HREF="node55.html#7404">13.6.4</A> | <A HREF="node68.html#10679">15.3</A><DD><STRONG>Decompose function</STRONG> : <A HREF="node28.html#1958">10.2.1</A> | <A HREF="node47.html#5944">12.5.3.3</A> | <A HREF="node51.html#7051">13.2</A> | <A HREF="node53.html#7129">13.4</A> | <A HREF="node54.html#7167">13.5</A><DD><STRONG>default buffer</STRONG> : <A HREF="node30.html#2036">10.4</A><DD><STRONG>Default Colors tool</STRONG> : <A HREF="node11.html#357">8.3</A> | <A HREF="node16.html#953">9.1.4</A> | <A HREF="node47.html#5788">12.5.1</A> | <A HREF="node48.html#5985">12.6</A> | <A HREF="node89.html#14406">20</A><DD><STRONG>Delete Layer function</STRONG> : <A HREF="node29.html#2003">10.3.5</A><DD><STRONG>Delete Point mode button (Bezier paths)</STRONG> : <A HREF="node39.html#3907">11.4.2</A><DD><STRONG>deleting layers</STRONG> : <A HREF="node29.html#2000">10.3.5</A> | <A HREF="node29.html#2004">10.3.5</A><DD><STRONG>Desaturate function</STRONG> : <A HREF="node54.html#7160">13.5</A><DD><STRONG>deselecting selections</STRONG> : <A HREF="node38.html#3663">11.3.3</A><DD><STRONG>Destination Saturn project</STRONG> : <A HREF="node68.html#10597">15.3</A><DD><STRONG>Dialogs, keyboard shortcuts</STRONG> : <A HREF="node89.html#14511">20</A><DD><STRONG>Difference blending mode</STRONG> : <A HREF="node55.html#7266">13.6.2</A><DD><STRONG>digital images, sources of</STRONG> : <A HREF="node13.html#447">8.5</A><DD><STRONG>Dissolve blending mode</STRONG> : <A HREF="node55.html#7224">13.6.1</A><DD><STRONG>distortion of colors, types of</STRONG> : <A HREF="node84.html#13459">17.5.1</A><DD><STRONG>dithering (color distortion)</STRONG> : <A HREF="node84.html#13473">17.5.1</A><DD><STRONG>Divide (Dodge) blending mode</STRONG> : <A HREF="node55.html#7325">13.6.3</A><DD><STRONG>Dodge &amp; Burn tool</STRONG> : <A HREF="node11.html#345">8.3</A> | <A HREF="node89.html#14407">20</A><DD><STRONG>Dodge and Burn tool</STRONG> : <A HREF="node45.html#5445">12.3.1</A><DD><STRONG>downloading and installing fonts</STRONG> : <A HREF="node12.html#411">8.4.4</A><DD><STRONG>Drop Shadow and Punchout project</STRONG> : <A HREF="node76.html#12147">16.5</A><DD><STRONG>drop shadows</STRONG><DL><DD><STRONG>Chiseled Text project</STRONG> : <A HREF="node78.html#12313">16.7</A><DD><STRONG>creating</STRONG> : <A HREF="node75.html#12032">16.4</A><DD><STRONG>Drop Shadow and Punchout project</STRONG> : <A HREF="node76.html#12149">16.5</A></DL><DD><STRONG>Duplicate function</STRONG> : <A HREF="node61.html#9020">14.2.3</A> | <A HREF="node89.html#14502">20</A><DD><STRONG>Duplicate Layer function</STRONG> : <A HREF="node29.html#1998">10.3.4</A><DD><STRONG>duplicating layers</STRONG> : <A HREF="node29.html#1995">10.3.4</A><DD><STRONG>Edit Menu Functions, keyboard shortcuts</STRONG> : <A HREF="node89.html#14474">20</A><DD><STRONG>Edit Point mode button (Bezier paths)</STRONG> : <A HREF="node39.html#3908">11.4.2</A><DD><STRONG>Edit Qmask Attributes dialog</STRONG> : <A HREF="node47.html#5820">12.5.2</A><DD><STRONG>editing masks</STRONG><DL><DD><STRONG>layer masks</STRONG> : <A HREF="node44.html#5373">12.2.2</A><DD><STRONG>painting tools</STRONG> : <A HREF="node45.html#5432">12.3.1</A><DD><STRONG>selection tools</STRONG> : <A HREF="node45.html#5471">12.3.2</A><DD><STRONG>to edit alpha channel</STRONG> : <A HREF="node44.html#5385">12.2.2</A><DD><STRONG>transparency</STRONG> : <A HREF="node45.html#5610">12.3.4</A><DD><STRONG>using blur filters</STRONG> : <A HREF="node45.html#5643">12.3.5</A><DD><STRONG>using gradients</STRONG> : <A HREF="node45.html#5502">12.3.3</A></DL><DD><STRONG>Ellipse Select tool</STRONG> : <A HREF="node11.html#338">8.3</A> | <A HREF="node36.html#3366">11.1.1.1</A> | <A HREF="node40.html#3965">11.5.1</A> | <A HREF="node89.html#14408">20</A><DD><STRONG>Emboss filter</STRONG> : <A HREF="node74.html#11897">16.3</A><DD><STRONG>enhancing photos</STRONG> : <A HREF="node59.html#8748">14</A><DD><STRONG>Eraser tool</STRONG> : <A HREF="node11.html#352">8.3</A> | <A HREF="node45.html#5441">12.3.1</A> | <A HREF="node69.html#10810">15.4</A> | <A HREF="node89.html#14409">20</A><DD><STRONG>explicit creation of floats</STRONG> : <A HREF="node31.html#2115">10.5.2</A><DD><STRONG>Export Path function</STRONG> : <A HREF="node39.html#3925">11.4.3</A><DD><STRONG>exporting layers</STRONG> : <A HREF="node30.html#2009">10.4</A><DD><STRONG>Feather function</STRONG> : <A HREF="node38.html#3678">11.3.5</A> | <A HREF="node89.html#14453">20</A><DD><STRONG>feathered selections</STRONG> : <A HREF="node36.html#3559">11.1.2.2</A><DD><STRONG>file formats</STRONG> : <A HREF="node17.html#1047">9.2</A><DD><STRONG>File Menu Functions, keyboard shortcuts</STRONG> : <A HREF="node89.html#14462">20</A><DD><STRONG>files, loading multiple</STRONG> : <A HREF="node17.html#1026">9.2</A><DD><STRONG>Fill function</STRONG> : <A HREF="node89.html#14482">20</A><DD><STRONG>Filter Menu Functions, keyboard shortcuts</STRONG> : <A HREF="node89.html#14522">20</A><DD><STRONG>filters</STRONG><DL><DD><STRONG>Bump map</STRONG> : <A HREF="node74.html#11900">16.3</A> | <A HREF="node77.html#12252">16.6</A> | <A HREF="node78.html#12336">16.7</A><DD><STRONG>Emboss</STRONG> : <A HREF="node74.html#11898">16.3</A><DD><STRONG>Gaussian Blur (IIR)</STRONG> : <A HREF="node45.html#5663">12.3.5</A> | <A HREF="node69.html#10864">15.4</A> | <A HREF="node75.html#12026">16.4</A> | <A HREF="node75.html#12088">16.4</A> | <A HREF="node77.html#12260">16.6</A> | <A HREF="node78.html#12315">16.7</A><DD><STRONG>Gaussian Blur (RLE)</STRONG> : <A HREF="node75.html#12050">16.4</A><DD><STRONG>Iwarp</STRONG> : <A HREF="node80.html#13276">17.1.6</A><DD><STRONG>Semi-Flatten</STRONG> : <A HREF="node85.html#13590">17.6</A><DD><STRONG>SuperNova</STRONG> : <A HREF="node80.html#13242">17.1.4</A></DL><DD><STRONG>finding the natural mask</STRONG> : <A HREF="node47.html#5824">12.5.3</A><DD><STRONG>Fish on Holiday project</STRONG> : <A HREF="node66.html#10372">15.1</A><DD><STRONG>Flatten Image function</STRONG> : <A HREF="node33.html#2497">10.7.2</A><DD><STRONG>flattening layers</STRONG> : <A HREF="node33.html#2494">10.7.2</A><DD><STRONG>fleshtones</STRONG> : <A HREF="node61.html#9032">14.2.4</A><DD><STRONG>Flip tool</STRONG> : <A HREF="node11.html#341">8.3</A> | <A HREF="node32.html#2343">10.6.3</A> | <A HREF="node89.html#14410">20</A><DD><STRONG>flipping layers</STRONG> : <A HREF="node32.html#2340">10.6.3</A><DD><STRONG>Float function</STRONG> : <A HREF="node31.html#2118">10.5.2</A> | <A HREF="node32.html#2320">10.6.2.4</A> | <A HREF="node38.html#3670">11.3.4</A> | <A HREF="node89.html#14454">20</A><DD><STRONG>floats</STRONG> : <A HREF="node31.html#2100">10.5</A><DL><DD><STRONG>anchoring</STRONG> : <A HREF="node31.html#2124">10.5.3</A><DD><STRONG>automatic creation</STRONG> : <A HREF="node31.html#2104">10.5.1</A><DD><STRONG>centering</STRONG> : <A HREF="node73.html#11867">16.2</A><DD><STRONG>explicit creation</STRONG> : <A HREF="node31.html#2116">10.5.2</A></DL><DD><STRONG>Floyd-Steinberg dithering algorithm</STRONG> : <A HREF="node84.html#13502">17.5.1</A><DD><STRONG>fonts, downloading and installing</STRONG> : <A HREF="node12.html#412">8.4.4</A><DD><STRONG>foreground colors, switching with background colors</STRONG> : <A HREF="node16.html#949">9.1.4</A><DD><STRONG>formats, color</STRONG> : <A HREF="node19.html#1078">9.4</A><DD><STRONG>frames, as animation layers</STRONG> : <A HREF="node80.html#13124">17.1.2</A><DD><STRONG>Free-Hand Select tool</STRONG> : <A HREF="node11.html#359">8.3</A> | <A HREF="node36.html#3400">11.1.1.2</A> | <A HREF="node40.html#3951">11.5.1</A> | <A HREF="node47.html#5883">12.5.3.1</A> | <A HREF="node89.html#14411">20</A><DD><STRONG>freefonts collection</STRONG> : <A HREF="node12.html#420">8.4.4</A><DD><STRONG>Fuzzy Select tool</STRONG> : <A HREF="node11.html#358">8.3</A> | <A HREF="node36.html#3424">11.1.1.3</A> | <A HREF="node40.html#3973">11.5.1</A> | <A HREF="node40.html#3985">11.5.2</A> | <A HREF="node47.html#5930">12.5.3.2</A> | <A HREF="node89.html#14413">20</A><DD><STRONG>Gaussian Blur (RLE)</STRONG> : <A HREF="node75.html#12051">16.4</A><DD><STRONG>GBR file format</STRONG> : <A HREF="node17.html#1057">9.2</A><DD><STRONG>geometric distortions, correcting</STRONG> : <A HREF="node70.html#10895">15.5.1</A><DD><STRONG>GetWeb mirroring software</STRONG> : <A HREF="node13.html#458">8.5</A><DD><STRONG>GIF file format</STRONG><DL><DD><STRONG>compared to JPEG</STRONG> : <A HREF="node86.html#13626">17.7</A><DD><STRONG>for animations</STRONG> : <A HREF="node80.html#13118">17.1</A><DD><STRONG>saving image to</STRONG> : <A HREF="node80.html#13166">17.1.3</A></DL><DD><STRONG>GIMP (Gnu Image Manipulation Program)</STRONG><DL><DD><STRONG>history of</STRONG> : <A HREF="node14.html#475">8.6</A><DD><STRONG>native file format (XCF)</STRONG> : <A HREF="node17.html#1051">9.2</A><DD><STRONG>newsgroup</STRONG> : <A HREF="node88.html#14358">19</A><DD><STRONG>online resources</STRONG> : <A HREF="node88.html#14347">19</A><DD><STRONG>performance optimization</STRONG> : <A HREF="node12.html#366">8.4</A><DD><STRONG>Web site</STRONG> : <A HREF="node88.html#14350">19</A></DL><DD><STRONG>Glass Tile filter</STRONG> : <A HREF="node45.html#5688">12.3.5</A><DD><STRONG>Gradient tool</STRONG> : <A HREF="node11.html#351">8.3</A> | <A HREF="node73.html#11825">16.2</A> | <A HREF="node89.html#14400">20</A><DD><STRONG>gradient vectors</STRONG> : <A HREF="node74.html#11932">16.3</A><DD><STRONG>gradients</STRONG><DL><DD><STRONG>Bi-Linear</STRONG> : <A HREF="node73.html#11844">16.2</A><DD><STRONG>Chiseled Text project</STRONG> : <A HREF="node78.html#12319">16.7</A><DD><STRONG>Conical (symmetric)</STRONG> : <A HREF="node73.html#11838">16.2</A><DD><STRONG>Destination Saturn project</STRONG> : <A HREF="node68.html#10633">15.3</A><DD><STRONG>editing masks</STRONG> : <A HREF="node45.html#5503">12.3.3</A><DD><STRONG>Panoramas project</STRONG> : <A HREF="node70.html#10941">15.5.3</A><DD><STRONG>rendering techniques</STRONG> : <A HREF="node73.html#11826">16.2</A><DD><STRONG>Shapeburst</STRONG> : <A HREF="node73.html#11841">16.2</A></DL><DD><STRONG>Gradients dialog</STRONG> : <A HREF="node16.html#982">9.1.4</A> | <A HREF="node89.html#14515">20</A><DD><STRONG>Graphics Interchange Format</STRONG> : <A HREF="node80.html#13120">17.1.1</A><DD><STRONG>grays and the neutral axis</STRONG> : <A HREF="node50.html#7022">13.1</A><DD><STRONG>grayscale</STRONG><DL><DD><STRONG>converting to</STRONG> : <A HREF="node54.html#7139">13.5</A></DL><DD><STRONG>Grayscale function</STRONG> : <A HREF="node19.html#1081">9.4</A> | <A HREF="node54.html#7150">13.5</A> | <A HREF="node89.html#14504">20</A><DD><STRONG>grid lines (Transform tool)</STRONG> : <A HREF="node32.html#2411">10.6.5.1</A><DD><STRONG>Grow function</STRONG> : <A HREF="node38.html#3703">11.3.8</A><DD><STRONG>growing selections</STRONG> : <A HREF="node38.html#3704">11.3.8</A><DD><STRONG>guides</STRONG><DL><DD><STRONG>aligning layers with</STRONG> : <A HREF="node32.html#2147">10.6.1.2</A><DD><STRONG>positioning selections with</STRONG> : <A HREF="node40.html#4038">11.5.4</A></DL><DD><STRONG>help browser</STRONG> : <A HREF="node24.html#1259">9.9</A><DD><STRONG>highlights</STRONG><DL><DD><STRONG>creating with the Screen blending mode</STRONG> : <A HREF="node57.html#7589">13.8.2</A><DD><STRONG>finding</STRONG> : <A HREF="node61.html#9000">14.2.3</A><DD><STRONG>tonal range</STRONG> : <A HREF="node60.html#8765">14.1.1</A></DL><DD><STRONG>histogram (Levels tool)</STRONG> : <A HREF="node60.html#8774">14.1.1</A><DD><STRONG>history of the GIMP</STRONG> : <A HREF="node14.html#476">8.6</A><DD><STRONG>Hollywood branch of the GIMP</STRONG> : <A HREF="node28.html#1942">10.2</A><DD><STRONG>HSV colorspace</STRONG> : <A HREF="node51.html#7026">13.2</A><DD><STRONG>hue</STRONG> : <A HREF="node51.html#7028">13.2</A> | <A HREF="node51.html#7055">13.2</A> | <A HREF="node52.html#7102">13.3</A><DD><STRONG>Hue blending mode</STRONG> : <A HREF="node55.html#7428">13.6.5</A><DD><STRONG>Hue-Saturation tool</STRONG> : <A HREF="node61.html#9175">14.2.7.3</A><DD><STRONG>Image menu</STRONG> : <A HREF="node11.html#279">8.3</A> | <A HREF="node16.html#896">9.1.2</A> | <A HREF="node27.html#1915">10.1.1</A><DD><STRONG>Image Menu Functions, keyboard shortcuts</STRONG> : <A HREF="node89.html#14499">20</A><DD><STRONG>image window</STRONG> : <A HREF="node16.html#863">9.1.2</A><DD><STRONG>ImageMap plug-in</STRONG> : <A HREF="node81.html#13304">17.2</A><DD><STRONG>images</STRONG><DL><DD><STRONG>animations</STRONG> : <A HREF="node80.html#13122">17.1.1</A><DD><STRONG>blurring</STRONG> : <A HREF="node75.html#12047">16.4</A><DD><STRONG>clickable image maps</STRONG> : <A HREF="node81.html#13300">17.2</A><DD><STRONG>combining</STRONG> : <A HREF="node30.html#2008">10.4</A><DD><STRONG>compositing</STRONG> : <A HREF="node65.html#10367">15</A><DD><STRONG>copying and pasting</STRONG> : <A HREF="node30.html#2011">10.4</A><DD><STRONG>creating new</STRONG> : <A HREF="node18.html#1060">9.3</A><DD><STRONG>cropping</STRONG> : <A HREF="node32.html#2237">10.6.2.2</A> | <A HREF="node70.html#10971">15.5.4</A><DD><STRONG>enhancing</STRONG> : <A HREF="node59.html#8752">14</A><DD><STRONG>loading</STRONG> : <A HREF="node17.html#1005">9.2</A><DD><STRONG>on Web pages</STRONG> : <A HREF="node86.html#13628">17.7</A><DD><STRONG>rendering</STRONG> : <A HREF="node71.html#11762">16</A><DD><STRONG>resizing</STRONG> : <A HREF="node32.html#2214">10.6.2.2</A><DD><STRONG>resolution</STRONG> : <A HREF="node18.html#1074">9.3</A><DD><STRONG>rotating</STRONG> : <A HREF="node32.html#2359">10.6.4</A><DD><STRONG>saving</STRONG> : <A HREF="node17.html#1007">9.2</A><DD><STRONG>scaling</STRONG> : <A HREF="node32.html#2195">10.6.2.1</A><DD><STRONG>sharpening</STRONG> : <A HREF="node63.html#9260">14.4.1</A><DD><STRONG>sources for</STRONG> : <A HREF="node13.html#448">8.5</A><DD><STRONG>touchup</STRONG> : <A HREF="node59.html#8751">14</A><DD><STRONG>zoomed</STRONG> : <A HREF="node23.html#1190">9.8.1</A></DL><DD><STRONG>Import Path function</STRONG> : <A HREF="node39.html#3926">11.4.3</A><DD><STRONG>importing layers</STRONG> : <A HREF="node30.html#2010">10.4</A><DD><STRONG>Indexed Color Conversion dialog</STRONG> : <A HREF="node80.html#13173">17.1.3</A><DD><STRONG>Indexed format</STRONG><DL><DD><STRONG>converting animations to</STRONG> : <A HREF="node80.html#13127">17.1.2</A><DD><STRONG>for Web page colors</STRONG> : <A HREF="node84.html#13532">17.5.3</A></DL><DD><STRONG>Indexed function</STRONG> : <A HREF="node19.html#1082">9.4</A> | <A HREF="node80.html#13170">17.1.3</A> | <A HREF="node84.html#13542">17.5.3</A> | <A HREF="node89.html#14505">20</A><DD><STRONG>indexed images and semi-transparency</STRONG> : <A HREF="node85.html#13581">17.6</A><DD><STRONG>Info Window dialog</STRONG> : <A HREF="node16.html#883">9.1.2</A> | <A HREF="node61.html#8987">14.2.2</A> | <A HREF="node89.html#14434">20</A><DD><STRONG>Ink Pen tool</STRONG> : <A HREF="node11.html#336">8.3</A> | <A HREF="node45.html#5443">12.3.1</A> | <A HREF="node89.html#14415">20</A><DD><STRONG>input control slider</STRONG> : <A HREF="node60.html#8813">14.1.2</A><DD><STRONG>input value domain</STRONG> : <A HREF="node60.html#8808">14.1.2</A> | <A HREF="node61.html#8873">14.2.1</A><DD><STRONG>inset</STRONG> : <A HREF="node77.html#12240">16.6</A><DD><STRONG>Intelligent Scissors</STRONG> : <A HREF="node11.html#348">8.3</A> | <A HREF="node36.html#3362">11.1.1</A> | <A HREF="node36.html#3508">11.1.1.5</A> | <A HREF="node40.html#3977">11.5.1</A> | <A HREF="node89.html#14416">20</A><DD><STRONG>interpolation</STRONG> : <A HREF="node32.html#2292">10.6.2.3</A><DD><STRONG>Intersect With Selection function</STRONG> : <A HREF="node43.html#5285">12.1.5</A><DD><STRONG>intersecting selections</STRONG> : <A HREF="node37.html#3621">11.2.3</A><DD><STRONG>Invert function</STRONG> : <A HREF="node38.html#3650">11.3.1</A> | <A HREF="node47.html#5754">12.5.1</A> | <A HREF="node89.html#14455">20</A><DD><STRONG>inverting</STRONG><DL><DD><STRONG>colors</STRONG> : <A HREF="node47.html#5753">12.5.1</A><DD><STRONG>selections</STRONG> : <A HREF="node38.html#3651">11.3.1</A></DL><DD><STRONG>Iwarp filter</STRONG> : <A HREF="node80.html#13277">17.1.6</A><DD><STRONG>JPEG file format, compared to GIF</STRONG> : <A HREF="node86.html#13627">17.7</A><DD><STRONG>keyboard shortcuts</STRONG><DL><DD><STRONG>changing</STRONG> : <A HREF="node89.html#14385">20</A><DD><STRONG>list of default</STRONG> : <A HREF="node89.html#14382">20</A></DL><DD><STRONG>Lasso Select tool</STRONG> : <A HREF="node11.html#347">8.3</A> | <A HREF="node36.html#3399">11.1.1.2</A> | <A HREF="node40.html#3950">11.5.1</A> | <A HREF="node47.html#5882">12.5.3.1</A> | <A HREF="node89.html#14412">20</A><DD><STRONG>Layer Boundary Size</STRONG> : <A HREF="node32.html#2300">10.6.2.4</A><DD><STRONG>layer masks</STRONG> : <A HREF="node44.html#5337">12.2</A><DL><DD><STRONG>active</STRONG> : <A HREF="node44.html#5377">12.2.2</A><DD><STRONG>Call of the Mermaid project</STRONG> : <A HREF="node69.html#10752">15.4</A><DD><STRONG>converting to selections/alpha channels/channel masks</STRONG> : <A HREF="node46.html#5707">12.4</A><DD><STRONG>creating</STRONG> : <A HREF="node44.html#5342">12.2.1</A><DD><STRONG>Destination Saturn project</STRONG> : <A HREF="node68.html#10631">15.3</A><DD><STRONG>editing</STRONG> : <A HREF="node44.html#5374">12.2.2</A><DD><STRONG>Fish on Holiday project</STRONG> : <A HREF="node66.html#10444">15.1</A><DD><STRONG>for refining selections</STRONG> : <A HREF="node47.html#5723">12.5.1</A><DD><STRONG>Panoramas project</STRONG> : <A HREF="node70.html#10937">15.5.2</A><DD><STRONG>tools for modifying</STRONG> : <A HREF="node45.html#5428">12.3</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node48.html#5990">12.6</A><DD><STRONG>visibility</STRONG> : <A HREF="node44.html#5406">12.2.2</A></DL><DD><STRONG>Layer to Bottom function</STRONG> : <A HREF="node29.html#1993">10.3.3</A><DD><STRONG>Layer to Top function</STRONG> : <A HREF="node29.html#1983">10.3.2</A><DD><STRONG>layers</STRONG> : <A HREF="node26.html#1853">10</A><DL><DD><STRONG>active</STRONG> : <A HREF="node27.html#1912">10.1.1</A><DD><STRONG>aligning with guides</STRONG> : <A HREF="node32.html#2148">10.6.1.2</A><DD><STRONG>and blending modes</STRONG> : <A HREF="node55.html#7180">13.6</A><DD><STRONG>as animation frames</STRONG> : <A HREF="node80.html#13125">17.1.2</A><DD><STRONG>creating</STRONG> : <A HREF="node29.html#1969">10.3.1</A><DD><STRONG>deleting</STRONG> : <A HREF="node29.html#2001">10.3.5</A><DD><STRONG>duplicating</STRONG> : <A HREF="node29.html#1996">10.3.4</A><DD><STRONG>flattening</STRONG> : <A HREF="node33.html#2495">10.7.2</A><DD><STRONG>flipping</STRONG> : <A HREF="node32.html#2341">10.6.3</A><DD><STRONG>floats</STRONG> : <A HREF="node31.html#2101">10.5</A><DD><STRONG>importing/exporting</STRONG> : <A HREF="node30.html#2012">10.4</A><DD><STRONG>Layers dialog</STRONG> : <A HREF="node27.html#1864">10.1</A><DD><STRONG>Layers menu</STRONG> : <A HREF="node27.html#1922">10.1.2</A><DD><STRONG>lowering</STRONG> : <A HREF="node29.html#1988">10.3.3</A><DD><STRONG>merging</STRONG> : <A HREF="node33.html#2480">10.7.1</A><DD><STRONG>moving</STRONG> : <A HREF="node32.html#2139">10.6.1.1</A><DD><STRONG>perspective transforming</STRONG> : <A HREF="node32.html#2457">10.6.5.4</A><DD><STRONG>positioning</STRONG> : <A HREF="node32.html#2135">10.6.1</A><DD><STRONG>raising</STRONG> : <A HREF="node29.html#1977">10.3.2</A><DD><STRONG>relationship to channels</STRONG> : <A HREF="node28.html#1934">10.2</A><DD><STRONG>relationship to images</STRONG> : <A HREF="node27.html#1857">10.1</A><DD><STRONG>resizing</STRONG> : <A HREF="node32.html#2297">10.6.2.4</A><DD><STRONG>rotating</STRONG> : <A HREF="node32.html#2360">10.6.4</A> | <A HREF="node32.html#2391">10.6.5.1</A><DD><STRONG>scaling</STRONG> : <A HREF="node32.html#2268">10.6.2.3</A> | <A HREF="node32.html#2427">10.6.5.2</A><DD><STRONG>shearing</STRONG> : <A HREF="node32.html#2445">10.6.5.3</A><DD><STRONG>transforming</STRONG> : <A HREF="node32.html#2376">10.6.5</A><DD><STRONG>transparency/opacity</STRONG> : <A HREF="node56.html#7489">13.7</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node34.html#2505">10.8</A></DL><DD><STRONG>Layers &amp; Channels dialog</STRONG> : <A HREF="node16.html#914">9.1.3</A> | <A HREF="node27.html#1881">10.1.1</A> | <A HREF="node89.html#14516">20</A><DD><STRONG>Layers dialog</STRONG> : <A HREF="node16.html#924">9.1.3</A> | <A HREF="node27.html#1865">10.1</A> | <A HREF="node27.html#1879">10.1.1</A><DD><STRONG>Layers menu</STRONG> : <A HREF="node27.html#1923">10.1.2</A><DD><STRONG>Layers Menu Functions, keyboard shortcuts</STRONG> : <A HREF="node89.html#14491">20</A><DD><STRONG>Layers Palette</STRONG> : <A HREF="node27.html#1900">10.1.1</A><DD><STRONG>legal issues, copyright of digital images</STRONG> : <A HREF="node13.html#450">8.5</A><DD><STRONG>Levels tool</STRONG> : <A HREF="node60.html#8795">14.1.2</A><DD><STRONG>light source</STRONG><DL><DD><STRONG>ambient</STRONG> : <A HREF="node51.html#7041">13.2</A><DD><STRONG>ambient for Bump map filter</STRONG> : <A HREF="node74.html#12004">16.3</A><DD><STRONG>and shadows</STRONG> : <A HREF="node75.html#12017">16.4</A><DD><STRONG>Emboss filter</STRONG> : <A HREF="node74.html#11922">16.3</A></DL><DD><STRONG>Lighten Only blending mode</STRONG> : <A HREF="node45.html#5589">12.3.3</A> | <A HREF="node55.html#7405">13.6.4</A><DD><STRONG>lightness</STRONG> : <A HREF="node52.html#7082">13.3</A><DD><STRONG>Load Image dialog</STRONG> : <A HREF="node17.html#1016">9.2</A><DD><STRONG>loading images</STRONG> : <A HREF="node17.html#1006">9.2</A><DD><STRONG>low color systems, Web-safe color palettes</STRONG> : <A HREF="node84.html#13506">17.5.2</A><DD><STRONG>Lower Layer function</STRONG> : <A HREF="node29.html#1991">10.3.3</A><DD><STRONG>lowering layers</STRONG> : <A HREF="node29.html#1987">10.3.3</A> | <A HREF="node29.html#1989">10.3.3</A><DD><STRONG>luminance</STRONG> : <A HREF="node52.html#7079">13.3</A><DD><STRONG>Magic Wand tool</STRONG> : <A HREF="node11.html#330">8.3</A> | <A HREF="node36.html#3423">11.1.1.3</A> | <A HREF="node40.html#3972">11.5.1</A> | <A HREF="node40.html#3984">11.5.2</A> | <A HREF="node47.html#5929">12.5.3.2</A> | <A HREF="node89.html#14414">20</A><DD><STRONG>Make Seamless plug-in</STRONG> : <A HREF="node83.html#13426">17.4</A><DD><STRONG>man pages (GIMP)</STRONG> : <A HREF="node88.html#14365">19</A><DD><STRONG>Manipulate Paths tool</STRONG> : <A HREF="node11.html#355">8.3</A><DD><STRONG>Marching Ants (selections)</STRONG> : <A HREF="node30.html#2053">10.4</A> | <A HREF="node36.html#3380">11.1.1.1</A> | <A HREF="node41.html#4059">11.6</A><DD><STRONG>Mask To Selection function</STRONG> : <A HREF="node44.html#5423">12.2.2</A><DD><STRONG>masks</STRONG> : <A HREF="node42.html#5171">12</A><DL><DD><STRONG>channel masks</STRONG> : <A HREF="node43.html#5178">12.1</A><DD><STRONG>converting to selections/alpha channels</STRONG> : <A HREF="node46.html#5710">12.4</A><DD><STRONG>layer masks</STRONG> : <A HREF="node44.html#5338">12.2</A><DD><STRONG>natural mask, finding</STRONG> : <A HREF="node47.html#5826">12.5.3</A><DD><STRONG>refining selections</STRONG> : <A HREF="node47.html#5724">12.5.1</A><DD><STRONG>tools for modifying</STRONG> : <A HREF="node45.html#5429">12.3</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node48.html#5975">12.6</A></DL><DD><STRONG>Measure tool</STRONG> : <A HREF="node11.html#346">8.3</A> | <A HREF="node32.html#2282">10.6.2.3</A> | <A HREF="node32.html#2424">10.6.5.1</A> | <A HREF="node32.html#2442">10.6.5.2</A> | <A HREF="node67.html#10500">15.2</A> | <A HREF="node70.html#10914">15.5.1</A><DD><STRONG>memory management</STRONG> : <A HREF="node12.html#373">8.4.1</A><DD><STRONG>menus, opening as separate windows</STRONG> : <A HREF="node16.html#899">9.1.2</A><DD><STRONG>Merge Down function</STRONG> : <A HREF="node33.html#2488">10.7.1</A><DD><STRONG>Merge Visible Layers function</STRONG> : <A HREF="node33.html#2483">10.7.1</A><DD><STRONG>merging layers</STRONG> : <A HREF="node33.html#2481">10.7.1</A><DD><STRONG>Mermaid project</STRONG> : <A HREF="node69.html#10707">15.4</A><DD><STRONG>midtones</STRONG><DL><DD><STRONG>finding</STRONG> : <A HREF="node61.html#9001">14.2.3</A></DL><DD><STRONG>Mode menu</STRONG> : <A HREF="node27.html#1916">10.1.1</A> | <A HREF="node45.html#5538">12.3.3</A><DD><STRONG>mouse cursor position</STRONG> : <A HREF="node11.html#282">8.3</A><DD><STRONG>Move tool</STRONG> : <A HREF="node11.html#331">8.3</A> | <A HREF="node27.html#1908">10.1.1</A> | <A HREF="node30.html#2056">10.4</A> | <A HREF="node31.html#2106">10.5.1</A> | <A HREF="node32.html#2142">10.6.1.1</A> | <A HREF="node66.html#10428">15.1</A> | <A HREF="node67.html#10496">15.2</A> | <A HREF="node68.html#10620">15.3</A> | <A HREF="node69.html#10790">15.4</A> | <A HREF="node70.html#10890">15.5</A> | <A HREF="node89.html#14418">20</A><DD><STRONG>moving</STRONG><DL><DD><STRONG>layers</STRONG> : <A HREF="node32.html#2140">10.6.1.1</A><DD><STRONG>selection boundaries</STRONG> : <A HREF="node37.html#3636">11.2.5</A><DD><STRONG>selections</STRONG> : <A HREF="node30.html#2057">10.4</A></DL><DD><STRONG>moving dashes (Marching Ants)</STRONG> : <A HREF="node30.html#2054">10.4</A><DD><STRONG>multiple files, loading</STRONG> : <A HREF="node17.html#1027">9.2</A><DD><STRONG>Multiply (Burn) blending mode</STRONG> : <A HREF="node45.html#5560">12.3.3</A> | <A HREF="node55.html#7324">13.6.3</A> | <A HREF="node57.html#7562">13.8.1</A> | <A HREF="node57.html#7607">13.8.2</A><DD><STRONG>name completion feature (Load Image dialog)</STRONG> : <A HREF="node17.html#1029">9.2</A><DD><STRONG>named buffers</STRONG> : <A HREF="node22.html#1162">9.7</A><DD><STRONG>natural mask, finding</STRONG> : <A HREF="node47.html#5825">12.5.3</A><DD><STRONG>Navigation Window</STRONG> : <A HREF="node23.html#1220">9.8.1</A> | <A HREF="node40.html#4032">11.5.3</A> | <A HREF="node89.html#14436">20</A><DD><STRONG>neutral axis</STRONG> : <A HREF="node50.html#7021">13.1</A><DD><STRONG>neutrals, balancing</STRONG> : <A HREF="node61.html#8935">14.2.2</A><DD><STRONG>New function</STRONG> : <A HREF="node18.html#1070">9.3</A> | <A HREF="node89.html#14466">20</A><DD><STRONG>New Image dialog</STRONG> : <A HREF="node18.html#1068">9.3</A><DD><STRONG>New Layer function</STRONG> : <A HREF="node29.html#1971">10.3.1</A><DD><STRONG>New Point mode button (Bezier paths)</STRONG> : <A HREF="node39.html#3905">11.4.2</A><DD><STRONG>New View function</STRONG> : <A HREF="node23.html#1238">9.8.2</A><DD><STRONG>newsgroup (GIMP)</STRONG> : <A HREF="node88.html#14359">19</A><DD><STRONG>noise, amplification</STRONG> : <A HREF="node63.html#9354">14.4.4</A><DD><STRONG>None function</STRONG> : <A HREF="node38.html#3664">11.3.3</A> | <A HREF="node89.html#14456">20</A><DD><STRONG>Normal blending mode</STRONG> : <A HREF="node55.html#7223">13.6.1</A><DD><STRONG>Offset function</STRONG> : <A HREF="node75.html#12029">16.4</A> | <A HREF="node75.html#12054">16.4</A> | <A HREF="node75.html#12090">16.4</A> | <A HREF="node76.html#12192">16.5</A> | <A HREF="node77.html#12276">16.6</A> | <A HREF="node78.html#12317">16.7</A> | <A HREF="node89.html#14503">20</A><DD><STRONG>online resources for the GIMP</STRONG> : <A HREF="node88.html#14348">19</A><DD><STRONG>opacity</STRONG> : <A HREF="node56.html#7491">13.7</A><DL><DD><STRONG>channel masks, setting</STRONG> : <A HREF="node43.html#5241">12.1.4</A><DD><STRONG>editing layers masks</STRONG> : <A HREF="node45.html#5613">12.3.4</A></DL><DD><STRONG>Opacity slider</STRONG> : <A HREF="node27.html#1918">10.1.1</A><DD><STRONG>Open function</STRONG> : <A HREF="node17.html#1018">9.2</A> | <A HREF="node89.html#14467">20</A><DD><STRONG>opening menus as separate windows</STRONG> : <A HREF="node16.html#900">9.1.2</A><DD><STRONG>optimizing performance</STRONG> : <A HREF="node12.html#367">8.4</A><DL><DD><STRONG>animations</STRONG> : <A HREF="node80.html#13268">17.1.5</A><DD><STRONG>color depth</STRONG> : <A HREF="node12.html#380">8.4.2</A><DD><STRONG>fonts</STRONG> : <A HREF="node12.html#413">8.4.4</A><DD><STRONG>RAM</STRONG> : <A HREF="node12.html#374">8.4.1</A><DD><STRONG>tile cache size</STRONG> : <A HREF="node12.html#399">8.4.3</A><DD><STRONG>video RAM</STRONG> : <A HREF="node12.html#381">8.4.2</A></DL><DD><STRONG>output control slider</STRONG> : <A HREF="node60.html#8815">14.1.2</A><DD><STRONG>output value range</STRONG> : <A HREF="node61.html#8875">14.2.1</A><DD><STRONG>Overlay blending mode</STRONG> : <A HREF="node55.html#7327">13.6.3</A><DD><STRONG>Paintbrush tool</STRONG> : <A HREF="node11.html#343">8.3</A> | <A HREF="node45.html#5435">12.3.1</A> | <A HREF="node47.html#5891">12.5.3.1</A> | <A HREF="node89.html#14419">20</A><DD><STRONG>painting tools, blending modes</STRONG> : <A HREF="node55.html#7188">13.6</A><DD><STRONG>painting tools, for editing masks</STRONG> : <A HREF="node45.html#5433">12.3.1</A><DD><STRONG>palettes</STRONG><DL><DD><STRONG>Channels Palette</STRONG> : <A HREF="node43.html#5192">12.1.1</A><DD><STRONG>Color Palette dialog</STRONG> : <A HREF="node16.html#996">9.1.4</A><DD><STRONG>Layers Palette</STRONG> : <A HREF="node27.html#1901">10.1.1</A><DD><STRONG>Paths Palette</STRONG> : <A HREF="node39.html#3869">11.4.1</A><DD><STRONG>Visibone2 color palette</STRONG> : <A HREF="node84.html#13523">17.5.2</A><DD><STRONG>Web-safe color palette</STRONG> : <A HREF="node84.html#13513">17.5.2</A></DL><DD><STRONG>panner window</STRONG> : <A HREF="node16.html#905">9.1.2</A><DD><STRONG>panning in zoomed images</STRONG> : <A HREF="node23.html#1218">9.8.1</A><DD><STRONG>Panoramas project</STRONG> : <A HREF="node70.html#10877">15.5</A><DD><STRONG>panoramas, creating</STRONG> : <A HREF="node70.html#10880">15.5</A><DL><DD><STRONG>color and brightness corrections</STRONG> : <A HREF="node70.html#10919">15.5.2</A><DD><STRONG>cropping and merging</STRONG> : <A HREF="node70.html#10968">15.5.4</A><DD><STRONG>geometric distortion correction</STRONG> : <A HREF="node70.html#10896">15.5.1</A><DD><STRONG>gradient blending</STRONG> : <A HREF="node70.html#10942">15.5.3</A><DD><STRONG>repairing with the Clone tool</STRONG> : <A HREF="node70.html#10981">15.5.4</A></DL><DD><STRONG>partially selected pixels</STRONG> : <A HREF="node36.html#3517">11.1.2.1</A><DL><DD><STRONG>channel masks</STRONG> : <A HREF="node43.html#5217">12.1.2</A><DD><STRONG>feathered selections</STRONG> : <A HREF="node36.html#3560">11.1.2.2</A><DD><STRONG>sharpening</STRONG> : <A HREF="node38.html#3686">11.3.6</A></DL><DD><STRONG>Paste As New function</STRONG> : <A HREF="node22.html#1158">9.7</A><DD><STRONG>Paste function</STRONG> : <A HREF="node22.html#1146">9.7</A> | <A HREF="node30.html#2020">10.4</A> | <A HREF="node38.html#3830">11.3.14</A> | <A HREF="node89.html#14483">20</A><DD><STRONG>Paste Into</STRONG> : <A HREF="node22.html#1154">9.7</A><DD><STRONG>Paste Named</STRONG> : <A HREF="node22.html#1177">9.7</A> | <A HREF="node89.html#14484">20</A><DD><STRONG>Paste Path function</STRONG> : <A HREF="node39.html#3924">11.4.3</A><DD><STRONG>pasting</STRONG><DL><DD><STRONG>layers</STRONG> : <A HREF="node30.html#2013">10.4</A><DD><STRONG>selections</STRONG> : <A HREF="node38.html#3822">11.3.14</A></DL><DD><STRONG>PAT file format</STRONG> : <A HREF="node17.html#1054">9.2</A><DD><STRONG>Path Transform Lock</STRONG> : <A HREF="node32.html#2289">10.6.2.3</A> | <A HREF="node32.html#2472">10.6.5.4</A> | <A HREF="node39.html#3884">11.4.1</A><DD><STRONG>Paths dialog</STRONG> : <A HREF="node16.html#912">9.1.3</A> | <A HREF="node39.html#3858">11.4</A><DL><DD><STRONG>button bar</STRONG> : <A HREF="node39.html#3922">11.4.3</A><DD><STRONG>Control Point mode buttons</STRONG> : <A HREF="node39.html#3903">11.4.2</A><DD><STRONG>Paths menu</STRONG> : <A HREF="node39.html#3913">11.4.3</A><DD><STRONG>Paths Palette</STRONG> : <A HREF="node39.html#3870">11.4.1</A></DL><DD><STRONG>Paths menu</STRONG> : <A HREF="node39.html#3914">11.4.3</A><DD><STRONG>Paths Palette</STRONG> : <A HREF="node39.html#3871">11.4.1</A><DD><STRONG>Pattern Selection dialog</STRONG> : <A HREF="node16.html#972">9.1.4</A> | <A HREF="node72.html#11786">16.1</A> | <A HREF="node82.html#13409">17.3</A> | <A HREF="node89.html#14518">20</A><DD><STRONG>Pencil tool</STRONG> : <A HREF="node11.html#334">8.3</A> | <A HREF="node45.html#5437">12.3.1</A> | <A HREF="node89.html#14420">20</A><DD><STRONG>perfectly square/round selections</STRONG> : <A HREF="node37.html#3628">11.2.4</A><DD><STRONG>performance optimization</STRONG> : <A HREF="node12.html#368">8.4</A><DL><DD><STRONG>animations</STRONG> : <A HREF="node80.html#13269">17.1.5</A><DD><STRONG>color depth</STRONG> : <A HREF="node12.html#383">8.4.2</A><DD><STRONG>fonts</STRONG> : <A HREF="node12.html#414">8.4.4</A><DD><STRONG>RAM</STRONG> : <A HREF="node12.html#375">8.4.1</A><DD><STRONG>tile cache size</STRONG> : <A HREF="node12.html#400">8.4.3</A><DD><STRONG>video RAM</STRONG> : <A HREF="node12.html#382">8.4.2</A></DL><DD><STRONG>Perspective option (Transform tool)</STRONG> : <A HREF="node32.html#2458">10.6.5.4</A><DD><STRONG>Perspective Transform dialog</STRONG> : <A HREF="node32.html#2469">10.6.5.4</A><DD><STRONG>perturbation technique</STRONG> : <A HREF="node61.html#9037">14.2.5</A><DL><DD><STRONG>Call of the Mermaid project</STRONG> : <A HREF="node69.html#10838">15.4</A><DD><STRONG>case study</STRONG> : <A HREF="node64.html#9411">14.5</A><DD><STRONG>Through the Looking Glass project</STRONG> : <A HREF="node67.html#10574">15.2</A></DL><DD><STRONG>photo touchup</STRONG> : <A HREF="node59.html#8749">14</A><DL><DD><STRONG>case study</STRONG> : <A HREF="node64.html#9357">14.5</A><DD><STRONG>Clone tool</STRONG> : <A HREF="node62.html#9211">14.3</A><DD><STRONG>improving tonal range</STRONG> : <A HREF="node60.html#8761">14.1</A><DD><STRONG>removing color casts</STRONG> : <A HREF="node61.html#8854">14.2</A><DD><STRONG>sharpening images</STRONG> : <A HREF="node63.html#9261">14.4.1</A></DL><DD><STRONG>photo-montage</STRONG> : <A HREF="node65.html#10368">15</A><DD><STRONG>pixels</STRONG> : <A HREF="node26.html#1854">10</A><DL><DD><STRONG>interpolation of values</STRONG> : <A HREF="node32.html#2293">10.6.2.3</A><DD><STRONG>remapping value ranges</STRONG> : <A HREF="node61.html#8924">14.2.1</A></DL><DD><STRONG>plug-ins</STRONG><DL><DD><STRONG>Checkerboard</STRONG> : <A HREF="node84.html#13487">17.5.1</A><DD><STRONG>Glass Tile</STRONG> : <A HREF="node45.html#5689">12.3.5</A><DD><STRONG>ImageMap</STRONG> : <A HREF="node81.html#13301">17.2</A><DD><STRONG>Make Seamless</STRONG> : <A HREF="node83.html#13427">17.4</A><DD><STRONG>Semi-Flatten</STRONG> : <A HREF="node85.html#13588">17.6</A><DD><STRONG>Spread</STRONG> : <A HREF="node45.html#5700">12.3.5</A><DD><STRONG>Tile</STRONG> : <A HREF="node83.html#13439">17.4</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node25.html#1276">9.10</A><DD><STRONG>Waves</STRONG> : <A HREF="node45.html#5676">12.3.5</A></DL><DD><STRONG>positioning</STRONG><DL><DD><STRONG>layers</STRONG> : <A HREF="node32.html#2136">10.6.1</A> | <A HREF="node66.html#10426">15.1</A><DD><STRONG>selections</STRONG> : <A HREF="node40.html#4039">11.5.4</A></DL><DD><STRONG>posterization (color distortion)</STRONG> : <A HREF="node84.html#13464">17.5.1</A><DD><STRONG>Preferences dialog</STRONG> : <A HREF="node20.html#1097">9.5</A><DD><STRONG>primary colors</STRONG> : <A HREF="node49.html#6992">13</A><DD><STRONG>project</STRONG><DL><DD><STRONG>Panoramas</STRONG> : <A HREF="node70.html#10878">15.5</A></DL><DD><STRONG>projects</STRONG><DL><DD><STRONG>Call of the Mermaid</STRONG> : <A HREF="node69.html#10708">15.4</A><DD><STRONG>Carved Stencil</STRONG> : <A HREF="node77.html#12223">16.6</A><DD><STRONG>Chiseled Text</STRONG> : <A HREF="node78.html#12296">16.7</A><DD><STRONG>Destination Saturn</STRONG> : <A HREF="node68.html#10598">15.3</A><DD><STRONG>Drop Shadow and Punchout</STRONG> : <A HREF="node76.html#12148">16.5</A><DD><STRONG>Fish on Holiday</STRONG> : <A HREF="node66.html#10373">15.1</A><DD><STRONG>Through the Looking Glass</STRONG> : <A HREF="node67.html#10469">15.2</A></DL><DD><STRONG>punchouts</STRONG><DL><DD><STRONG>Carved Stencil project</STRONG> : <A HREF="node77.html#12224">16.6</A><DD><STRONG>creating</STRONG> : <A HREF="node75.html#12074">16.4</A><DD><STRONG>drop shadow and punchout project</STRONG> : <A HREF="node76.html#12150">16.5</A></DL><DD><STRONG>Quick Mask</STRONG> : <A HREF="node16.html#909">9.1.2</A> | <A HREF="node47.html#5799">12.5.2</A><DD><STRONG>Quit function</STRONG> : <A HREF="node89.html#14468">20</A><DD><STRONG>Raise Layer function</STRONG> : <A HREF="node29.html#1980">10.3.2</A><DD><STRONG>raising layers</STRONG> : <A HREF="node29.html#1976">10.3.2</A> | <A HREF="node29.html#1978">10.3.2</A><DD><STRONG>RAM requirements</STRONG> : <A HREF="node12.html#376">8.4.1</A><DD><STRONG>Re-show last function</STRONG> : <A HREF="node21.html#1130">9.6</A> | <A HREF="node63.html#9314">14.4.3</A> | <A HREF="node89.html#14526">20</A><DD><STRONG>Rectangle Select tool</STRONG> : <A HREF="node11.html#329">8.3</A> | <A HREF="node32.html#2316">10.6.2.4</A> | <A HREF="node36.html#3367">11.1.1.1</A> | <A HREF="node40.html#3957">11.5.1</A> | <A HREF="node89.html#14421">20</A><DD><STRONG>Redo function</STRONG> : <A HREF="node20.html#1092">9.5</A> | <A HREF="node89.html#14485">20</A><DD><STRONG>remapping pixel value ranges</STRONG> : <A HREF="node61.html#8925">14.2.1</A><DD><STRONG>removing color casts</STRONG> : <A HREF="node61.html#8853">14.2</A> | <A HREF="node61.html#8855">14.2</A><DD><STRONG>removing geometric distortion</STRONG> : <A HREF="node70.html#10897">15.5.1</A><DD><STRONG>removing unwanted parts of images</STRONG> : <A HREF="node62.html#9212">14.3</A><DD><STRONG>rendering images</STRONG> : <A HREF="node71.html#11761">16</A> | <A HREF="node71.html#11763">16</A><DL><DD><STRONG>Bucket Fill tool</STRONG> : <A HREF="node72.html#11770">16.1</A><DD><STRONG>Bump map filter</STRONG> : <A HREF="node74.html#11901">16.3</A><DD><STRONG>Carved Stencil project</STRONG> : <A HREF="node77.html#12225">16.6</A><DD><STRONG>Chiseled Text project</STRONG> : <A HREF="node78.html#12297">16.7</A><DD><STRONG>drop shadow and punchout project</STRONG> : <A HREF="node76.html#12151">16.5</A><DD><STRONG>Emboss filter</STRONG> : <A HREF="node74.html#11902">16.3</A><DD><STRONG>gradients</STRONG> : <A HREF="node73.html#11827">16.2</A><DD><STRONG>shadows</STRONG> : <A HREF="node75.html#12015">16.4</A></DL><DD><STRONG>Repeat last function</STRONG> : <A HREF="node89.html#14527">20</A><DD><STRONG>Replace mode (frame animations)</STRONG> : <A HREF="node80.html#13156">17.1.2</A><DD><STRONG>requirements</STRONG> : <A HREF="node12.html#369">8.4</A><DL><DD><STRONG>fonts</STRONG> : <A HREF="node12.html#415">8.4.4</A><DD><STRONG>RAM</STRONG> : <A HREF="node12.html#377">8.4.1</A><DD><STRONG>video RAM</STRONG> : <A HREF="node12.html#385">8.4.2</A></DL><DD><STRONG>resizing</STRONG><DL><DD><STRONG>selections</STRONG> : <A HREF="node38.html#3695">11.3.7</A></DL><DD><STRONG>resizing images</STRONG> : <A HREF="node32.html#2215">10.6.2.2</A><DD><STRONG>resizing layers</STRONG> : <A HREF="node32.html#2298">10.6.2.4</A><DD><STRONG>resolution, setting</STRONG> : <A HREF="node18.html#1075">9.3</A><DD><STRONG>resources for the GIMP</STRONG> : <A HREF="node88.html#14349">19</A><DD><STRONG>RGB colorspace</STRONG> : <A HREF="node19.html#1079">9.4</A> | <A HREF="node50.html#6999">13.1</A> | <A HREF="node52.html#7063">13.3</A><DD><STRONG>RGB function</STRONG> : <A HREF="node19.html#1080">9.4</A> | <A HREF="node89.html#14506">20</A><DD><STRONG>Rotate function</STRONG> : <A HREF="node32.html#2361">10.6.4</A><DD><STRONG>rotating images</STRONG> : <A HREF="node32.html#2363">10.6.4</A><DD><STRONG>rotating layers</STRONG> : <A HREF="node32.html#2362">10.6.4</A> | <A HREF="node32.html#2392">10.6.5.1</A><DD><STRONG>Rotation Information dialog</STRONG> : <A HREF="node32.html#2409">10.6.5.1</A><DD><STRONG>Sample Merged option (Tool Options dialog)</STRONG> : <A HREF="node36.html#3577">11.1.2.3</A><DD><STRONG>saturation</STRONG> : <A HREF="node51.html#7036">13.2</A> | <A HREF="node51.html#7057">13.2</A> | <A HREF="node52.html#7092">13.3</A><DD><STRONG>Saturation blending mode</STRONG> : <A HREF="node55.html#7429">13.6.5</A><DD><STRONG>Save As function</STRONG> : <A HREF="node17.html#1033">9.2</A> | <A HREF="node80.html#13182">17.1.3</A><DD><STRONG>Save as GIF options dialog</STRONG> : <A HREF="node80.html#13195">17.1.3</A><DD><STRONG>Save function</STRONG> : <A HREF="node89.html#14469">20</A><DD><STRONG>Save Image dialog</STRONG> : <A HREF="node17.html#1036">9.2</A> | <A HREF="node80.html#13184">17.1.3</A><DD><STRONG>Save Options menu, file formats</STRONG> : <A HREF="node17.html#1048">9.2</A><DD><STRONG>Save to Channel function</STRONG> : <A HREF="node38.html#3736">11.3.10</A> | <A HREF="node43.html#5216">12.1.2</A> | <A HREF="node76.html#12172">16.5</A><DD><STRONG>saving</STRONG><DL><DD><STRONG>images</STRONG> : <A HREF="node17.html#1008">9.2</A> | <A HREF="node33.html#2477">10.7</A> | <A HREF="node34.html#2525">10.8</A><DD><STRONG>selections to channel masks</STRONG> : <A HREF="node38.html#3737">11.3.10</A></DL><DD><STRONG>Scale Image dialog</STRONG> : <A HREF="node32.html#2208">10.6.2.1</A><DD><STRONG>Scale Image function</STRONG> : <A HREF="node32.html#2198">10.6.2.1</A><DD><STRONG>Scale Layer function</STRONG> : <A HREF="node32.html#2271">10.6.2.3</A><DD><STRONG>Scaling dialog</STRONG> : <A HREF="node32.html#2436">10.6.5.2</A><DD><STRONG>scaling images</STRONG> : <A HREF="node32.html#2196">10.6.2.1</A><DD><STRONG>Scaling Information dialog</STRONG> : <A HREF="node66.html#10423">15.1</A><DD><STRONG>scaling layers</STRONG> : <A HREF="node32.html#2269">10.6.2.3</A> | <A HREF="node32.html#2428">10.6.5.2</A> | <A HREF="node66.html#10408">15.1</A><DD><STRONG>Screen blending mode</STRONG> : <A HREF="node45.html#5567">12.3.3</A> | <A HREF="node55.html#7326">13.6.3</A><DD><STRONG>Script-Fu</STRONG> : <A HREF="node82.html#13386">17.3</A><DD><STRONG>scripts, type effects</STRONG> : <A HREF="node82.html#13385">17.3</A><DD><STRONG>scroll bars</STRONG> : <A HREF="node16.html#903">9.1.2</A><DD><STRONG>Select Menu Functions, keyboard shortcuts</STRONG> : <A HREF="node89.html#14449">20</A><DD><STRONG>selection tools, for editing masks</STRONG> : <A HREF="node45.html#5472">12.3.2</A><DD><STRONG>selections</STRONG> : <A HREF="node35.html#3329">11</A><DL><DD><STRONG>adding</STRONG> : <A HREF="node37.html#3605">11.2.1</A><DD><STRONG>antialiasing</STRONG> : <A HREF="node36.html#3518">11.1.2.1</A><DD><STRONG>borders</STRONG> : <A HREF="node38.html#3712">11.3.9</A><DD><STRONG>boundaries, moving</STRONG> : <A HREF="node37.html#3637">11.2.5</A><DD><STRONG>By Color function</STRONG> : <A HREF="node38.html#3760">11.3.11</A><DD><STRONG>Call of the Mermaid project</STRONG> : <A HREF="node69.html#10716">15.4</A><DD><STRONG>clip books</STRONG> : <A HREF="node66.html#10378">15.1</A> | <A HREF="node80.html#13222">17.1.4</A> | <A HREF="node80.html#13222">17.1.4</A><DD><STRONG>combining</STRONG> : <A HREF="node37.html#3601">11.2</A><DD><STRONG>combining uses of</STRONG> : <A HREF="node40.html#3982">11.5.2</A><DD><STRONG>converting</STRONG><DD><DL><DD><STRONG>to Bezier Paths</STRONG> : <A HREF="node38.html#3786">11.3.12</A><DD><STRONG>to channel masks</STRONG> : <A HREF="node38.html#3738">11.3.10</A><DD><STRONG>to layer masks</STRONG> : <A HREF="node46.html#5711">12.4</A></DL><DD><STRONG>converting to layer masks/alpha channels/channel masks</STRONG> : <A HREF="node46.html#5708">12.4</A><DD><STRONG>cutting/copying/pasting</STRONG> : <A HREF="node38.html#3823">11.3.14</A><DD><STRONG>deselecting everything</STRONG> : <A HREF="node38.html#3665">11.3.3</A><DD><STRONG>everything</STRONG> : <A HREF="node38.html#3659">11.3.2</A><DD><STRONG>feathering</STRONG> : <A HREF="node36.html#3561">11.1.2.2</A> | <A HREF="node38.html#3679">11.3.5</A><DD><STRONG>floats</STRONG> : <A HREF="node38.html#3671">11.3.4</A><DD><STRONG>growing</STRONG> : <A HREF="node38.html#3705">11.3.8</A><DD><STRONG>guidelines</STRONG> : <A HREF="node40.html#3941">11.5.1</A><DD><STRONG>intersecting</STRONG> : <A HREF="node37.html#3622">11.2.3</A><DD><STRONG>inverting</STRONG> : <A HREF="node38.html#3652">11.3.1</A><DD><STRONG>Marching Ants</STRONG> : <A HREF="node36.html#3381">11.1.1.1</A><DD><STRONG>moving, boundaries</STRONG> : <A HREF="node37.html#3638">11.2.5</A><DD><STRONG>positioning</STRONG> : <A HREF="node40.html#4040">11.5.4</A><DD><STRONG>refining with masks</STRONG> : <A HREF="node47.html#5725">12.5.1</A><DD><STRONG>saving to channel masks</STRONG> : <A HREF="node38.html#3739">11.3.10</A> | <A HREF="node43.html#5206">12.1.2</A><DD><STRONG>sharpening</STRONG> : <A HREF="node38.html#3687">11.3.6</A><DD><STRONG>shrinking</STRONG> : <A HREF="node38.html#3696">11.3.7</A><DD><STRONG>Stroke function</STRONG> : <A HREF="node38.html#3843">11.3.15</A><DD><STRONG>subtracting</STRONG> : <A HREF="node37.html#3616">11.2.2</A><DD><STRONG>Toggle Selection function</STRONG> : <A HREF="node38.html#3804">11.3.13</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node41.html#4055">11.6</A><DD><STRONG>types of</STRONG> : <A HREF="node36.html#3338">11.1</A><DD><STRONG>zoom view</STRONG> : <A HREF="node40.html#4015">11.5.3</A></DL><DD><STRONG>Semi-Flatten plug-in</STRONG> : <A HREF="node85.html#13589">17.6</A><DD><STRONG>semi-transparency and indexed images</STRONG> : <A HREF="node85.html#13582">17.6</A><DD><STRONG>Set Canvas Size dialog</STRONG> : <A HREF="node32.html#2234">10.6.2.2</A><DD><STRONG>Settings (ImageMap) dialog</STRONG> : <A HREF="node81.html#13326">17.2</A><DD><STRONG>shadows</STRONG> : <A HREF="node75.html#12016">16.4</A><DL><DD><STRONG>creating with the Multiply blending mode</STRONG> : <A HREF="node57.html#7604">13.8.2</A><DD><STRONG>drop shadows</STRONG> : <A HREF="node75.html#12033">16.4</A><DD><STRONG>finding</STRONG> : <A HREF="node61.html#9002">14.2.3</A><DD><STRONG>punchouts</STRONG> : <A HREF="node75.html#12075">16.4</A><DD><STRONG>tonal range</STRONG> : <A HREF="node60.html#8762">14.1</A> | <A HREF="node60.html#8766">14.1.1</A><DD><STRONG>uses for blending modes</STRONG> : <A HREF="node57.html#7574">13.8.2</A></DL><DD><STRONG>shapeburst gradients</STRONG> : <A HREF="node73.html#11842">16.2</A><DD><STRONG>sharefonts collection</STRONG> : <A HREF="node12.html#422">8.4.4</A><DD><STRONG>Sharpen function, selections</STRONG> : <A HREF="node38.html#3685">11.3.6</A> | <A HREF="node89.html#14457">20</A><DD><STRONG>sharpening</STRONG><DL><DD><STRONG>images</STRONG> : <A HREF="node63.html#9252">14.4</A> | <A HREF="node63.html#9262">14.4.1</A><DD><STRONG>selections</STRONG> : <A HREF="node38.html#3688">11.3.6</A></DL><DD><STRONG>Shear Information dialog</STRONG> : <A HREF="node32.html#2455">10.6.5.3</A><DD><STRONG>shearing layers</STRONG> : <A HREF="node32.html#2446">10.6.5.3</A><DD><STRONG>shortcuts, keyboard</STRONG> : <A HREF="node89.html#14383">20</A><DD><STRONG>Shrink function</STRONG> : <A HREF="node38.html#3694">11.3.7</A><DD><STRONG>Shrink Wrap function</STRONG> : <A HREF="node23.html#1212">9.8.1</A> | <A HREF="node89.html#14437">20</A><DD><STRONG>shrinking selections</STRONG> : <A HREF="node38.html#3697">11.3.7</A><DD><STRONG>Smudge tool</STRONG> : <A HREF="node11.html#354">8.3</A> | <A HREF="node45.html#5447">12.3.1</A> | <A HREF="node89.html#14422">20</A><DD><STRONG>snapping property of guides</STRONG> : <A HREF="node32.html#2149">10.6.1.2</A><DD><STRONG>Spread filter</STRONG> : <A HREF="node45.html#5699">12.3.5</A><DD><STRONG>square selections</STRONG> : <A HREF="node36.html#3383">11.1.1.1</A><DD><STRONG>status bar</STRONG> : <A HREF="node16.html#889">9.1.2</A><DD><STRONG>stencils, Carved Stencil project</STRONG> : <A HREF="node77.html#12226">16.6</A><DD><STRONG>Stroke function</STRONG> : <A HREF="node38.html#3842">11.3.15</A><DD><STRONG>Subtract blending mode</STRONG> : <A HREF="node55.html#7265">13.6.2</A><DD><STRONG>Subtract From Selection function</STRONG> : <A HREF="node43.html#5283">12.1.5</A><DD><STRONG>subtracting selections</STRONG> : <A HREF="node37.html#3615">11.2.2</A><DD><STRONG>SuperNova filter</STRONG> : <A HREF="node80.html#13243">17.1.4</A><DD><STRONG>Swap Colors tool</STRONG> : <A HREF="node11.html#356">8.3</A> | <A HREF="node16.html#946">9.1.4</A> | <A HREF="node89.html#14423">20</A><DD><STRONG>switching background and foreground colors</STRONG> : <A HREF="node16.html#947">9.1.4</A><DD><STRONG>system requirements</STRONG> : <A HREF="node12.html#370">8.4</A><DL><DD><STRONG>fonts</STRONG> : <A HREF="node12.html#416">8.4.4</A><DD><STRONG>RAM</STRONG> : <A HREF="node12.html#378">8.4.1</A><DD><STRONG>video RAM</STRONG> : <A HREF="node12.html#386">8.4.2</A></DL><DD><STRONG>text</STRONG><DL><DD><STRONG>Chiseled Text project</STRONG> : <A HREF="node78.html#12298">16.7</A></DL><DD><STRONG>Text tool</STRONG> : <A HREF="node11.html#350">8.3</A> | <A HREF="node12.html#418">8.4.4</A> | <A HREF="node89.html#14424">20</A><DD><STRONG>Threshold Option (Tool Options dialog)</STRONG> : <A HREF="node36.html#3592">11.1.2.4</A><DD><STRONG>Threshold tool</STRONG><DL><DD><STRONG>compared to Magic Wand</STRONG> : <A HREF="node47.html#5931">12.5.3.2</A><DD><STRONG>finding shadows/midtones/highlights</STRONG> : <A HREF="node61.html#9003">14.2.3</A><DD><STRONG>finding the natural mask</STRONG> : <A HREF="node47.html#5827">12.5.3</A><DD><STRONG>improving contrast</STRONG> : <A HREF="node61.html#9073">14.2.6</A></DL><DD><STRONG>Through the Looking Glass project</STRONG> : <A HREF="node67.html#10468">15.2</A><DD><STRONG>Tile plug-in</STRONG> : <A HREF="node83.html#13440">17.4</A><DD><STRONG>tileable backgrounds in Web pages</STRONG> : <A HREF="node83.html#13423">17.4</A><DD><STRONG>timing information (for animations)</STRONG> : <A HREF="node80.html#13138">17.1.2</A><DD><STRONG>title of Bezier path, changing</STRONG> : <A HREF="node39.html#3882">11.4.1</A><DD><STRONG>To Path function</STRONG> : <A HREF="node38.html#3785">11.3.12</A><DD><STRONG>Toggle Guides function</STRONG> : <A HREF="node32.html#2165">10.6.1.2</A> | <A HREF="node89.html#14438">20</A><DD><STRONG>Toggle Rulers function</STRONG> : <A HREF="node16.html#892">9.1.2</A> | <A HREF="node89.html#14439">20</A><DD><STRONG>Toggle Selection function</STRONG> : <A HREF="node38.html#3803">11.3.13</A> | <A HREF="node89.html#14440">20</A><DD><STRONG>Toggle Statusbar function</STRONG> : <A HREF="node16.html#894">9.1.2</A> | <A HREF="node89.html#14441">20</A><DD><STRONG>tonal range</STRONG> : <A HREF="node60.html#8763">14.1</A><DL><DD><STRONG>case study</STRONG> : <A HREF="node64.html#9367">14.5</A><DD><STRONG>highlights and shadows</STRONG> : <A HREF="node60.html#8767">14.1.1</A><DD><STRONG>levels tool</STRONG> : <A HREF="node60.html#8796">14.1.2</A></DL><DD><STRONG>Tool Options dialog</STRONG> : <A HREF="node16.html#854">9.1.1</A> | <A HREF="node36.html#3441">11.1.1.3</A> | <A HREF="node45.html#5525">12.3.3</A> | <A HREF="node47.html#5768">12.5.1</A> | <A HREF="node67.html#10528">15.2</A> | <A HREF="node68.html#10700">15.3</A><DD><STRONG>Toolbox Functions, keyboard shortcuts</STRONG> : <A HREF="node89.html#14395">20</A><DD><STRONG>Toolbox window</STRONG> : <A HREF="node16.html#841">9.1.1</A><DD><STRONG>touching up photos</STRONG> : <A HREF="node59.html#8750">14</A><DD><STRONG>Transform tool</STRONG> : <A HREF="node11.html#332">8.3</A> | <A HREF="node32.html#2273">10.6.2.3</A> | <A HREF="node32.html#2377">10.6.5</A> | <A HREF="node89.html#14425">20</A><DD><STRONG>transparency</STRONG> : <A HREF="node56.html#7490">13.7</A><DL><DD><STRONG>channel masks, setting</STRONG> : <A HREF="node43.html#5242">12.1.4</A><DD><STRONG>editing masks</STRONG> : <A HREF="node45.html#5611">12.3.4</A><DD><STRONG>semi-transparency and indexed images</STRONG> : <A HREF="node85.html#13583">17.6</A><DD><STRONG>troubleshooting</STRONG> : <A HREF="node34.html#2510">10.8</A></DL><DD><STRONG>troubleshooting</STRONG><DL><DD><STRONG>blending modes</STRONG> : <A HREF="node58.html#7619">13.9</A><DD><STRONG>colorspaces</STRONG> : <A HREF="node58.html#7621">13.9</A><DD><STRONG>layers</STRONG> : <A HREF="node34.html#2506">10.8</A><DD><STRONG>masks</STRONG> : <A HREF="node48.html#5976">12.6</A><DD><STRONG>plug-in filters</STRONG> : <A HREF="node25.html#1277">9.10</A><DD><STRONG>saving images</STRONG> : <A HREF="node25.html#1281">9.10</A><DD><STRONG>selections</STRONG> : <A HREF="node41.html#4056">11.6</A></DL><DD><STRONG>type effects</STRONG> : <A HREF="node82.html#13383">17.3</A><DD><STRONG>Undo function</STRONG> : <A HREF="node20.html#1089">9.5</A> | <A HREF="node89.html#14486">20</A><DD><STRONG>Undo History function</STRONG> : <A HREF="node20.html#1108">9.5</A><DD><STRONG>unions, adding selections</STRONG> : <A HREF="node37.html#3604">11.2.1</A><DD><STRONG>Unsharp Mask</STRONG> : <A HREF="node63.html#9263">14.4.1</A><DD><STRONG>value</STRONG> : <A HREF="node52.html#7083">13.3</A><DD><STRONG>Value blending mode</STRONG> : <A HREF="node55.html#7430">13.6.5</A><DD><STRONG>Value channel</STRONG><DL><DD><STRONG>improving contrast</STRONG> : <A HREF="node61.html#9077">14.2.6</A></DL><DD><STRONG>video RAM requirements</STRONG> : <A HREF="node12.html#384">8.4.2</A><DD><STRONG>View Menu functions, keyboard shortcuts</STRONG> : <A HREF="node89.html#14431">20</A><DD><STRONG>views, New View function</STRONG> : <A HREF="node23.html#1240">9.8.2</A><DD><STRONG>visibility</STRONG><DL><DD><STRONG>channel masks</STRONG> : <A HREF="node43.html#5196">12.1.1</A><DD><STRONG>image layer with layer mask</STRONG> : <A HREF="node44.html#5397">12.2.2</A><DD><STRONG>layer masks</STRONG> : <A HREF="node44.html#5407">12.2.2</A><DD><STRONG>layers</STRONG> : <A HREF="node27.html#1905">10.1.1</A></DL><DD><STRONG>VisiBone2 palette</STRONG> : <A HREF="node84.html#13522">17.5.2</A><DD><STRONG>warping images (Iwarp filter)</STRONG> : <A HREF="node80.html#13278">17.1.6</A><DD><STRONG>Waves filter</STRONG> : <A HREF="node45.html#5677">12.3.5</A><DD><STRONG>Web mirroring software</STRONG> : <A HREF="node13.html#459">8.5</A><DD><STRONG>Web pages</STRONG><DL><DD><STRONG>animations</STRONG> : <A HREF="node80.html#13117">17.1</A><DD><STRONG>clickable image maps</STRONG> : <A HREF="node81.html#13302">17.2</A><DD><STRONG>colors</STRONG> : <A HREF="node84.html#13450">17.5</A><DD><DL><DD><STRONG>converting to indexed</STRONG> : <A HREF="node84.html#13533">17.5.3</A><DD><STRONG>types of distortion</STRONG> : <A HREF="node84.html#13460">17.5.1</A><DD><STRONG>Web safe</STRONG> : <A HREF="node84.html#13507">17.5.2</A></DL><DD><STRONG>GIF format</STRONG> : <A HREF="node86.html#13629">17.7</A><DD><STRONG>semi-transparency of image</STRONG> : <A HREF="node85.html#13584">17.6</A><DD><STRONG>tileable backgrounds</STRONG> : <A HREF="node83.html#13424">17.4</A><DD><STRONG>type effects</STRONG> : <A HREF="node82.html#13384">17.3</A></DL><DD><STRONG>Web sites</STRONG><DL><DD><STRONG>digital image sources</STRONG> : <A HREF="node13.html#449">8.5</A><DD><STRONG>GIMP</STRONG> : <A HREF="node88.html#14351">19</A><DD><STRONG>GIMP News</STRONG> : <A HREF="node88.html#14360">19</A></DL><DD><STRONG>Web-safe color palette</STRONG> : <A HREF="node84.html#13451">17.5</A><DD><STRONG>Window Info dialog</STRONG> : <A HREF="node16.html#884">9.1.2</A> | <A HREF="node61.html#8988">14.2.2</A> | <A HREF="node89.html#14435">20</A><DD><STRONG>windows</STRONG><DL><DD><STRONG>help browser</STRONG> : <A HREF="node24.html#1260">9.9</A><DD><STRONG>image window</STRONG> : <A HREF="node16.html#864">9.1.2</A><DD><STRONG>Layers &amp; Channels dialog</STRONG> : <A HREF="node16.html#915">9.1.3</A><DD><STRONG>Navigation Window</STRONG> : <A HREF="node23.html#1221">9.8.1</A><DD><STRONG>opening menus as</STRONG> : <A HREF="node16.html#901">9.1.2</A><DD><STRONG>panner window</STRONG> : <A HREF="node16.html#906">9.1.2</A><DD><STRONG>Toolbox window</STRONG> : <A HREF="node16.html#842">9.1.1</A></DL><DD><STRONG>XCF file format</STRONG> : <A HREF="node17.html#1050">9.2</A> | <A HREF="node25.html#1282">9.10</A> | <A HREF="node34.html#2528">10.8</A><DD><STRONG>Xinput Airbrush tool</STRONG> : <A HREF="node11.html#337">8.3</A> | <A HREF="node89.html#14426">20</A><DD><STRONG>Zoom In function</STRONG> : <A HREF="node23.html#1204">9.8.1</A> | <A HREF="node89.html#14442">20</A><DD><STRONG>Zoom Out function</STRONG> : <A HREF="node23.html#1205">9.8.1</A> | <A HREF="node89.html#14443">20</A><DD><STRONG>Zoom tool</STRONG> : <A HREF="node11.html#340">8.3</A> | <A HREF="node23.html#1191">9.8.1</A> | <A HREF="node40.html#4014">11.5.3</A> | <A HREF="node47.html#5742">12.5.1</A> | <A HREF="node89.html#14417">20</A><DD><STRONG>zoomed images</STRONG><DL><DD><STRONG>panning in</STRONG> : <A HREF="node23.html#1217">9.8.1</A><DD><STRONG>using with New View function</STRONG> : <A HREF="node23.html#1239">9.8.2</A></DL></DL><P><HR></body></html>
